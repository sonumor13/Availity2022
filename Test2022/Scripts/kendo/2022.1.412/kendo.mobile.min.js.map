{"version":3,"file":"kendo.mobile.min.js","sources":["kendo.mobile.js"],"sourcesContent":["(function(f, define){\n    define('kendo.core',['jquery'], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"core\",\n    name: \"Core\",\n    category: \"framework\",\n    description: \"The core of the Kendo framework.\"\n};\n\n/*jshint eqnull: true, loopfunc: true, evil: true, boss: true, freeze: false*/\n(function($, window, undefined) {\n    var kendo = window.kendo = window.kendo || { cultures: {} },\n        extend = $.extend,\n        each = $.each,\n        isArray = Array.isArray,\n        noop = $.noop,\n        math = Math,\n        Template,\n        JSON = window.JSON || {},\n        support = {},\n        percentRegExp = /%/,\n        formatRegExp = /\\{(\\d+)(:[^\\}]+)?\\}/g,\n        boxShadowRegExp = /(\\d+(?:\\.?)\\d*)px\\s*(\\d+(?:\\.?)\\d*)px\\s*(\\d+(?:\\.?)\\d*)px\\s*(\\d+)?/i,\n        numberRegExp = /^(\\+|-?)\\d+(\\.?)\\d*$/,\n        FUNCTION = \"function\",\n        STRING = \"string\",\n        NUMBER = \"number\",\n        OBJECT = \"object\",\n        NULL = \"null\",\n        BOOLEAN = \"boolean\",\n        UNDEFINED = \"undefined\",\n        PREFIX = \"prefix\",\n        ARIA_LABELLEDBY = \"aria-labelledby\",\n        ARIA_LABEL = \"aria-label\",\n        LABELIDPART = \"_label\",\n        getterCache = {},\n        setterCache = {},\n        slice = [].slice,\n        cssPropertiesNames = [ \"themeColor\", \"fillMode\", \"shape\", \"size\", \"rounded\", \"positionMode\" ],\n        // avoid extending the depricated properties in latest verions of jQuery\n        noDepricateExtend = function() {\n            var src, copyIsArray, copy, name, options, clone,\n                target = arguments[ 0 ] || {},\n                i = 1,\n                length = arguments.length,\n                deep = false;\n\n            // Handle a deep copy situation\n            if ( typeof target === \"boolean\" ) {\n                deep = target;\n\n                // skip the boolean and the target\n                target = arguments[ i ] || {};\n                i++;\n            }\n\n            // Handle case when target is a string or something (possible in deep copy)\n            if ( typeof target !== \"object\" && typeof target !== \"function\") {\n                target = {};\n            }\n\n            // extend jQuery itself if only one argument is passed\n            if ( i === length ) {\n                target = this;\n                i--;\n            }\n\n            for ( ; i < length; i++ ) {\n\n                // Only deal with non-null/undefined values\n                if ( ( options = arguments[ i ] ) != null ) {\n\n                    // Extend the base object\n                    for ( name in options ) {\n                        // filters, concat and : properties are depricated in the jQuery 3.3.0\n                        // accessing these properties throw a warning when jQuery migrate is included\n                        if (name == \"filters\" || name == \"concat\" || name == \":\") {\n                            continue;\n                        }\n                        src = target[ name ];\n                        copy = options[ name ];\n\n                        // Prevent never-ending loop\n                        if ( target === copy ) {\n                            continue;\n                        }\n\n                        // Recurse if we're merging plain objects or arrays\n                        if ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n                            ( copyIsArray = Array.isArray( copy ) ) ) ) {\n\n                            if ( copyIsArray ) {\n                                copyIsArray = false;\n                                clone = src && Array.isArray( src ) ? src : [];\n\n                            } else {\n                                clone = src && jQuery.isPlainObject( src ) ? src : {};\n                            }\n\n                            // Never move original objects, clone them\n                            target[ name ] = noDepricateExtend( deep, clone, copy );\n\n                        // Don't bring in undefined values\n                        } else if ( copy !== undefined ) {\n                            target[ name ] = copy;\n                        }\n                    }\n                }\n            }\n\n            // Return the modified object\n            return target;\n        };\n\n    kendo.version = \"2022.1.412\".replace(/^\\s+|\\s+$/g, '');\n\n    function Class() {}\n\n    Class.extend = function(proto) {\n        var base = function() {},\n            member,\n            that = this,\n            subclass = proto && proto.init ? proto.init : function () {\n                that.apply(this, arguments);\n            },\n            fn;\n\n        base.prototype = that.prototype;\n        fn = subclass.fn = subclass.prototype = new base();\n\n        for (member in proto) {\n            if (proto[member] != null && proto[member].constructor === Object) {\n                // Merge object members\n                fn[member] = extend(true, {}, base.prototype[member], proto[member]);\n            } else {\n                fn[member] = proto[member];\n            }\n        }\n\n        fn.constructor = subclass;\n        subclass.extend = that.extend;\n\n        return subclass;\n    };\n\n    Class.prototype._initOptions = function(options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    var isFunction = kendo.isFunction = function(fn) {\n        return typeof fn === \"function\";\n    };\n\n    var preventDefault = function() {\n        this._defaultPrevented = true;\n    };\n\n    var isDefaultPrevented = function() {\n        return this._defaultPrevented === true;\n    };\n\n    var Observable = Class.extend({\n        init: function() {\n            this._events = {};\n        },\n\n        bind: function(eventName, handlers, one) {\n            var that = this,\n                idx,\n                eventNames = typeof eventName === STRING ? [eventName] : eventName,\n                length,\n                original,\n                handler,\n                handlersIsFunction = typeof handlers === FUNCTION,\n                events;\n\n            if (handlers === undefined) {\n                for (idx in eventName) {\n                    that.bind(idx, eventName[idx]);\n                }\n                return that;\n            }\n\n            for (idx = 0, length = eventNames.length; idx < length; idx++) {\n                eventName = eventNames[idx];\n\n                handler = handlersIsFunction ? handlers : handlers[eventName];\n\n                if (handler) {\n                    if (one) {\n                        original = handler;\n                        handler = function() {\n                            that.unbind(eventName, handler);\n                            original.apply(that, arguments);\n                        };\n                        handler.original = original;\n                    }\n                    events = that._events[eventName] = that._events[eventName] || [];\n                    events.push(handler);\n                }\n            }\n\n            return that;\n        },\n\n        one: function(eventNames, handlers) {\n            return this.bind(eventNames, handlers, true);\n        },\n\n        first: function(eventName, handlers) {\n            var that = this,\n                idx,\n                eventNames = typeof eventName === STRING ? [eventName] : eventName,\n                length,\n                handler,\n                handlersIsFunction = typeof handlers === FUNCTION,\n                events;\n\n            for (idx = 0, length = eventNames.length; idx < length; idx++) {\n                eventName = eventNames[idx];\n\n                handler = handlersIsFunction ? handlers : handlers[eventName];\n\n                if (handler) {\n                    events = that._events[eventName] = that._events[eventName] || [];\n                    events.unshift(handler);\n                }\n            }\n\n            return that;\n        },\n\n        trigger: function(eventName, e) {\n            var that = this,\n                events = that._events[eventName],\n                idx,\n                length;\n\n            if (events) {\n                e = e || {};\n\n                e.sender = that;\n\n                e._defaultPrevented = false;\n\n                e.preventDefault = preventDefault;\n\n                e.isDefaultPrevented = isDefaultPrevented;\n\n                events = events.slice();\n\n                for (idx = 0, length = events.length; idx < length; idx++) {\n                    events[idx].call(that, e);\n                }\n\n                return e._defaultPrevented === true;\n            }\n\n            return false;\n        },\n\n        unbind: function(eventName, handler) {\n            var that = this,\n                events = that._events[eventName],\n                idx;\n\n            if (eventName === undefined) {\n                that._events = {};\n            } else if (events) {\n                if (handler) {\n                    for (idx = events.length - 1; idx >= 0; idx--) {\n                        if (events[idx] === handler || events[idx].original === handler) {\n                            events.splice(idx, 1);\n                        }\n                    }\n                } else {\n                    that._events[eventName] = [];\n                }\n            }\n\n            return that;\n        }\n    });\n\n\n     function compilePart(part, stringPart) {\n         if (stringPart) {\n             return \"'\" +\n                 part.split(\"'\").join(\"\\\\'\")\n                     .split('\\\\\"').join('\\\\\\\\\\\\\"')\n                     .replace(/\\n/g, \"\\\\n\")\n                     .replace(/\\r/g, \"\\\\r\")\n                     .replace(/\\t/g, \"\\\\t\") + \"'\";\n         } else {\n             var first = part.charAt(0),\n                 rest = part.substring(1);\n\n             if (first === \"=\") {\n                 return \"+(\" + rest + \")+\";\n             } else if (first === \":\") {\n                 return \"+$kendoHtmlEncode(\" + rest + \")+\";\n             } else {\n                 return \";\" + part + \";$kendoOutput+=\";\n             }\n         }\n     }\n\n    var argumentNameRegExp = /^\\w+/,\n        encodeRegExp = /\\$\\{([^}]*)\\}/g,\n        escapedCurlyRegExp = /\\\\\\}/g,\n        curlyRegExp = /__CURLY__/g,\n        escapedSharpRegExp = /\\\\#/g,\n        sharpRegExp = /__SHARP__/g,\n        zeros = [\"\", \"0\", \"00\", \"000\", \"0000\"];\n\n    Template = {\n        paramName: \"data\", // name of the parameter of the generated template\n        useWithBlock: true, // whether to wrap the template in a with() block\n        render: function(template, data) {\n            var idx,\n                length,\n                html = \"\";\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                html += template(data[idx]);\n            }\n\n            return html;\n        },\n        compile: function(template, options) {\n            var settings = extend({}, this, options),\n                paramName = settings.paramName,\n                argumentName = paramName.match(argumentNameRegExp)[0],\n                useWithBlock = settings.useWithBlock,\n                functionBody = \"var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;\",\n                fn,\n                parts,\n                idx;\n\n            if (isFunction(template)) {\n                return template;\n            }\n\n            functionBody += useWithBlock ? \"with(\" + paramName + \"){\" : \"\";\n\n            functionBody += \"$kendoOutput=\";\n\n            parts = template\n                .replace(escapedCurlyRegExp, \"__CURLY__\")\n                .replace(encodeRegExp, \"#=$kendoHtmlEncode($1)#\")\n                .replace(curlyRegExp, \"}\")\n                .replace(escapedSharpRegExp, \"__SHARP__\")\n                .split(\"#\");\n\n            for (idx = 0; idx < parts.length; idx ++) {\n                functionBody += compilePart(parts[idx], idx % 2 === 0);\n            }\n\n            functionBody += useWithBlock ? \";}\" : \";\";\n\n            functionBody += \"return $kendoOutput;\";\n\n            functionBody = functionBody.replace(sharpRegExp, \"#\");\n\n            try {\n                fn = new Function(argumentName, functionBody);\n                fn._slotCount = Math.floor(parts.length / 2);\n                return fn;\n            } catch(e) {\n                throw new Error(kendo.format(\"Invalid template:'{0}' Generated code:'{1}'\", template, functionBody));\n            }\n        }\n    };\n\nfunction pad(number, digits, end) {\n    number = number + \"\";\n    digits = digits || 2;\n    end = digits - number.length;\n\n    if (end) {\n        return zeros[digits].substring(0, end) + number;\n    }\n\n    return number;\n}\n\n    //JSON stringify\n(function() {\n    var escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {\n            \"\\b\": \"\\\\b\",\n            \"\\t\": \"\\\\t\",\n            \"\\n\": \"\\\\n\",\n            \"\\f\": \"\\\\f\",\n            \"\\r\": \"\\\\r\",\n            \"\\\"\" : '\\\\\"',\n            \"\\\\\": \"\\\\\\\\\"\n        },\n        rep,\n        toString = {}.toString;\n\n\n    if (typeof Date.prototype.toJSON !== FUNCTION) {\n\n        Date.prototype.toJSON = function () {\n            var that = this;\n\n            return isFinite(that.valueOf()) ?\n                pad(that.getUTCFullYear(), 4) + \"-\" +\n                pad(that.getUTCMonth() + 1)   + \"-\" +\n                pad(that.getUTCDate())        + \"T\" +\n                pad(that.getUTCHours())       + \":\" +\n                pad(that.getUTCMinutes())     + \":\" +\n                pad(that.getUTCSeconds())     + \"Z\" : null;\n        };\n\n        String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function () {\n            return this.valueOf();\n        };\n    }\n\n    function quote(string) {\n        escapable.lastIndex = 0;\n        return escapable.test(string) ? \"\\\"\" + string.replace(escapable, function (a) {\n            var c = meta[a];\n            return typeof c === STRING ? c :\n                \"\\\\u\" + (\"0000\" + a.charCodeAt(0).toString(16)).slice(-4);\n        }) + \"\\\"\" : \"\\\"\" + string + \"\\\"\";\n    }\n\n    function str(key, holder) {\n        var i,\n            k,\n            v,\n            length,\n            mind = gap,\n            partial,\n            value = holder[key],\n            type;\n\n        if (value && typeof value === OBJECT && typeof value.toJSON === FUNCTION) {\n            value = value.toJSON(key);\n        }\n\n        if (typeof rep === FUNCTION) {\n            value = rep.call(holder, key, value);\n        }\n\n        type = typeof value;\n        if (type === STRING) {\n            return quote(value);\n        } else if (type === NUMBER) {\n            return isFinite(value) ? String(value) : NULL;\n        } else if (type === BOOLEAN || type === NULL) {\n            return String(value);\n        } else if (type === OBJECT) {\n            if (!value) {\n                return NULL;\n            }\n            gap += indent;\n            partial = [];\n            if (toString.apply(value) === \"[object Array]\") {\n                length = value.length;\n                for (i = 0; i < length; i++) {\n                    partial[i] = str(i, value) || NULL;\n                }\n                v = partial.length === 0 ? \"[]\" : gap ?\n                    \"[\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"]\" :\n                    \"[\" + partial.join(\",\") + \"]\";\n                gap = mind;\n                return v;\n            }\n            if (rep && typeof rep === OBJECT) {\n                length = rep.length;\n                for (i = 0; i < length; i++) {\n                    if (typeof rep[i] === STRING) {\n                        k = rep[i];\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? \": \" : \":\") + v);\n                        }\n                    }\n                }\n            } else {\n                for (k in value) {\n                    if (Object.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? \": \" : \":\") + v);\n                        }\n                    }\n                }\n            }\n\n            v = partial.length === 0 ? \"{}\" : gap ?\n                \"{\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"}\" :\n                \"{\" + partial.join(\",\") + \"}\";\n            gap = mind;\n            return v;\n        }\n    }\n\n    if (typeof JSON.stringify !== FUNCTION) {\n        JSON.stringify = function (value, replacer, space) {\n            var i;\n            gap = \"\";\n            indent = \"\";\n\n            if (typeof space === NUMBER) {\n                for (i = 0; i < space; i += 1) {\n                    indent += \" \";\n                }\n\n            } else if (typeof space === STRING) {\n                indent = space;\n            }\n\n            rep = replacer;\n            if (replacer && typeof replacer !== FUNCTION && (typeof replacer !== OBJECT || typeof replacer.length !== NUMBER)) {\n                throw new Error(\"JSON.stringify\");\n            }\n\n            return str(\"\", {\"\": value});\n        };\n    }\n})();\n\n// Date and Number formatting\n(function() {\n    var dateFormatRegExp = /dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|\"[^\"]*\"|'[^']*'/g,\n        standardFormatRegExp =  /^(n|c|p|e)(\\d*)$/i,\n        literalRegExp = /(\\\\.)|(['][^']*[']?)|([\"][^\"]*[\"]?)/g,\n        commaRegExp = /\\,/g,\n        EMPTY = \"\",\n        POINT = \".\",\n        COMMA = \",\",\n        SHARP = \"#\",\n        ZERO = \"0\",\n        PLACEHOLDER = \"??\",\n        EN = \"en-US\",\n        objectToString = {}.toString;\n\n    //cultures\n    kendo.cultures[\"en-US\"] = {\n        name: EN,\n        numberFormat: {\n            pattern: [\"-n\"],\n            decimals: 2,\n            \",\": \",\",\n            \".\": \".\",\n            groupSize: [3],\n            percent: {\n                pattern: [\"-n %\", \"n %\"],\n                decimals: 2,\n                \",\": \",\",\n                \".\": \".\",\n                groupSize: [3],\n                symbol: \"%\"\n            },\n            currency: {\n                name: \"US Dollar\",\n                abbr: \"USD\",\n                pattern: [\"($n)\", \"$n\"],\n                decimals: 2,\n                \",\": \",\",\n                \".\": \".\",\n                groupSize: [3],\n                symbol: \"$\"\n            }\n        },\n        calendars: {\n            standard: {\n                days: {\n                    names: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n                    namesAbbr: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n                    namesShort: [ \"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\" ]\n                },\n                months: {\n                    names: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n                    namesAbbr: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n                },\n                AM: [ \"AM\", \"am\", \"AM\" ],\n                PM: [ \"PM\", \"pm\", \"PM\" ],\n                patterns: {\n                    d: \"M/d/yyyy\",\n                    D: \"dddd, MMMM dd, yyyy\",\n                    F: \"dddd, MMMM dd, yyyy h:mm:ss tt\",\n                    g: \"M/d/yyyy h:mm tt\",\n                    G: \"M/d/yyyy h:mm:ss tt\",\n                    m: \"MMMM dd\",\n                    M: \"MMMM dd\",\n                    s: \"yyyy'-'MM'-'ddTHH':'mm':'ss\",\n                    t: \"h:mm tt\",\n                    T: \"h:mm:ss tt\",\n                    u: \"yyyy'-'MM'-'dd HH':'mm':'ss'Z'\",\n                    y: \"MMMM, yyyy\",\n                    Y: \"MMMM, yyyy\"\n                },\n                \"/\": \"/\",\n                \":\": \":\",\n                firstDay: 0,\n                twoDigitYearMax: 2029\n            }\n        }\n    };\n\n\n     function findCulture(culture) {\n        if (culture) {\n            if (culture.numberFormat) {\n                return culture;\n            }\n\n            if (typeof culture === STRING) {\n                var cultures = kendo.cultures;\n                return cultures[culture] || cultures[culture.split(\"-\")[0]] || null;\n            }\n\n            return null;\n        }\n\n        return null;\n    }\n\n    function getCulture(culture) {\n        if (culture) {\n            culture = findCulture(culture);\n        }\n\n        return culture || kendo.cultures.current;\n    }\n\n    kendo.culture = function(cultureName) {\n        var cultures = kendo.cultures, culture;\n\n        if (cultureName !== undefined) {\n            culture = findCulture(cultureName) || cultures[EN];\n            culture.calendar = culture.calendars.standard;\n            cultures.current = culture;\n        } else {\n            return cultures.current;\n        }\n    };\n\n    kendo.findCulture = findCulture;\n    kendo.getCulture = getCulture;\n\n    //set current culture to en-US.\n    kendo.culture(EN);\n\n    function formatDate(date, format, culture) {\n        culture = getCulture(culture);\n\n        var calendar = culture.calendars.standard,\n            days = calendar.days,\n            months = calendar.months;\n\n        format = calendar.patterns[format] || format;\n\n        return format.replace(dateFormatRegExp, function (match) {\n            var minutes;\n            var result;\n            var sign;\n\n            if (match === \"d\") {\n                result = date.getDate();\n            } else if (match === \"dd\") {\n                result = pad(date.getDate());\n            } else if (match === \"ddd\") {\n                result = days.namesAbbr[date.getDay()];\n            } else if (match === \"dddd\") {\n                result = days.names[date.getDay()];\n            } else if (match === \"M\") {\n                result = date.getMonth() + 1;\n            } else if (match === \"MM\") {\n                result = pad(date.getMonth() + 1);\n            } else if (match === \"MMM\") {\n                result = months.namesAbbr[date.getMonth()];\n            } else if (match === \"MMMM\") {\n                result = months.names[date.getMonth()];\n            } else if (match === \"yy\") {\n                result = pad(date.getFullYear() % 100);\n            } else if (match === \"yyyy\") {\n                result = pad(date.getFullYear(), 4);\n            } else if (match === \"h\" ) {\n                result = date.getHours() % 12 || 12;\n            } else if (match === \"hh\") {\n                result = pad(date.getHours() % 12 || 12);\n            } else if (match === \"H\") {\n                result = date.getHours();\n            } else if (match === \"HH\") {\n                result = pad(date.getHours());\n            } else if (match === \"m\") {\n                result = date.getMinutes();\n            } else if (match === \"mm\") {\n                result = pad(date.getMinutes());\n            } else if (match === \"s\") {\n                result = date.getSeconds();\n            } else if (match === \"ss\") {\n                result = pad(date.getSeconds());\n            } else if (match === \"f\") {\n                result = math.floor(date.getMilliseconds() / 100);\n            } else if (match === \"ff\") {\n                result = date.getMilliseconds();\n                if (result > 99) {\n                    result = math.floor(result / 10);\n                }\n                result = pad(result);\n            } else if (match === \"fff\") {\n                result = pad(date.getMilliseconds(), 3);\n            } else if (match === \"tt\") {\n                result = date.getHours() < 12 ? calendar.AM[0] : calendar.PM[0];\n            } else if (match === \"zzz\") {\n                minutes = date.getTimezoneOffset();\n                sign = minutes < 0;\n\n                result = math.abs(minutes / 60).toString().split(\".\")[0];\n                minutes = math.abs(minutes) - (result * 60);\n\n                result = (sign ? \"+\" : \"-\") + pad(result);\n                result += \":\" + pad(minutes);\n            } else if (match === \"zz\" || match === \"z\") {\n                result = date.getTimezoneOffset() / 60;\n                sign = result < 0;\n\n                result = math.abs(result).toString().split(\".\")[0];\n                result = (sign ? \"+\" : \"-\") + (match === \"zz\" ? pad(result) : result);\n            }\n\n            return result !== undefined ? result : match.slice(1, match.length - 1);\n        });\n    }\n\n    //number formatting\n    function formatNumber(number, format, culture) {\n        culture = getCulture(culture);\n\n        var numberFormat = culture.numberFormat,\n            decimal = numberFormat[POINT],\n            precision = numberFormat.decimals,\n            pattern = numberFormat.pattern[0],\n            literals = [],\n            symbol,\n            isCurrency, isPercent,\n            customPrecision,\n            formatAndPrecision,\n            negative = number < 0,\n            integer,\n            fraction,\n            integerLength,\n            fractionLength,\n            replacement = EMPTY,\n            value = EMPTY,\n            idx,\n            length,\n            ch,\n            hasGroup,\n            hasNegativeFormat,\n            decimalIndex,\n            sharpIndex,\n            zeroIndex,\n            hasZero, hasSharp,\n            percentIndex,\n            currencyIndex,\n            startZeroIndex,\n            start = -1,\n            end;\n\n        //return empty string if no number\n        if (number === undefined) {\n            return EMPTY;\n        }\n\n        if (!isFinite(number)) {\n            return number;\n        }\n\n        //if no format then return number.toString() or number.toLocaleString() if culture.name is not defined\n        if (!format) {\n            return culture.name.length ? number.toLocaleString() : number.toString();\n        }\n\n        formatAndPrecision = standardFormatRegExp.exec(format);\n\n        // standard formatting\n        if (formatAndPrecision) {\n            format = formatAndPrecision[1].toLowerCase();\n\n            isCurrency = format === \"c\";\n            isPercent = format === \"p\";\n\n            if (isCurrency || isPercent) {\n                //get specific number format information if format is currency or percent\n                numberFormat = isCurrency ? numberFormat.currency : numberFormat.percent;\n                decimal = numberFormat[POINT];\n                precision = numberFormat.decimals;\n                symbol = numberFormat.symbol;\n                pattern = numberFormat.pattern[negative ? 0 : 1];\n            }\n\n            customPrecision = formatAndPrecision[2];\n\n            if (customPrecision) {\n                precision = +customPrecision;\n            }\n\n            //return number in exponential format\n            if (format === \"e\") {\n                var exp = customPrecision ? number.toExponential(precision) : number.toExponential(); // toExponential() and toExponential(undefined) differ in FF #653438.\n\n                return exp.replace(POINT, numberFormat[POINT]);\n            }\n\n            // multiply if format is percent\n            if (isPercent) {\n                number *= 100;\n            }\n\n            number = round(number, precision);\n            negative = number < 0;\n            number = number.split(POINT);\n\n            integer = number[0];\n            fraction = number[1];\n\n            //exclude \"-\" if number is negative.\n            if (negative) {\n                integer = integer.substring(1);\n            }\n\n            value = groupInteger(integer, 0, integer.length, numberFormat);\n\n            if (fraction) {\n                value += decimal + fraction;\n            }\n\n            if (format === \"n\" && !negative) {\n                return value;\n            }\n\n            number = EMPTY;\n\n            for (idx = 0, length = pattern.length; idx < length; idx++) {\n                ch = pattern.charAt(idx);\n\n                if (ch === \"n\") {\n                    number += value;\n                } else if (ch === \"$\" || ch === \"%\") {\n                    number += symbol;\n                } else {\n                    number += ch;\n                }\n            }\n\n            return number;\n        }\n\n        //custom formatting\n        //\n        //separate format by sections.\n\n        if (format.indexOf(\"'\") > -1 || format.indexOf(\"\\\"\") > -1 || format.indexOf(\"\\\\\") > -1) {\n            format = format.replace(literalRegExp, function (match) {\n                var quoteChar = match.charAt(0).replace(\"\\\\\", \"\"),\n                    literal = match.slice(1).replace(quoteChar, \"\");\n\n                literals.push(literal);\n\n                return PLACEHOLDER;\n            });\n        }\n\n        format = format.split(\";\");\n        if (negative && format[1]) {\n            //get negative format\n            format = format[1];\n            hasNegativeFormat = true;\n        } else if (number === 0 && format[2]) {\n            //format for zeros\n            format = format[2];\n            if (format.indexOf(SHARP) == -1 && format.indexOf(ZERO) == -1) {\n                //return format if it is string constant.\n                return format;\n            }\n        } else {\n            format = format[0];\n        }\n\n        percentIndex = format.indexOf(\"%\");\n        currencyIndex = format.indexOf(\"$\");\n\n        isPercent = percentIndex != -1;\n        isCurrency = currencyIndex != -1;\n\n        //multiply number if the format has percent\n        if (isPercent) {\n            number *= 100;\n        }\n\n        if (isCurrency && format[currencyIndex - 1] === \"\\\\\") {\n            format = format.split(\"\\\\\").join(\"\");\n            isCurrency = false;\n        }\n\n        if (isCurrency || isPercent) {\n            //get specific number format information if format is currency or percent\n            numberFormat = isCurrency ? numberFormat.currency : numberFormat.percent;\n            decimal = numberFormat[POINT];\n            precision = numberFormat.decimals;\n            symbol = numberFormat.symbol;\n        }\n\n        hasGroup = format.indexOf(COMMA) > -1;\n        if (hasGroup) {\n            format = format.replace(commaRegExp, EMPTY);\n        }\n\n        decimalIndex = format.indexOf(POINT);\n        length = format.length;\n\n        if (decimalIndex != -1) {\n            fraction = number.toString().split(\"e\");\n            if (fraction[1]) {\n                fraction = round(number, Math.abs(fraction[1]));\n            } else {\n                fraction = fraction[0];\n            }\n            fraction = fraction.split(POINT)[1] || EMPTY;\n            zeroIndex = format.lastIndexOf(ZERO) - decimalIndex;\n            sharpIndex = format.lastIndexOf(SHARP) - decimalIndex;\n            hasZero = zeroIndex > -1;\n            hasSharp = sharpIndex > -1;\n            idx = fraction.length;\n\n            if (!hasZero && !hasSharp) {\n                format = format.substring(0, decimalIndex) + format.substring(decimalIndex + 1);\n                length = format.length;\n                decimalIndex = -1;\n                idx = 0;\n            }\n\n            if (hasZero && zeroIndex > sharpIndex) {\n                idx = zeroIndex;\n            } else if (sharpIndex > zeroIndex) {\n                if (hasSharp && idx > sharpIndex) {\n                    var rounded = round(number, sharpIndex, negative);\n\n                    while (rounded.charAt(rounded.length - 1) === ZERO && sharpIndex > 0 && sharpIndex > zeroIndex) {\n                        sharpIndex--;\n\n                        rounded = round(number, sharpIndex, negative);\n                    }\n\n                    idx = sharpIndex;\n                } else if (hasZero && idx < zeroIndex) {\n                    idx = zeroIndex;\n                }\n            }\n        }\n\n        number = round(number, idx, negative);\n\n        sharpIndex = format.indexOf(SHARP);\n        startZeroIndex = zeroIndex = format.indexOf(ZERO);\n\n        //define the index of the first digit placeholder\n        if (sharpIndex == -1 && zeroIndex != -1) {\n            start = zeroIndex;\n        } else if (sharpIndex != -1 && zeroIndex == -1) {\n            start = sharpIndex;\n        } else {\n            start = sharpIndex > zeroIndex ? zeroIndex : sharpIndex;\n        }\n\n        sharpIndex = format.lastIndexOf(SHARP);\n        zeroIndex = format.lastIndexOf(ZERO);\n\n        //define the index of the last digit placeholder\n        if (sharpIndex == -1 && zeroIndex != -1) {\n            end = zeroIndex;\n        } else if (sharpIndex != -1 && zeroIndex == -1) {\n            end = sharpIndex;\n        } else {\n            end = sharpIndex > zeroIndex ? sharpIndex : zeroIndex;\n        }\n\n        if (start == length) {\n            end = start;\n        }\n\n        if (start != -1) {\n            value = number.toString().split(POINT);\n            integer = value[0];\n            fraction = value[1] || EMPTY;\n\n            integerLength = integer.length;\n            fractionLength = fraction.length;\n\n            if (negative && (number * -1) >= 0) {\n                negative = false;\n            }\n\n            number = format.substring(0, start);\n\n            if (negative && !hasNegativeFormat) {\n                number += \"-\";\n            }\n\n            for (idx = start; idx < length; idx++) {\n                ch = format.charAt(idx);\n\n                if (decimalIndex == -1) {\n                    if (end - idx < integerLength) {\n                        number += integer;\n                        break;\n                    }\n                } else {\n                    if (zeroIndex != -1 && zeroIndex < idx) {\n                        replacement = EMPTY;\n                    }\n\n                    if ((decimalIndex - idx) <= integerLength && decimalIndex - idx > -1) {\n                        number += integer;\n                        idx = decimalIndex;\n                    }\n\n                    if (decimalIndex === idx) {\n                        number += (fraction ? decimal : EMPTY) + fraction;\n                        idx += end - decimalIndex + 1;\n                        continue;\n                    }\n                }\n\n                if (ch === ZERO) {\n                    number += ch;\n                    replacement = ch;\n                } else if (ch === SHARP) {\n                    number += replacement;\n                }\n            }\n\n            if (hasGroup) {\n                number = groupInteger(number, start + (negative && !hasNegativeFormat ? 1 : 0), Math.max(end, (integerLength + start)), numberFormat);\n            }\n\n            if (end >= start) {\n                number += format.substring(end + 1);\n            }\n\n            //replace symbol placeholders\n            if (isCurrency || isPercent) {\n                value = EMPTY;\n                for (idx = 0, length = number.length; idx < length; idx++) {\n                    ch = number.charAt(idx);\n                    value += (ch === \"$\" || ch === \"%\") ? symbol : ch;\n                }\n                number = value;\n            }\n\n            length = literals.length;\n\n            if (length) {\n                for (idx = 0; idx < length; idx++) {\n                    number = number.replace(PLACEHOLDER, literals[idx]);\n                }\n            }\n        }\n\n        return number;\n    }\n\n    var groupInteger = function(number, start, end, numberFormat) {\n        var decimalIndex = number.indexOf(numberFormat[POINT]);\n        var groupSizes = numberFormat.groupSize.slice();\n        var groupSize = groupSizes.shift();\n        var integer, integerLength;\n        var idx, parts, value;\n        var newGroupSize;\n\n        end = decimalIndex !== -1 ? decimalIndex : end + 1;\n\n        integer = number.substring(start, end);\n        integerLength = integer.length;\n\n        if (integerLength >= groupSize) {\n            idx = integerLength;\n            parts = [];\n\n            while (idx > -1) {\n                value = integer.substring(idx - groupSize, idx);\n                if (value) {\n                    parts.push(value);\n                }\n                idx -= groupSize;\n                newGroupSize = groupSizes.shift();\n                groupSize = newGroupSize !== undefined ? newGroupSize : groupSize;\n\n                if (groupSize === 0) {\n                    if (idx > 0) {\n                        parts.push(integer.substring(0, idx));\n                    }\n                    break;\n                }\n            }\n\n            integer = parts.reverse().join(numberFormat[COMMA]);\n            number = number.substring(0, start) + integer + number.substring(end);\n        }\n\n        return number;\n    };\n\n    var round = function(value, precision, negative) {\n        precision = precision || 0;\n\n        value = value.toString().split('e');\n        value = Math.round(+(value[0] + 'e' + (value[1] ? (+value[1] + precision) : precision)));\n\n        if (negative) {\n            value = -value;\n        }\n\n        value = value.toString().split('e');\n        value = +(value[0] + 'e' + (value[1] ? (+value[1] - precision) : -precision));\n\n        return value.toFixed(Math.min(precision, 20));\n    };\n\n    var toString = function(value, fmt, culture) {\n        if (fmt) {\n            if (objectToString.call(value) === \"[object Date]\") {\n                return formatDate(value, fmt, culture);\n            } else if (typeof value === NUMBER) {\n                return formatNumber(value, fmt, culture);\n            }\n        }\n\n        return value !== undefined ? value : \"\";\n    };\n\n    kendo.format = function(fmt) {\n        var values = arguments;\n\n        return fmt.replace(formatRegExp, function(match, index, placeholderFormat) {\n            var value = values[parseInt(index, 10) + 1];\n\n            return toString(value, placeholderFormat ? placeholderFormat.substring(1) : \"\");\n        });\n    };\n\n    kendo._extractFormat = function (format) {\n        if (format.slice(0,3) === \"{0:\") {\n            format = format.slice(3, format.length - 1);\n        }\n\n        return format;\n    };\n\n    kendo._activeElement = function() {\n        try {\n            return document.activeElement;\n        } catch(e) {\n            return document.documentElement.activeElement;\n        }\n    };\n\n    kendo._round = round;\n    kendo._outerWidth = function (element, includeMargin) { return $(element).outerWidth(includeMargin || false) || 0; };\n    kendo._outerHeight = function (element, includeMargin) { return $(element).outerHeight(includeMargin || false) || 0; };\n    kendo.toString = toString;\n})();\n\n\n(function() {\n    var nonBreakingSpaceRegExp = /\\u00A0/g,\n        spaceRegExp = /\\s/g,\n        exponentRegExp = /[eE][\\-+]?[0-9]+/,\n        shortTimeZoneRegExp = /[+|\\-]\\d{1,2}/,\n        longTimeZoneRegExp = /[+|\\-]\\d{1,2}:?\\d{2}/,\n        dateRegExp = /^\\/Date\\((.*?)\\)\\/$/,\n        offsetRegExp = /[+-]\\d*/,\n        FORMATS_SEQUENCE = [ [], [ \"G\", \"g\", \"F\" ], [ \"D\", \"d\", \"y\", \"m\", \"T\", \"t\" ] ],\n        STANDARD_FORMATS = [\n            [\n            \"yyyy-MM-ddTHH:mm:ss.fffffffzzz\",\n            \"yyyy-MM-ddTHH:mm:ss.fffffff\",\n            \"yyyy-MM-ddTHH:mm:ss.fffzzz\",\n            \"yyyy-MM-ddTHH:mm:ss.fff\",\n            \"ddd MMM dd yyyy HH:mm:ss\",\n            \"yyyy-MM-ddTHH:mm:sszzz\",\n            \"yyyy-MM-ddTHH:mmzzz\",\n            \"yyyy-MM-ddTHH:mmzz\",\n            \"yyyy-MM-ddTHH:mm:ss\",\n            \"yyyy-MM-dd HH:mm:ss\",\n            \"yyyy/MM/dd HH:mm:ss\"\n            ], [\n            \"yyyy-MM-ddTHH:mm\",\n            \"yyyy-MM-dd HH:mm\",\n            \"yyyy/MM/dd HH:mm\"\n            ], [\n            \"yyyy/MM/dd\",\n            \"yyyy-MM-dd\",\n            \"HH:mm:ss\",\n            \"HH:mm\"\n            ]\n        ],\n        numberRegExp = {\n            2: /^\\d{1,2}/,\n            3: /^\\d{1,3}/,\n            4: /^\\d{4}/\n        },\n        objectToString = {}.toString;\n\n    function outOfRange(value, start, end) {\n        return !(value >= start && value <= end);\n    }\n\n    function designatorPredicate(designator) {\n        return designator.charAt(0);\n    }\n\n    function mapDesignators(designators) {\n        return $.map(designators, designatorPredicate);\n    }\n\n    //if date's day is different than the typed one - adjust\n    function adjustDST(date, hours) {\n        if (!hours && date.getHours() === 23) {\n            date.setHours(date.getHours() + 2);\n        }\n    }\n\n    function lowerArray(data) {\n        var idx = 0,\n            length = data.length,\n            array = [];\n\n        for (; idx < length; idx++) {\n            array[idx] = (data[idx] + \"\").toLowerCase();\n        }\n\n        return array;\n    }\n\n    function lowerLocalInfo(localInfo) {\n        var newLocalInfo = {}, property;\n\n        for (property in localInfo) {\n            newLocalInfo[property] = lowerArray(localInfo[property]);\n        }\n\n        return newLocalInfo;\n    }\n\n    function parseExact(value, format, culture, strict) {\n        if (!value) {\n            return null;\n        }\n\n        var lookAhead = function (match) {\n                var i = 0;\n                while (format[idx] === match) {\n                    i++;\n                    idx++;\n                }\n                if (i > 0) {\n                    idx -= 1;\n                }\n                return i;\n            },\n            getNumber = function(size) {\n                var rg = numberRegExp[size] || new RegExp('^\\\\d{1,' + size + '}'),\n                    match = value.substr(valueIdx, size).match(rg);\n\n                if (match) {\n                    match = match[0];\n                    valueIdx += match.length;\n                    return parseInt(match, 10);\n                }\n                return null;\n            },\n            getIndexByName = function (names, lower) {\n                var i = 0,\n                    length = names.length,\n                    name, nameLength,\n                    matchLength = 0,\n                    matchIdx = 0,\n                    subValue;\n\n                for (; i < length; i++) {\n                    name = names[i];\n                    nameLength = name.length;\n                    subValue = value.substr(valueIdx, nameLength);\n\n                    if (lower) {\n                        subValue = subValue.toLowerCase();\n                    }\n\n                    if (subValue == name && nameLength > matchLength) {\n                        matchLength = nameLength;\n                        matchIdx = i;\n                    }\n                }\n\n                if (matchLength) {\n                    valueIdx += matchLength;\n                    return matchIdx + 1;\n                }\n\n                return null;\n            },\n            checkLiteral = function() {\n                var result = false;\n                if (value.charAt(valueIdx) === format[idx]) {\n                    valueIdx++;\n                    result = true;\n                }\n                return result;\n            },\n            calendar = culture.calendars.standard,\n            year = null,\n            month = null,\n            day = null,\n            hours = null,\n            minutes = null,\n            seconds = null,\n            milliseconds = null,\n            idx = 0,\n            valueIdx = 0,\n            literal = false,\n            date = new Date(),\n            twoDigitYearMax = calendar.twoDigitYearMax || 2029,\n            defaultYear = date.getFullYear(),\n            ch, count, length, pattern,\n            pmHour, UTC, matches,\n            amDesignators, pmDesignators,\n            hoursOffset, minutesOffset,\n            hasTime, match;\n\n        if (!format) {\n            format = \"d\"; //shord date format\n        }\n\n        //if format is part of the patterns get real format\n        pattern = calendar.patterns[format];\n        if (pattern) {\n            format = pattern;\n        }\n\n        format = format.split(\"\");\n        length = format.length;\n\n        for (; idx < length; idx++) {\n            ch = format[idx];\n\n            if (literal) {\n                if (ch === \"'\") {\n                    literal = false;\n                } else {\n                    checkLiteral();\n                }\n            } else {\n                if (ch === \"d\") {\n                    count = lookAhead(\"d\");\n                    if (!calendar._lowerDays) {\n                        calendar._lowerDays = lowerLocalInfo(calendar.days);\n                    }\n\n                    if (day !== null && count > 2) {\n                        continue;\n                    }\n\n                    day = count < 3 ? getNumber(2) : getIndexByName(calendar._lowerDays[count == 3 ? \"namesAbbr\" : \"names\"], true);\n\n                    if (day === null || outOfRange(day, 1, 31)) {\n                        return null;\n                    }\n                } else if (ch === \"M\") {\n                    count = lookAhead(\"M\");\n                    if (!calendar._lowerMonths) {\n                        calendar._lowerMonths = lowerLocalInfo(calendar.months);\n                    }\n                    month = count < 3 ? getNumber(2) : getIndexByName(calendar._lowerMonths[count == 3 ? 'namesAbbr' : 'names'], true);\n\n                    if (month === null || outOfRange(month, 1, 12)) {\n                        return null;\n                    }\n                    month -= 1; //because month is zero based\n                } else if (ch === \"y\") {\n                    count = lookAhead(\"y\");\n                    year = getNumber(count);\n\n                    if (year === null) {\n                        return null;\n                    }\n\n                    if (count == 2) {\n                        if (typeof twoDigitYearMax === \"string\") {\n                            twoDigitYearMax = defaultYear + parseInt(twoDigitYearMax, 10);\n                        }\n\n                        year = (defaultYear - defaultYear % 100) + year;\n                        if (year > twoDigitYearMax) {\n                            year -= 100;\n                        }\n                    }\n                } else if (ch === \"h\" ) {\n                    lookAhead(\"h\");\n                    hours = getNumber(2);\n                    if (hours == 12) {\n                        hours = 0;\n                    }\n                    if (hours === null || outOfRange(hours, 0, 11)) {\n                        return null;\n                    }\n                } else if (ch === \"H\") {\n                    lookAhead(\"H\");\n                    hours = getNumber(2);\n                    if (hours === null || outOfRange(hours, 0, 23)) {\n                        return null;\n                    }\n                } else if (ch === \"m\") {\n                    lookAhead(\"m\");\n                    minutes = getNumber(2);\n                    if (minutes === null || outOfRange(minutes, 0, 59)) {\n                        return null;\n                    }\n                } else if (ch === \"s\") {\n                    lookAhead(\"s\");\n                    seconds = getNumber(2);\n                    if (seconds === null || outOfRange(seconds, 0, 59)) {\n                        return null;\n                    }\n                } else if (ch === \"f\") {\n                    count = lookAhead(\"f\");\n\n                    match = value.substr(valueIdx, count).match(numberRegExp[3]);\n                    milliseconds = getNumber(count); //move value index position\n\n                    if (milliseconds !== null) {\n                        milliseconds = parseFloat(\"0.\" + match[0], 10);\n                        milliseconds = kendo._round(milliseconds, 3);\n                        milliseconds *= 1000;\n                    }\n\n                    if (milliseconds === null || outOfRange(milliseconds, 0, 999)) {\n                        return null;\n                    }\n\n                } else if (ch === \"t\") {\n                    count = lookAhead(\"t\");\n                    amDesignators = calendar.AM;\n                    pmDesignators = calendar.PM;\n\n                    if (count === 1) {\n                        amDesignators = mapDesignators(amDesignators);\n                        pmDesignators = mapDesignators(pmDesignators);\n                    }\n\n                    pmHour = getIndexByName(pmDesignators);\n                    if (!pmHour && !getIndexByName(amDesignators)) {\n                        return null;\n                    }\n                }\n                else if (ch === \"z\") {\n                    UTC = true;\n                    count = lookAhead(\"z\");\n\n                    if (value.substr(valueIdx, 1) === \"Z\") {\n                        checkLiteral();\n                        continue;\n                    }\n\n                    matches = value.substr(valueIdx, 6)\n                                   .match(count > 2 ? longTimeZoneRegExp : shortTimeZoneRegExp);\n\n                    if (!matches) {\n                        return null;\n                    }\n\n                    matches = matches[0].split(\":\");\n\n                    hoursOffset = matches[0];\n                    minutesOffset = matches[1];\n\n                    if (!minutesOffset && hoursOffset.length > 3) { //(+|-)[hh][mm] format is used\n                        valueIdx = hoursOffset.length - 2;\n                        minutesOffset = hoursOffset.substring(valueIdx);\n                        hoursOffset = hoursOffset.substring(0, valueIdx);\n                    }\n\n                    hoursOffset = parseInt(hoursOffset, 10);\n                    if (outOfRange(hoursOffset, -12, 13)) {\n                        return null;\n                    }\n\n                    if (count > 2) {\n                        minutesOffset = matches[0][0] + minutesOffset;\n                        minutesOffset = parseInt(minutesOffset, 10);\n                        if (isNaN(minutesOffset) || outOfRange(minutesOffset, -59, 59)) {\n                            return null;\n                        }\n                    }\n                } else if (ch === \"'\") {\n                    literal = true;\n                    checkLiteral();\n                } else if (!checkLiteral()) {\n                    return null;\n                }\n            }\n        }\n\n        // if more characters follow, assume wrong format\n        // https://github.com/telerik/kendo-ui-core/issues/3476\n        if (strict && !/^\\s*$/.test(value.substr(valueIdx))) {\n            return null;\n        }\n\n        hasTime = hours !== null || minutes !== null || seconds || null;\n\n        if (year === null && month === null && day === null && hasTime) {\n            year = defaultYear;\n            month = date.getMonth();\n            day = date.getDate();\n        } else {\n            if (year === null) {\n                year = defaultYear;\n            }\n\n            if (day === null) {\n                day = 1;\n            }\n        }\n\n        if (pmHour && hours < 12) {\n            hours += 12;\n        }\n\n        if (UTC) {\n            if (hoursOffset) {\n                hours += -hoursOffset;\n            }\n\n            if (minutesOffset) {\n                minutes += -minutesOffset;\n            }\n\n            value = new Date(Date.UTC(year, month, day, hours, minutes, seconds, milliseconds));\n        } else {\n            value = new Date(year, month, day, hours, minutes, seconds, milliseconds);\n            adjustDST(value, hours);\n        }\n\n        if (year < 100) {\n            value.setFullYear(year);\n        }\n\n        if (value.getDate() !== day && UTC === undefined) {\n            return null;\n        }\n\n        return value;\n    }\n\n    function parseMicrosoftFormatOffset(offset) {\n        var sign = offset.substr(0, 1) === \"-\" ? -1 : 1;\n\n        offset = offset.substring(1);\n        offset = (parseInt(offset.substr(0, 2), 10) * 60) + parseInt(offset.substring(2), 10);\n\n        return sign * offset;\n    }\n\n    function getDefaultFormats(culture) {\n        var length = math.max(FORMATS_SEQUENCE.length, STANDARD_FORMATS.length);\n        var calendar = culture.calendar || culture.calendars.standard;\n        var patterns = calendar.patterns;\n        var cultureFormats, formatIdx, idx;\n        var formats = [];\n\n        for (idx = 0; idx < length; idx++) {\n            cultureFormats = FORMATS_SEQUENCE[idx];\n            for (formatIdx = 0; formatIdx < cultureFormats.length; formatIdx++) {\n                formats.push(patterns[cultureFormats[formatIdx]]);\n            }\n            formats = formats.concat(STANDARD_FORMATS[idx]);\n        }\n\n        return formats;\n    }\n\n    function internalParseDate(value, formats, culture, strict) {\n        if (objectToString.call(value) === \"[object Date]\") {\n            return value;\n        }\n\n        var idx = 0;\n        var date = null;\n        var length;\n        var tzoffset;\n\n        if (value && value.indexOf(\"/D\") === 0) {\n            date = dateRegExp.exec(value);\n            if (date) {\n                date = date[1];\n                tzoffset = offsetRegExp.exec(date.substring(1));\n\n                date = new Date(parseInt(date, 10));\n\n                if (tzoffset) {\n                    tzoffset = parseMicrosoftFormatOffset(tzoffset[0]);\n                    date = kendo.timezone.apply(date, 0);\n                    date = kendo.timezone.convert(date, 0, -1 * tzoffset);\n                }\n\n                return date;\n            }\n        }\n\n        culture = kendo.getCulture(culture);\n\n        if (!formats) {\n            formats = getDefaultFormats(culture);\n        }\n\n        formats = isArray(formats) ? formats: [formats];\n        length = formats.length;\n\n        for (; idx < length; idx++) {\n            date = parseExact(value, formats[idx], culture, strict);\n            if (date) {\n                return date;\n            }\n        }\n\n        return date;\n    }\n\n    kendo.parseDate = function(value, formats, culture) {\n        return internalParseDate(value, formats, culture, false);\n    };\n\n    kendo.parseExactDate = function(value, formats, culture) {\n        return internalParseDate(value, formats, culture, true);\n    };\n\n    kendo.parseInt = function(value, culture) {\n        var result = kendo.parseFloat(value, culture);\n        if (result) {\n            result = result | 0;\n        }\n        return result;\n    };\n\n    kendo.parseFloat = function(value, culture, format) {\n        if (!value && value !== 0) {\n           return null;\n        }\n\n        if (typeof value === NUMBER) {\n           return value;\n        }\n\n        value = value.toString();\n        culture = kendo.getCulture(culture);\n\n        var number = culture.numberFormat,\n            percent = number.percent,\n            currency = number.currency,\n            symbol = currency.symbol,\n            percentSymbol = percent.symbol,\n            negative = value.indexOf(\"-\"),\n            parts, isPercent;\n\n        //handle exponential number\n        if (exponentRegExp.test(value)) {\n            value = parseFloat(value.replace(number[\".\"], \".\"));\n            if (isNaN(value)) {\n                value = null;\n            }\n            return value;\n        }\n\n        if (negative > 0) {\n            return null;\n        } else {\n            negative = negative > -1;\n        }\n\n        if (value.indexOf(symbol) > -1 || (format && format.toLowerCase().indexOf(\"c\") > -1)) {\n            number = currency;\n            parts = number.pattern[0].replace(\"$\", symbol).split(\"n\");\n            if (value.indexOf(parts[0]) > -1 && value.indexOf(parts[1]) > -1) {\n                value = value.replace(parts[0], \"\").replace(parts[1], \"\");\n                negative = true;\n            }\n        } else if (value.indexOf(percentSymbol) > -1) {\n            isPercent = true;\n            number = percent;\n            symbol = percentSymbol;\n        }\n\n        value = value.replace(\"-\", \"\")\n                     .replace(symbol, \"\")\n                     .replace(nonBreakingSpaceRegExp, \" \")\n                     .split(number[\",\"].replace(nonBreakingSpaceRegExp, \" \")).join(\"\")\n                     .replace(spaceRegExp, \"\")\n                     .replace(number[\".\"], \".\");\n\n        value = parseFloat(value);\n\n        if (isNaN(value)) {\n            value = null;\n        } else if (negative) {\n            value *= -1;\n        }\n\n        if (value && isPercent) {\n            value /= 100;\n        }\n\n        return value;\n    };\n})();\n\n    function getShadows(element) {\n        var shadow = element.css(kendo.support.transitions.css + \"box-shadow\") || element.css(\"box-shadow\"),\n            radius = shadow ? shadow.match(boxShadowRegExp) || [ 0, 0, 0, 0, 0 ] : [ 0, 0, 0, 0, 0 ],\n            blur = math.max((+radius[3]), +(radius[4] || 0));\n\n        return {\n            left: (-radius[1]) + blur,\n            right: (+radius[1]) + blur,\n            bottom: (+radius[2]) + blur\n        };\n    }\n\n    function wrap(element, autosize) {\n        var percentage,\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            parent = element.parent(),\n            windowOuterWidth = outerWidth(window);\n\n        parent.removeClass(\"k-animation-container-sm\");\n\n        if (!parent.hasClass(\"k-animation-container\")) {\n            var width = element[0].style.width,\n                height = element[0].style.height,\n                percentWidth = percentRegExp.test(width),\n                percentHeight = percentRegExp.test(height),\n                forceWidth = element.hasClass(\"k-tooltip\") || element.is(\".k-menu-horizontal.k-context-menu\");\n\n            percentage = percentWidth || percentHeight;\n\n            if (!percentWidth && (!autosize || (autosize && width) || forceWidth)) { width = autosize ? outerWidth(element) + 1 : outerWidth(element); }\n            if (!percentHeight && (!autosize || (autosize && height)) || element.is(\".k-menu-horizontal.k-context-menu\")) { height = outerHeight(element); }\n\n            element.wrap(\n                         $(\"<div/>\")\n                         .addClass(\"k-animation-container\")\n                         .attr(\"role\", \"region\")\n                         .css({\n                             width: width,\n                             height: height\n                         }));\n            parent = element.parent();\n\n            if (percentage) {\n                element.css({\n                    width: \"100%\",\n                    height: \"100%\",\n                    boxSizing: \"border-box\",\n                    mozBoxSizing: \"border-box\",\n                    webkitBoxSizing: \"border-box\"\n                });\n            }\n        } else {\n            wrapResize(element, autosize);\n        }\n\n        if(windowOuterWidth < outerWidth(parent)){\n            parent.addClass(\"k-animation-container-sm\");\n\n            wrapResize(element, autosize);\n        }\n\n        return parent;\n    }\n\n    function wrapResize(element, autosize) {\n        var percentage,\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            wrapper = element.parent(\".k-animation-container\"),\n            wrapperStyle = wrapper[0].style;\n\n        if (wrapper.is(\":hidden\")) {\n            wrapper.css({\n                display: \"\",\n                position: \"\"\n            });\n        }\n\n        percentage = percentRegExp.test(wrapperStyle.width) || percentRegExp.test(wrapperStyle.height);\n\n        if (!percentage) {\n            wrapper.css({\n                width: autosize ? outerWidth(element) + 1 : outerWidth(element),\n                height: outerHeight(element),\n                boxSizing: \"content-box\",\n                mozBoxSizing: \"content-box\",\n                webkitBoxSizing: \"content-box\"\n            });\n        }\n    }\n\n    function deepExtend(destination) {\n        var i = 1,\n            length = arguments.length;\n\n        for (i = 1; i < length; i++) {\n            deepExtendOne(destination, arguments[i]);\n        }\n\n        return destination;\n    }\n\n    function deepExtendOne(destination, source) {\n        var ObservableArray = kendo.data.ObservableArray,\n            LazyObservableArray = kendo.data.LazyObservableArray,\n            DataSource = kendo.data.DataSource,\n            HierarchicalDataSource = kendo.data.HierarchicalDataSource,\n            property,\n            propValue,\n            propType,\n            propInit,\n            destProp;\n\n        for (property in source) {\n            propValue = source[property];\n            propType = typeof propValue;\n\n            if (propType === OBJECT && propValue !== null) {\n                propInit = propValue.constructor;\n            } else {\n                propInit = null;\n            }\n\n            if (propInit &&\n                propInit !== Array && propInit !== ObservableArray && propInit !== LazyObservableArray &&\n                propInit !== DataSource && propInit !== HierarchicalDataSource && propInit !== RegExp &&\n                (!kendo.isFunction(window.ArrayBuffer) || propInit !== ArrayBuffer)) {\n\n                if (propValue instanceof Date) {\n                    destination[property] = new Date(propValue.getTime());\n                } else if (isFunction(propValue.clone)) {\n                    destination[property] = propValue.clone();\n                } else {\n                    destProp = destination[property];\n                    if (typeof (destProp) === OBJECT) {\n                        destination[property] = destProp || {};\n                    } else {\n                        destination[property] = {};\n                    }\n                    deepExtendOne(destination[property], propValue);\n                }\n            } else if (propType !== UNDEFINED) {\n                destination[property] = propValue;\n            }\n        }\n\n        return destination;\n    }\n\n    function testRx(agent, rxs, dflt) {\n        for (var rx in rxs) {\n            if (rxs.hasOwnProperty(rx) && rxs[rx].test(agent)) {\n                return rx;\n            }\n        }\n        return dflt !== undefined ? dflt : agent;\n    }\n\n    function toHyphens(str) {\n        return str.replace(/([a-z][A-Z])/g, function (g) {\n            return g.charAt(0) + '-' + g.charAt(1).toLowerCase();\n        });\n    }\n\n    function toCamelCase(str) {\n        return str.replace(/\\-(\\w)/g, function (strMatch, g1) {\n            return g1.toUpperCase();\n        });\n    }\n\n    function getComputedStyles(element, properties) {\n        var styles = {}, computedStyle;\n\n        if (document.defaultView && document.defaultView.getComputedStyle) {\n            computedStyle = document.defaultView.getComputedStyle(element, \"\");\n\n            if (properties) {\n                $.each(properties, function(idx, value) {\n                    styles[value] = computedStyle.getPropertyValue(value);\n                });\n            }\n        } else {\n            computedStyle = element.currentStyle;\n\n            if (properties) {\n                $.each(properties, function(idx, value) {\n                    styles[value] = computedStyle[toCamelCase(value)];\n                });\n            }\n        }\n\n        if (!kendo.size(styles)) {\n            styles = computedStyle;\n        }\n\n        return styles;\n    }\n\n    function isScrollable(element) {\n        if (element && element.className && typeof(element.className) === \"string\" && element.className.indexOf(\"k-auto-scrollable\") > -1) {\n            return true;\n        }\n\n        var overflow = getComputedStyles(element, [\"overflow\"]).overflow;\n        return overflow.indexOf(\"auto\") > -1 || overflow.indexOf(\"scroll\") > -1;\n    }\n\n    function scrollLeft(element, value) {\n        var webkit = support.browser.webkit;\n        var mozila = support.browser.mozilla;\n        var browserVersion = support.browser.version;\n        var el, isRtl;\n\n        if(element instanceof $ && value !== undefined) {\n            element.each(function(i, e) {\n                scrollLeft(e, value);\n            });\n\n            return;\n        } else {\n            el = element instanceof $ ? element[0] : element;\n        }\n\n        if (!el) {\n            return;\n        }\n\n        isRtl = support.isRtl(element);\n\n        // After updating browser detection,\n        // Test in which if should the Safari browsers go\n        if (value !== undefined) {\n            if (isRtl && webkit && (browserVersion < 85 || support.browser.safari)) {\n                el.scrollLeft = el.scrollWidth - el.clientWidth - value;\n            } else if (isRtl && (mozila || webkit) && value > 0) {\n                el.scrollLeft = -value;\n            } else {\n                el.scrollLeft = value;\n            }\n        } else {\n            if (isRtl && webkit && (browserVersion < 85 || support.browser.safari)) {\n                return el.scrollWidth - el.clientWidth - el.scrollLeft;\n            } else {\n                return Math.abs(el.scrollLeft);\n            }\n        }\n    }\n\n    (function () {\n        support._scrollbar = undefined;\n\n        support.scrollbar = function (refresh) {\n            if (!isNaN(support._scrollbar) && !refresh) {\n                return support._scrollbar;\n            } else {\n                var div = document.createElement(\"div\"),\n                    result;\n\n                div.style.cssText = \"overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block\";\n                div.innerHTML = \"&nbsp;\";\n                document.body.appendChild(div);\n\n                support._scrollbar = result = div.offsetWidth - div.scrollWidth;\n\n                document.body.removeChild(div);\n\n                return result;\n            }\n        };\n\n        support.isRtl = function(element) {\n            return $(element).closest(\".k-rtl\").length > 0;\n        };\n\n        var table = document.createElement(\"table\");\n\n        // Internet Explorer does not support setting the innerHTML of TBODY and TABLE elements\n        try {\n            table.innerHTML = \"<tr><td></td></tr>\";\n\n            support.tbodyInnerHtml = true;\n        } catch (e) {\n            support.tbodyInnerHtml = false;\n        }\n\n        support.touch = \"ontouchstart\" in window;\n\n        var docStyle = document.documentElement.style;\n        var transitions = support.transitions = false,\n            transforms = support.transforms = false,\n            elementProto = \"HTMLElement\" in window ? HTMLElement.prototype : [];\n\n        support.hasHW3D = (\"WebKitCSSMatrix\" in window && \"m11\" in new window.WebKitCSSMatrix()) || \"MozPerspective\" in docStyle || \"msPerspective\" in docStyle;\n        support.cssFlexbox = (\"flexWrap\" in docStyle) || (\"WebkitFlexWrap\" in docStyle) || (\"msFlexWrap\" in docStyle);\n\n        each([ \"Moz\", \"webkit\", \"O\", \"ms\" ], function () {\n            var prefix = this.toString(),\n                hasTransitions = typeof table.style[prefix + \"Transition\"] === STRING;\n\n            if (hasTransitions || typeof table.style[prefix + \"Transform\"] === STRING) {\n                var lowPrefix = prefix.toLowerCase();\n\n                transforms = {\n                    css: (lowPrefix != \"ms\") ? \"-\" + lowPrefix + \"-\" : \"\",\n                    prefix: prefix,\n                    event: (lowPrefix === \"o\" || lowPrefix === \"webkit\") ? lowPrefix : \"\"\n                };\n\n                if (hasTransitions) {\n                    transitions = transforms;\n                    transitions.event = transitions.event ? transitions.event + \"TransitionEnd\" : \"transitionend\";\n                }\n\n                return false;\n            }\n        });\n\n        table = null;\n\n        support.transforms = transforms;\n        support.transitions = transitions;\n\n        support.devicePixelRatio = window.devicePixelRatio === undefined ? 1 : window.devicePixelRatio;\n\n        try {\n            support.screenWidth = window.outerWidth || window.screen ? window.screen.availWidth : window.innerWidth;\n            support.screenHeight = window.outerHeight || window.screen ? window.screen.availHeight : window.innerHeight;\n        } catch(e) {\n            //window.outerWidth throws error when in IE showModalDialog.\n            support.screenWidth = window.screen.availWidth;\n            support.screenHeight = window.screen.availHeight;\n        }\n\n        support.detectOS = function (ua) {\n            var os = false, minorVersion, match = [],\n                notAndroidPhone = !/mobile safari/i.test(ua),\n                agentRxs = {\n                    wp: /(Windows Phone(?: OS)?)\\s(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    fire: /(Silk)\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    android: /(Android|Android.*(?:Opera|Firefox).*?\\/)\\s*(\\d+)\\.?(\\d+(\\.\\d+)?)?/,\n                    iphone: /(iPhone|iPod).*OS\\s+(\\d+)[\\._]([\\d\\._]+)/,\n                    ipad: /(iPad).*OS\\s+(\\d+)[\\._]([\\d_]+)/,\n                    meego: /(MeeGo).+NokiaBrowser\\/(\\d+)\\.([\\d\\._]+)/,\n                    webos: /(webOS)\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    blackberry: /(BlackBerry|BB10).*?Version\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    playbook: /(PlayBook).*?Tablet\\s*OS\\s*(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    windows: /(MSIE)\\s+(\\d+)\\.(\\d+(\\.\\d+)?)/,\n                    tizen: /(tizen).*?Version\\/(\\d+)\\.(\\d+(\\.\\d+)?)/i,\n                    sailfish: /(sailfish).*rv:(\\d+)\\.(\\d+(\\.\\d+)?).*firefox/i,\n                    ffos: /(Mobile).*rv:(\\d+)\\.(\\d+(\\.\\d+)?).*Firefox/\n                },\n                osRxs = {\n                    ios: /^i(phone|pad|pod)$/i,\n                    android: /^android|fire$/i,\n                    blackberry: /^blackberry|playbook/i,\n                    windows: /windows/,\n                    wp: /wp/,\n                    flat: /sailfish|ffos|tizen/i,\n                    meego: /meego/\n                },\n                formFactorRxs = {\n                    tablet: /playbook|ipad|fire/i\n                },\n                browserRxs = {\n                    omini: /Opera\\sMini/i,\n                    omobile: /Opera\\sMobi/i,\n                    firefox: /Firefox|Fennec/i,\n                    mobilesafari: /version\\/.*safari/i,\n                    ie: /MSIE|Windows\\sPhone/i,\n                    chrome: /chrome|crios/i,\n                    webkit: /webkit/i\n                };\n\n            for (var agent in agentRxs) {\n                if (agentRxs.hasOwnProperty(agent)) {\n                    match = ua.match(agentRxs[agent]);\n                    if (match) {\n                        if (agent == \"windows\" && \"plugins\" in navigator) { return false; } // Break if not Metro/Mobile Windows\n\n                        os = {};\n                        os.device = agent;\n                        os.tablet = testRx(agent, formFactorRxs, false);\n                        os.browser = testRx(ua, browserRxs, \"default\");\n                        os.name = testRx(agent, osRxs);\n                        os[os.name] = true;\n                        os.majorVersion = match[2];\n                        os.minorVersion = (match[3] || \"0\").replace(\"_\", \".\");\n                        minorVersion = os.minorVersion.replace(\".\", \"\").substr(0, 2);\n                        os.flatVersion = os.majorVersion + minorVersion + (new Array(3 - (minorVersion.length < 3 ? minorVersion.length : 2)).join(\"0\"));\n                        os.cordova = typeof window.PhoneGap !== UNDEFINED || typeof window.cordova !== UNDEFINED; // Use file protocol to detect appModes.\n                        os.appMode = window.navigator.standalone || (/file|local|wmapp/).test(window.location.protocol) || os.cordova; // Use file protocol to detect appModes.\n\n                        if (os.android && (support.devicePixelRatio < 1.5 && os.flatVersion < 400 || notAndroidPhone) && (support.screenWidth > 800 || support.screenHeight > 800)) {\n                            os.tablet = agent;\n                        }\n\n                        break;\n                    }\n                }\n            }\n            return os;\n        };\n\n        var mobileOS = support.mobileOS = support.detectOS(navigator.userAgent);\n\n        support.wpDevicePixelRatio = mobileOS.wp ? screen.width / 320 : 0;\n\n        support.hasNativeScrolling = false;\n\n        if (mobileOS.ios || (mobileOS.android && mobileOS.majorVersion > 2) || mobileOS.wp) {\n            support.hasNativeScrolling = mobileOS;\n        }\n\n        support.delayedClick = function() {\n\n            // only the mobile devices with touch events do this.\n            if (support.touch) {\n                // All iOS devices so far (by the time I am writing this, iOS 9.0.2 is the latest),\n                // delay their click events.\n                if (mobileOS.ios) {\n                    return true;\n                }\n\n                if (mobileOS.android) {\n\n                    if (!support.browser.chrome) { // older webkits and webviews delay the click\n                        return true;\n                    }\n\n                    // from here on, we deal with Chrome on Android.\n                    if (support.browser.version < 32) {\n                        return false;\n                    }\n\n                    // Chrome 32+ does conditional fast clicks if the view port is not user scalable.\n                    return !($(\"meta[name=viewport]\").attr(\"content\") || \"\").match(/user-scalable=no/i);\n                }\n            }\n\n            return false;\n        };\n\n        support.mouseAndTouchPresent = support.touch && !(support.mobileOS.ios || support.mobileOS.android);\n\n        support.detectBrowser = function(ua) {\n            var browser = false,\n                match = [],\n                chromiumEdgeMatch = [],\n                browserRxs = {\n                    edge: /(edge)[ \\/]([\\w.]+)/i,\n                    webkit: /(chrome|crios)[ \\/]([\\w.]+)/i,\n                    safari: /(webkit)[ \\/]([\\w.]+)/i,\n                    opera: /(opera)(?:.*version|)[ \\/]([\\w.]+)/i,\n                    msie: /(msie\\s|trident.*? rv:)([\\w.]+)/i,\n                    mozilla: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n                };\n\n            for (var agent in browserRxs) {\n                if (browserRxs.hasOwnProperty(agent)) {\n                    match = ua.match(browserRxs[agent]);\n                    if (match) {\n                        browser = {};\n                        browser[agent] = true;\n                        browser[match[1].toLowerCase().split(\" \")[0].split(\"/\")[0]] = true;\n                        browser.version = parseInt(document.documentMode || match[2], 10);\n\n                        if (browser.chrome) {\n                            chromiumEdgeMatch = ua.match(/(edg)[ \\/]([\\w.]+)/i);\n\n                            if(chromiumEdgeMatch) {\n                                browser.chromiumEdge = true;\n                            }\n                        }\n\n                        break;\n                    }\n                }\n            }\n\n            return browser;\n        };\n\n        support.browser = support.detectBrowser(navigator.userAgent);\n\n        if (!mobileOS && support.touch && support.browser.safari) {\n            mobileOS = support.mobileOS = {\n                ios: true,\n                tablet: \"tablet\",\n                device: \"ipad\"\n            };\n        }\n\n        support.detectClipboardAccess = function() {\n            var commands = {\n                copy: document.queryCommandSupported ? document.queryCommandSupported(\"copy\") : false,\n                cut: document.queryCommandSupported ? document.queryCommandSupported(\"cut\") : false,\n                paste : document.queryCommandSupported ? document.queryCommandSupported(\"paste\") : false\n            };\n\n            if (support.browser.chrome) {\n                //not using queryCommandSupported due to chromium issues 476508 and 542948\n                commands.paste = false;\n                if(support.browser.version >= 43) {\n                    commands.copy = true;\n                    commands.cut = true;\n                }\n            }\n\n            return commands;\n        };\n\n        support.clipboard = support.detectClipboardAccess();\n\n        support.zoomLevel = function() {\n            try {\n                var browser = support.browser;\n                var ie11WidthCorrection = 0;\n                var docEl = document.documentElement;\n\n                if (browser.msie && browser.version == 11 && docEl.scrollHeight > docEl.clientHeight && !support.touch) {\n                    ie11WidthCorrection = support.scrollbar();\n                }\n\n                return support.touch ? (docEl.clientWidth / window.innerWidth) :\n                       browser.msie && browser.version >= 10 ? (((top || window).document.documentElement.offsetWidth + ie11WidthCorrection) / (top || window).innerWidth) : 1;\n            } catch(e) {\n                return 1;\n            }\n        };\n\n        (function(browser) {\n            // add browser-specific CSS class\n            var cssClass = \"\",\n                docElement = $(document.documentElement),\n                majorVersion = parseInt(browser.version, 10);\n\n            if (browser.msie) {\n                cssClass = \"ie\";\n            } else if (browser.mozilla) {\n                cssClass = \"ff\";\n            } else if (browser.safari) {\n                cssClass = \"safari\";\n            } else if (browser.webkit) {\n                cssClass = \"webkit\";\n            } else if (browser.opera) {\n                cssClass = \"opera\";\n            } else if (browser.edge) {\n                cssClass = \"edge\";\n            }\n\n            if (cssClass) {\n                cssClass = \"k-\" + cssClass + \" k-\" + cssClass + majorVersion;\n            }\n            if (support.mobileOS) {\n                cssClass += \" k-mobile\";\n            }\n\n            if (!support.cssFlexbox) {\n                cssClass += \" k-no-flexbox\";\n            }\n\n            docElement.addClass(cssClass);\n        })(support.browser);\n\n        support.eventCapture = document.documentElement.addEventListener;\n\n        var input = document.createElement(\"input\");\n\n        support.placeholder = \"placeholder\" in input;\n        support.propertyChangeEvent = \"onpropertychange\" in input;\n\n        support.input = (function() {\n            var types = [\"number\", \"date\", \"time\", \"month\", \"week\", \"datetime\", \"datetime-local\"];\n            var length = types.length;\n            var value = \"test\";\n            var result = {};\n            var idx = 0;\n            var type;\n\n            for (;idx < length; idx++) {\n                type = types[idx];\n                input.setAttribute(\"type\", type);\n                input.value = value;\n\n                result[type.replace(\"-\", \"\")] = input.type !== \"text\" && input.value !== value;\n            }\n\n            return result;\n        })();\n\n        input.style.cssText = \"float:left;\";\n\n        support.cssFloat = !!input.style.cssFloat;\n\n        input = null;\n\n        support.stableSort = (function() {\n            // Chrome sort is not stable for more than *10* items\n            // IE9+ sort is not stable for than *512* items\n            var threshold = 513;\n\n            var sorted = [{\n                index: 0,\n                field: \"b\"\n            }];\n\n            for (var i = 1; i < threshold; i++) {\n                sorted.push({\n                    index: i,\n                    field: \"a\"\n                });\n            }\n\n            sorted.sort(function(a, b) {\n                return a.field > b.field ? 1 : (a.field < b.field ? -1 : 0);\n            });\n\n            return sorted[0].index === 1;\n        })();\n\n        support.matchesSelector = elementProto.webkitMatchesSelector || elementProto.mozMatchesSelector ||\n                                  elementProto.msMatchesSelector || elementProto.oMatchesSelector ||\n                                  elementProto.matchesSelector || elementProto.matches ||\n          function( selector ) {\n              var nodeList = document.querySelectorAll ? ( this.parentNode || document ).querySelectorAll( selector ) || [] : $(selector),\n                  i = nodeList.length;\n\n              while (i--) {\n                  if (nodeList[i] == this) {\n                      return true;\n                  }\n              }\n\n              return false;\n          };\n\n        support.matchMedia = \"matchMedia\" in window;\n\n        support.pushState = window.history && window.history.pushState;\n\n        support.hashChange = \"onhashchange\" in window;\n\n        support.customElements = \"registerElement\" in window.document;\n\n        var chrome = support.browser.chrome,\n            mobileChrome = support.browser.crios,\n            mozilla = support.browser.mozilla,\n            safari = support.browser.safari;\n        support.msPointers = !chrome && window.MSPointerEvent;\n        support.pointers = !chrome && !mobileChrome && !mozilla && !safari && window.PointerEvent;\n        support.kineticScrollNeeded = mobileOS && (support.touch || support.msPointers || support.pointers);\n    })();\n\n\n    function size(obj) {\n        var result = 0, key;\n        for (key in obj) {\n            if (obj.hasOwnProperty(key) && key != \"toJSON\") { // Ignore fake IE7 toJSON.\n                result++;\n            }\n        }\n\n        return result;\n    }\n\n    function getOffset(element, type, positioned) {\n        if (!type) {\n            type = \"offset\";\n        }\n\n        var offset = element[type]();\n        // clone ClientRect object to JS object (jQuery3)\n        var result = {\n            top: offset.top,\n            right: offset.right,\n            bottom: offset.bottom,\n            left: offset.left\n        };\n\n        // IE10 touch zoom is living in a separate viewport\n        if (support.browser.msie && (support.pointers || support.msPointers) && !positioned) {\n            var sign = support.isRtl(element) ? 1 : -1;\n\n            result.top -= (window.pageYOffset - (document.documentElement.scrollTop));\n            result.left -= (window.pageXOffset + (sign * document.documentElement.scrollLeft));\n        }\n\n        return result;\n    }\n\n    var directions = {\n        left: { reverse: \"right\" },\n        right: { reverse: \"left\" },\n        down: { reverse: \"up\" },\n        up: { reverse: \"down\" },\n        top: { reverse: \"bottom\" },\n        bottom: { reverse: \"top\" },\n        \"in\": { reverse: \"out\" },\n        out: { reverse: \"in\" }\n    };\n\n    function parseEffects(input) {\n        var effects = {};\n\n        each((typeof input === \"string\" ? input.split(\" \") : input), function(idx) {\n            effects[idx] = this;\n        });\n\n        return effects;\n    }\n\n    function fx(element) {\n        return new kendo.effects.Element(element);\n    }\n\n    var effects = {};\n\n    $.extend(effects, {\n        enabled: true,\n        Element: function(element) {\n            this.element = $(element);\n        },\n\n        promise: function(element, options) {\n            if (!element.is(\":visible\")) {\n                element.css({ display: element.data(\"olddisplay\") || \"block\" }).css(\"display\");\n            }\n\n            if (options.hide) {\n                element.data(\"olddisplay\", element.css(\"display\")).hide();\n            }\n\n            if (options.init) {\n                options.init();\n            }\n\n            if (options.completeCallback) {\n                options.completeCallback(element); // call the external complete callback with the element\n            }\n\n            element.dequeue();\n        },\n\n        disable: function() {\n            this.enabled = false;\n            this.promise = this.promiseShim;\n        },\n\n        enable: function() {\n            this.enabled = true;\n            this.promise = this.animatedPromise;\n        }\n    });\n\n    effects.promiseShim = effects.promise;\n\n    function prepareAnimationOptions(options, duration, reverse, complete) {\n        if (typeof options === STRING) {\n            // options is the list of effect names separated by space e.g. animate(element, \"fadeIn slideDown\")\n\n            // only callback is provided e.g. animate(element, options, function() {});\n            if (isFunction(duration)) {\n                complete = duration;\n                duration = 400;\n                reverse = false;\n            }\n\n            if (isFunction(reverse)) {\n                complete = reverse;\n                reverse = false;\n            }\n\n            if (typeof duration === BOOLEAN){\n                reverse = duration;\n                duration = 400;\n            }\n\n            options = {\n                effects: options,\n                duration: duration,\n                reverse: reverse,\n                complete: complete\n            };\n        }\n\n        return extend({\n            //default options\n            effects: {},\n            duration: 400, //jQuery default duration\n            reverse: false,\n            init: noop,\n            teardown: noop,\n            hide: false\n        }, options, { completeCallback: options.complete, complete: noop }); // Move external complete callback, so deferred.resolve can be always executed.\n\n    }\n\n    function animate(element, options, duration, reverse, complete) {\n        var idx = 0,\n            length = element.length,\n            instance;\n\n        for (; idx < length; idx ++) {\n            instance = $(element[idx]);\n            instance.queue(function() {\n                effects.promise(instance, prepareAnimationOptions(options, duration, reverse, complete));\n            });\n        }\n\n        return element;\n    }\n\n    function toggleClass(element, classes, options, add) {\n        if (classes) {\n            classes = classes.split(\" \");\n\n            each(classes, function(idx, value) {\n                element.toggleClass(value, add);\n            });\n        }\n\n        return element;\n    }\n\n    if (!(\"kendoAnimate\" in $.fn)) {\n        extend($.fn, {\n            kendoStop: function(clearQueue, gotoEnd) {\n                return this.stop(clearQueue, gotoEnd);\n            },\n\n            kendoAnimate: function(options, duration, reverse, complete) {\n                return animate(this, options, duration, reverse, complete);\n            },\n\n            kendoAddClass: function(classes, options){\n                return kendo.toggleClass(this, classes, options, true);\n            },\n\n            kendoRemoveClass: function(classes, options){\n                return kendo.toggleClass(this, classes, options, false);\n            },\n            kendoToggleClass: function(classes, options, toggle){\n                return kendo.toggleClass(this, classes, options, toggle);\n            }\n        });\n    }\n\n    var ampRegExp = /&/g,\n        ltRegExp = /</g,\n        quoteRegExp = /\"/g,\n        aposRegExp = /'/g,\n        gtRegExp = />/g;\n    function htmlEncode(value) {\n        return (\"\" + value).replace(ampRegExp, \"&amp;\").replace(ltRegExp, \"&lt;\").replace(gtRegExp, \"&gt;\").replace(quoteRegExp, \"&quot;\").replace(aposRegExp, \"&#39;\");\n    }\n\n    function unescape(value) {\n        var template;\n\n        try {\n            template = window.decodeURIComponent(value);\n        } catch(error) {\n            // If the string contains Unicode characters\n            // the decodeURIComponent() will throw an error.\n            // Therefore: convert to UTF-8 character\n            template = value.replace(/%u([\\dA-F]{4})|%([\\dA-F]{2})/gi, function(_, m1, m2) {\n                return String.fromCharCode(parseInt(\"0x\" + (m1 || m2), 16));\n            });\n        }\n\n        return template;\n    }\n\n    var eventTarget = function (e) {\n        return e.target;\n    };\n\n    if (support.touch) {\n\n        eventTarget = function(e) {\n            var touches = \"originalEvent\" in e ? e.originalEvent.changedTouches : \"changedTouches\" in e ? e.changedTouches : null;\n\n            return touches ? document.elementFromPoint(touches[0].clientX, touches[0].clientY) : e.target;\n        };\n\n        each([\"swipe\", \"swipeLeft\", \"swipeRight\", \"swipeUp\", \"swipeDown\", \"doubleTap\", \"tap\"], function(m, value) {\n            $.fn[value] = function(callback) {\n                return this.on(value, callback);\n            };\n        });\n    }\n\n    if (support.touch) {\n        if (!support.mobileOS) {\n            support.mousedown = \"mousedown touchstart\";\n            support.mouseup = \"mouseup touchend\";\n            support.mousemove = \"mousemove touchmove\";\n            support.mousecancel = \"mouseleave touchcancel\";\n            support.click = \"click\";\n            support.resize = \"resize\";\n        } else {\n            support.mousedown = \"touchstart\";\n            support.mouseup = \"touchend\";\n            support.mousemove = \"touchmove\";\n            support.mousecancel = \"touchcancel\";\n            support.click = \"touchend\";\n            support.resize = \"orientationchange\";\n        }\n    } else if (support.pointers) {\n        support.mousemove = \"pointermove\";\n        support.mousedown = \"pointerdown\";\n        support.mouseup = \"pointerup\";\n        support.mousecancel = \"pointercancel\";\n        support.click = \"pointerup\";\n        support.resize = \"orientationchange resize\";\n    } else if (support.msPointers) {\n        support.mousemove = \"MSPointerMove\";\n        support.mousedown = \"MSPointerDown\";\n        support.mouseup = \"MSPointerUp\";\n        support.mousecancel = \"MSPointerCancel\";\n        support.click = \"MSPointerUp\";\n        support.resize = \"orientationchange resize\";\n    } else {\n        support.mousemove = \"mousemove\";\n        support.mousedown = \"mousedown\";\n        support.mouseup = \"mouseup\";\n        support.mousecancel = \"mouseleave\";\n        support.click = \"click\";\n        support.resize = \"resize\";\n    }\n\n    var wrapExpression = function(members, paramName) {\n        var result = paramName || \"d\",\n            index,\n            idx,\n            length,\n            member,\n            count = 1;\n\n        for (idx = 0, length = members.length; idx < length; idx++) {\n            member = members[idx];\n            if (member !== \"\") {\n                index = member.indexOf(\"[\");\n\n                if (index !== 0) {\n                    if (index == -1) {\n                        member = \".\" + member;\n                    } else {\n                        count++;\n                        member = \".\" + member.substring(0, index) + \" || {})\" + member.substring(index);\n                    }\n                }\n\n                count++;\n                result += member + ((idx < length - 1) ? \" || {})\" : \")\");\n            }\n        }\n        return new Array(count).join(\"(\") + result;\n    },\n    localUrlRe = /^([a-z]+:)?\\/\\//i;\n\n    extend(kendo, {\n        widgets: [],\n        _widgetRegisteredCallbacks: [],\n        ui: kendo.ui || {},\n        fx: kendo.fx || fx,\n        effects: kendo.effects || effects,\n        mobile: kendo.mobile || { },\n        data: kendo.data || {},\n        dataviz: kendo.dataviz || {},\n        drawing: kendo.drawing || {},\n        spreadsheet: { messages: {} },\n        keys: {\n            INSERT: 45,\n            DELETE: 46,\n            BACKSPACE: 8,\n            TAB: 9,\n            ENTER: 13,\n            ESC: 27,\n            LEFT: 37,\n            UP: 38,\n            RIGHT: 39,\n            DOWN: 40,\n            END: 35,\n            HOME: 36,\n            SPACEBAR: 32,\n            PAGEUP: 33,\n            PAGEDOWN: 34,\n            F2: 113,\n            F10: 121,\n            F12: 123,\n            NUMPAD_PLUS: 107,\n            NUMPAD_MINUS: 109,\n            NUMPAD_DOT: 110\n        },\n        support: kendo.support || support,\n        animate: kendo.animate || animate,\n        ns: \"\",\n        attr: function(value) {\n            return \"data-\" + kendo.ns + value;\n        },\n        getShadows: getShadows,\n        wrap: wrap,\n        deepExtend: deepExtend,\n        getComputedStyles: getComputedStyles,\n        isScrollable: isScrollable,\n        scrollLeft: scrollLeft,\n        size: size,\n        toCamelCase: toCamelCase,\n        toHyphens: toHyphens,\n        getOffset: kendo.getOffset || getOffset,\n        parseEffects: kendo.parseEffects || parseEffects,\n        toggleClass: kendo.toggleClass || toggleClass,\n        directions: kendo.directions || directions,\n        Observable: Observable,\n        Class: Class,\n        Template: Template,\n        template: Template.compile.bind(Template),\n        render: Template.render.bind(Template),\n        stringify: JSON.stringify.bind(JSON),\n        eventTarget: eventTarget,\n        htmlEncode: htmlEncode,\n        unescape: unescape,\n        isLocalUrl: function(url) {\n            return url && !localUrlRe.test(url);\n        },\n\n        expr: function(expression, safe, paramName) {\n            expression = expression || \"\";\n\n            if (typeof safe == STRING) {\n                paramName = safe;\n                safe = false;\n            }\n\n            paramName = paramName || \"d\";\n\n            if (expression && expression.charAt(0) !== \"[\") {\n                expression = \".\" + expression;\n            }\n\n            if (safe) {\n                expression = expression.replace(/\"([^.]*)\\.([^\"]*)\"/g,'\"$1_$DOT$_$2\"');\n                expression = expression.replace(/'([^.]*)\\.([^']*)'/g,\"'$1_$DOT$_$2'\");\n                expression = wrapExpression(expression.split(\".\"), paramName);\n                expression = expression.replace(/_\\$DOT\\$_/g, \".\");\n            } else {\n                expression = paramName + expression;\n            }\n\n            return expression;\n        },\n\n        getter: function(expression, safe) {\n            var key = expression + safe;\n            return getterCache[key] = getterCache[key] || new Function(\"d\", \"return \" + kendo.expr(expression, safe));\n        },\n\n        setter: function(expression) {\n            return setterCache[expression] = setterCache[expression] || new Function(\"d,value\", kendo.expr(expression) + \"=value\");\n        },\n\n        accessor: function(expression) {\n            return {\n                get: kendo.getter(expression),\n                set: kendo.setter(expression)\n            };\n        },\n\n        guid: function() {\n            var id = \"\", i, random, chars = \"abcdef\";\n\n            id += chars[Math.floor(Math.random() * Math.floor(chars.length))];\n\n            for (i = 1; i < 32; i++) {\n                random = math.random() * 16 | 0;\n\n                if (i == 8 || i == 12 || i == 16 || i == 20) {\n                    id += \"-\";\n                }\n                id += (i == 12 ? 4 : (i == 16 ? (random & 3 | 8) : random)).toString(16);\n            }\n\n            return id;\n        },\n\n        roleSelector: function(role) {\n            return role.replace(/(\\S+)/g, \"[\" + kendo.attr(\"role\") + \"=$1],\").slice(0, -1);\n        },\n\n        directiveSelector: function(directives) {\n            var selectors = directives.split(\" \");\n\n            if (selectors) {\n                for (var i = 0; i < selectors.length; i++) {\n                    if (selectors[i] != \"view\") {\n                        selectors[i] = selectors[i].replace(/(\\w*)(view|bar|strip|over)$/, \"$1-$2\");\n                    }\n                }\n            }\n\n            return selectors.join(\" \").replace(/(\\S+)/g, \"kendo-mobile-$1,\").slice(0, -1);\n        },\n\n        triggeredByInput: function(e) {\n            return (/^(label|input|textarea|select)$/i).test(e.target.tagName);\n        },\n\n        onWidgetRegistered: function(callback) {\n            for (var i = 0, len = kendo.widgets.length; i < len; i++) {\n                callback(kendo.widgets[i]);\n            }\n\n            kendo._widgetRegisteredCallbacks.push(callback);\n        },\n\n        logToConsole: function(message, type) {\n            var console = window.console;\n\n            if (!kendo.suppressLog && typeof(console) != \"undefined\" && console.log) {\n                console[type || \"log\"](message);\n            }\n        }\n    });\n\n    var Widget = Observable.extend( {\n        init: function(element, options) {\n            var that = this;\n\n            that.element = kendo.jQuery(element).handler(that);\n\n            that.angular(\"init\", options);\n\n            Observable.fn.init.call(that);\n\n            var dataSource = options ? options.dataSource : null;\n            var props;\n\n            if (options) {\n                props = (that.componentTypes || {})[(options || {}).componentType];\n            }\n\n            if (dataSource) {\n                // avoid deep cloning the data source\n                options = extend({}, options, { dataSource: {} });\n            }\n\n            options = that.options = extend(true, {}, that.options, that.defaults, props || {}, options);\n\n            if (dataSource) {\n                options.dataSource = dataSource;\n            }\n\n            if (!that.element.attr(kendo.attr(\"role\"))) {\n                that.element.attr(kendo.attr(\"role\"), (options.name || \"\").toLowerCase());\n            }\n\n            that.element.data(\"kendo\" + options.prefix + options.name, that);\n\n            that.bind(that.events, options);\n        },\n\n        events: [],\n\n        options: {\n            prefix: \"\"\n        },\n\n        _hasBindingTarget: function() {\n            return !!this.element[0].kendoBindingTarget;\n        },\n\n        _tabindex: function(target) {\n            target = target || this.wrapper;\n\n            var element = this.element,\n                TABINDEX = \"tabindex\",\n                tabindex = target.attr(TABINDEX) || element.attr(TABINDEX);\n\n            element.removeAttr(TABINDEX);\n\n            target.attr(TABINDEX, !isNaN(tabindex) ? tabindex : 0);\n        },\n\n        setOptions: function(options) {\n            this._clearCssClasses(options);\n            this._setEvents(options);\n            $.extend(this.options, options);\n            this._applyCssClasses();\n        },\n\n        _setEvents: function(options) {\n            var that = this,\n                idx = 0,\n                length = that.events.length,\n                e;\n\n            for (; idx < length; idx ++) {\n                e = that.events[idx];\n                if (that.options[e] && options[e]) {\n                    that.unbind(e, that.options[e]);\n                    if (that._events && that._events[e]) {\n                        delete that._events[e];\n                    }\n                }\n            }\n\n            that.bind(that.events, options);\n        },\n\n        resize: function(force) {\n            var size = this.getSize(),\n                currentSize = this._size;\n\n            if (force || (size.width > 0 || size.height > 0) && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {\n                this._size = size;\n                this._resize(size, force);\n                this.trigger(\"resize\", size);\n            }\n        },\n\n        getSize: function() {\n            return kendo.dimensions(this.element);\n        },\n\n        size: function(size) {\n            if (!size) {\n                return this.getSize();\n            } else {\n                this.setSize(size);\n            }\n        },\n\n        setSize: $.noop,\n        _resize: $.noop,\n\n        destroy: function() {\n            var that = this;\n\n            that.element.removeData(\"kendo\" + that.options.prefix + that.options.name);\n            that.element.removeData(\"handler\");\n            that.unbind();\n        },\n        _destroy: function() {\n            this.destroy();\n        },\n        angular: function(){},\n\n        _muteAngularRebind: function(callback) {\n            this._muteRebind = true;\n\n            callback.call(this);\n\n            this._muteRebind = false;\n        },\n\n        _applyCssClasses: function(element) {\n            var protoOptions = this.__proto__.options, // jshint ignore:line\n                options = this.options,\n                el = element || this.wrapper || this.element,\n                classes = [],\n                i, prop, validFill, widgetName;\n\n            if (!kendo.cssProperties.propertyDictionary[protoOptions.name]) {\n                return;\n            }\n\n            for (i = 0; i < cssPropertiesNames.length; i++) {\n                prop = cssPropertiesNames[i];\n                widgetName = this.options._altname || protoOptions.name;\n\n                if (protoOptions.hasOwnProperty(prop)) {\n                    if (prop === \"themeColor\") {\n                        validFill = kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: \"fillMode\",\n                            value: options.fillMode\n                        });\n\n                        if (validFill && validFill.length) {\n                            classes.push(kendo.cssProperties.getValidClass({\n                                widget: widgetName,\n                                propName: prop,\n                                value: options[prop],\n                                fill: options.fillMode\n                            }));\n                        }\n                    } else {\n                        classes.push(kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: prop,\n                            value: options[prop]\n                        }));\n                    }\n                }\n            }\n\n            el.addClass(classes.join(\" \"));\n        },\n\n        _ariaLabel: function(target) {\n            var that = this,\n                inputElm = that.element,\n                inputId = inputElm.attr(\"id\"),\n                labelElm = $(\"label[for=\\\"\" + inputId + \"\\\"]\"),\n                ariaLabel = inputElm.attr(ARIA_LABEL),\n                ariaLabelledBy = inputElm.attr(ARIA_LABELLEDBY),\n                labelId;\n\n            if (target[0] === inputElm[0]) {\n                return;\n            }\n\n            if (ariaLabel) {\n                target.attr(ARIA_LABEL, ariaLabel);\n            } else if (ariaLabelledBy) {\n                target.attr(ARIA_LABELLEDBY, ariaLabelledBy);\n            } else if (labelElm.length) {\n                labelId = labelElm.attr(\"id\") || that._generateLabelId(labelElm, inputId || kendo.guid());\n                target.attr(ARIA_LABELLEDBY, labelId);\n            }\n        },\n\n        _clearCssClasses: function(newOptions, element) {\n            var protoOptions = this.__proto__.options, // jshint ignore:line\n                currentOptions = this.options,\n                el = element || this.wrapper || this.element,\n                i, prop, widgetName;\n\n            if(!kendo.cssProperties.propertyDictionary[protoOptions.name]) {\n                return;\n            }\n\n            for(i = 0; i < cssPropertiesNames.length; i++) {\n                prop = cssPropertiesNames[i];\n                widgetName = this.options._altname || protoOptions.name;\n\n                if(protoOptions.hasOwnProperty(prop) && newOptions.hasOwnProperty(prop)) {\n                    if (prop === \"themeColor\") {\n                        el.removeClass(kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: prop,\n                            value: currentOptions[prop],\n                            fill: currentOptions.fillMode\n                        }));\n                    } else {\n                        if (prop === \"fillMode\") {\n                            el.removeClass(kendo.cssProperties.getValidClass({\n                                widget: widgetName,\n                                propName: \"themeColor\",\n                                value: currentOptions.themeColor,\n                                fill: currentOptions.fillMode\n                            }));\n                        }\n\n                        el.removeClass(kendo.cssProperties.getValidClass({\n                            widget: widgetName,\n                            propName: prop,\n                            value: currentOptions[prop]\n                        }));\n                    }\n                }\n            }\n        },\n\n        _generateLabelId: function(label, inputId){\n            var labelId = inputId + LABELIDPART;\n\n            label.attr(\"id\", labelId);\n\n            return labelId;\n        },\n    });\n\n    var DataBoundWidget = Widget.extend({\n        // Angular consumes these.\n        dataItems: function() {\n            return this.dataSource.flatView();\n        },\n\n        _angularItems: function(cmd) {\n            var that = this;\n            that.angular(cmd, function(){\n                return {\n                    elements: that.items(),\n                    data: $.map(that.dataItems(), function(dataItem){\n                        return { dataItem: dataItem };\n                    })\n                };\n            });\n        }\n    });\n\n    kendo.dimensions = function(element, dimensions) {\n        var domElement = element[0];\n\n        if (dimensions) {\n            element.css(dimensions);\n        }\n\n        return { width: domElement.offsetWidth, height: domElement.offsetHeight };\n    };\n\n    kendo.notify = noop;\n\n    var templateRegExp = /template$/i,\n        jsonRegExp = /^\\s*(?:\\{(?:.|\\r\\n|\\n)*\\}|\\[(?:.|\\r\\n|\\n)*\\])\\s*$/,\n        jsonFormatRegExp = /^\\{(\\d+)(:[^\\}]+)?\\}|^\\[[A-Za-z_]+\\]$/,\n        dashRegExp = /([A-Z])/g;\n\n    function parseOption(element, option) {\n        var value;\n\n        if (option.indexOf(\"data\") === 0) {\n            option = option.substring(4);\n            option = option.charAt(0).toLowerCase() + option.substring(1);\n        }\n\n        option = option.replace(dashRegExp, \"-$1\");\n        value = element.getAttribute(\"data-\" + kendo.ns + option);\n\n        if (value === null) {\n            value = undefined;\n        } else if (value === \"null\") {\n            value = null;\n        } else if (value === \"true\") {\n            value = true;\n        } else if (value === \"false\") {\n            value = false;\n        } else if (numberRegExp.test(value) && option != \"mask\" && option != \"format\") {\n            value = parseFloat(value);\n        } else if (jsonRegExp.test(value) && !jsonFormatRegExp.test(value)) {\n            value = new Function(\"return (\" + value + \")\")();\n        }\n\n        return value;\n    }\n\n    function parseOptions(element, options, source) {\n        var result = {},\n            option,\n            value,\n            role = element.getAttribute(\"data-\" + kendo.ns + \"role\");\n\n        for (option in options) {\n            value = parseOption(element, option);\n\n            if (value !== undefined) {\n\n                if (templateRegExp.test(option) && role != \"drawer\") {\n                    if(typeof value === \"string\") {\n                        if($(\"#\" + value).length){\n                            value = kendo.template($(\"#\" + value).html());\n                        }else if (source){\n                            value = kendo.template(source[value]);\n                        }\n                    } else {\n                        value = element.getAttribute(option);\n                    }\n                }\n\n                result[option] = value;\n            }\n        }\n\n        return result;\n    }\n\n    kendo.initWidget = function(element, options, roles) {\n        var result,\n            option,\n            widget,\n            idx,\n            length,\n            role,\n            value,\n            dataSource,\n            fullPath,\n            widgetKeyRegExp;\n\n        // Preserve backwards compatibility with (element, options, namespace) signature, where namespace was kendo.ui\n        if (!roles) {\n            roles = kendo.ui.roles;\n        } else if (roles.roles) {\n            roles = roles.roles;\n        }\n\n        element = element.nodeType ? element : element[0];\n\n        role = element.getAttribute(\"data-\" + kendo.ns + \"role\");\n\n        if (!role) {\n            return;\n        }\n\n        fullPath = role.indexOf(\".\") === -1;\n\n        // look for any widget that may be already instantiated based on this role.\n        // The prefix used is unknown, hence the regexp\n        //\n\n        if (fullPath) {\n            widget = roles[role];\n        } else { // full namespace path - like kendo.ui.Widget\n            widget = kendo.getter(role)(window);\n        }\n\n        var data = $(element).data(),\n            widgetKey = widget ? \"kendo\" + widget.fn.options.prefix + widget.fn.options.name : \"\";\n\n        if (fullPath) {\n            widgetKeyRegExp = new RegExp(\"^kendo.*\" + role + \"$\", \"i\");\n        } else { // full namespace path - like kendo.ui.Widget\n            widgetKeyRegExp = new RegExp(\"^\" + widgetKey + \"$\", \"i\");\n        }\n\n        for(var key in data) {\n            if (key.match(widgetKeyRegExp)) {\n                // we have detected a widget of the same kind - save its reference, we will set its options\n                if (key === widgetKey) {\n                    result = data[key];\n                } else {\n                    return data[key];\n                }\n            }\n        }\n\n        if (!widget) {\n            return;\n        }\n\n        dataSource = parseOption(element, \"dataSource\");\n\n        options = $.extend({}, parseOptions(element, $.extend({}, widget.fn.options, widget.fn.defaults) ), options);\n\n        if (dataSource) {\n            if (typeof dataSource === STRING) {\n                options.dataSource = kendo.getter(dataSource)(window);\n            } else {\n                options.dataSource = dataSource;\n            }\n        }\n\n        for (idx = 0, length = widget.fn.events.length; idx < length; idx++) {\n            option = widget.fn.events[idx];\n\n            value = parseOption(element, option);\n\n            if (value !== undefined) {\n                options[option] = kendo.getter(value)(window);\n            }\n        }\n\n        if (!result) {\n            result = new widget(element, options);\n        } else if (!$.isEmptyObject(options)) {\n            result.setOptions(options);\n        }\n\n        return result;\n    };\n\n    kendo.rolesFromNamespaces = function(namespaces) {\n        var roles = [],\n            idx,\n            length;\n\n        if (!namespaces[0]) {\n            namespaces = [kendo.ui, kendo.dataviz.ui];\n        }\n\n        for (idx = 0, length = namespaces.length; idx < length; idx ++) {\n            roles[idx] = namespaces[idx].roles;\n        }\n\n        return extend.apply(null, [{}].concat(roles.reverse()));\n    };\n\n    kendo.init = function(element) {\n        var roles = kendo.rolesFromNamespaces(slice.call(arguments, 1));\n\n        $(element).find(\"[data-\" + kendo.ns + \"role]\").addBack().each(function(){\n            kendo.initWidget(this, {}, roles);\n        });\n    };\n\n    kendo.destroy = function(element) {\n        $(element).find(\"[data-\" + kendo.ns + \"role]\").addBack().each(function(){\n            var data = $(this).data();\n\n            for (var key in data) {\n                if (key.indexOf(\"kendo\") === 0 && typeof data[key].destroy === FUNCTION) {\n                    data[key].destroy();\n                }\n            }\n        });\n    };\n\n    function containmentComparer(a, b) {\n        return $.contains(a, b) ? -1 : 1;\n    }\n\n    function resizableWidget() {\n        var widget = $(this);\n        return ($.inArray(widget.attr(\"data-\" + kendo.ns + \"role\"), [\"slider\", \"rangeslider\", \"breadcrumb\"]) > -1) || widget.is(\":visible\");\n    }\n\n    kendo.resize = function(element, force) {\n        var widgets = $(element).find(\"[data-\" + kendo.ns + \"role]\").addBack().filter(resizableWidget);\n\n        if (!widgets.length) {\n            return;\n        }\n\n        // sort widgets based on their parent-child relation\n        var widgetsArray = $.makeArray(widgets);\n        widgetsArray.sort(containmentComparer);\n\n        // resize widgets\n        $.each(widgetsArray, function () {\n            var widget = kendo.widgetInstance($(this));\n            if (widget) {\n                widget.resize(force);\n            }\n        });\n    };\n\n    kendo.parseOptions = parseOptions;\n\n    extend(kendo.ui, {\n        Widget: Widget,\n        DataBoundWidget: DataBoundWidget,\n        roles: {},\n        progress: function(container, toggle, options) {\n            var mask = container.find(\".k-loading-mask\"),\n                support = kendo.support,\n                browser = support.browser,\n                isRtl, leftRight, webkitCorrection, containerScrollLeft, cssClass;\n\n                options = $.extend({}, {\n                    width: \"100%\",\n                    height: \"100%\",\n                    top: container.scrollTop(),\n                    opacity: false\n                }, options);\n\n                cssClass = options.opacity ? 'k-loading-mask k-opaque' : 'k-loading-mask';\n\n            if (toggle) {\n                if (!mask.length) {\n                    isRtl = support.isRtl(container);\n                    leftRight = isRtl ? \"right\" : \"left\";\n                    containerScrollLeft = kendo.scrollLeft(container);\n                    webkitCorrection = browser.webkit ? (!isRtl ? 0 : container[0].scrollWidth - container.width() - 2 * containerScrollLeft) : 0;\n\n                    mask = $(kendo.format(\"<div class='{0}'><span role='alert' aria-live='polite' class='k-loading-text'>{1}</span><div class='k-loading-image'></div><div class='k-loading-color'></div></div>\", cssClass, kendo.ui.progress.messages.loading))\n                        .width(options.width).height(options.height)\n                        .css(\"top\", options.top)\n                        .css(leftRight, Math.abs(containerScrollLeft) + webkitCorrection)\n                        .prependTo(container);\n                }\n            } else if (mask) {\n                mask.remove();\n            }\n        },\n        plugin: function(widget, register, prefix) {\n            var name = widget.fn.options.name,\n                getter;\n\n            register = register || kendo.ui;\n            prefix = prefix || \"\";\n\n            register[name] = widget;\n\n            register.roles[name.toLowerCase()] = widget;\n\n            getter = \"getKendo\" + prefix + name;\n            name = \"kendo\" + prefix + name;\n\n            var widgetEntry = { name: name, widget: widget, prefix: prefix || \"\" };\n            kendo.widgets.push(widgetEntry);\n\n            for (var i = 0, len = kendo._widgetRegisteredCallbacks.length; i < len; i++) {\n                kendo._widgetRegisteredCallbacks[i](widgetEntry);\n            }\n\n            $.fn[name] = function(options) {\n                var value = this,\n                    args;\n\n                if (typeof options === STRING) {\n                    args = slice.call(arguments, 1);\n\n                    this.each(function(){\n                        var widget = $.data(this, name),\n                            method,\n                            result;\n\n                        if (!widget) {\n                            throw new Error(kendo.format(\"Cannot call method '{0}' of {1} before it is initialized\", options, name));\n                        }\n\n                        method = widget[options];\n\n                        if (typeof method !== FUNCTION) {\n                            throw new Error(kendo.format(\"Cannot find method '{0}' of {1}\", options, name));\n                        }\n\n                        result = method.apply(widget, args);\n\n                        if (result !== undefined) {\n                            value = result;\n                            return false;\n                        }\n                    });\n                } else {\n                    this.each(function() {\n                        return new widget(this, options);\n                    });\n                }\n\n                return value;\n            };\n\n            $.fn[name].widget = widget;\n\n            $.fn[getter] = function() {\n                return this.data(name);\n            };\n        }\n    });\n\n    kendo.ui.progress.messages = {\n        loading: \"Loading...\"\n    };\n\n    var ContainerNullObject = { bind: function () { return this; }, nullObject: true, options: {} };\n\n    var MobileWidget = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            this.element.autoApplyNS();\n            this.wrapper = this.element;\n            this.element.addClass(\"km-widget\");\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.element.kendoDestroy();\n        },\n\n        options: {\n            prefix: \"Mobile\"\n        },\n\n        events: [],\n\n        view: function() {\n            var viewElement = this.element.closest(kendo.roleSelector(\"view splitview modalview drawer\"));\n            return kendo.widgetInstance(viewElement, kendo.mobile.ui) || ContainerNullObject;\n        },\n\n        viewHasNativeScrolling: function() {\n            var view = this.view();\n            return view && view.options.useNativeScrolling;\n        },\n\n        container: function() {\n            var element = this.element.closest(kendo.roleSelector(\"view layout modalview drawer splitview\"));\n            return kendo.widgetInstance(element.eq(0), kendo.mobile.ui) || ContainerNullObject;\n        }\n    });\n\n    extend(kendo.mobile, {\n        init: function(element) {\n            kendo.init(element, kendo.mobile.ui, kendo.ui, kendo.dataviz.ui);\n        },\n\n        appLevelNativeScrolling: function() {\n            return kendo.mobile.application && kendo.mobile.application.options && kendo.mobile.application.options.useNativeScrolling;\n        },\n\n        roles: {},\n\n        ui: {\n            Widget: MobileWidget,\n            DataBoundWidget: DataBoundWidget.extend(MobileWidget.prototype),\n            roles: {},\n            plugin: function(widget) {\n                kendo.ui.plugin(widget, kendo.mobile.ui, \"Mobile\");\n            }\n        }\n    });\n\n    deepExtend(kendo.dataviz, {\n        init: function(element) {\n            kendo.init(element, kendo.dataviz.ui);\n        },\n        ui: {\n            roles: {},\n            themes: {},\n            views: [],\n            plugin: function(widget) {\n                kendo.ui.plugin(widget, kendo.dataviz.ui);\n            }\n        },\n        roles: {}\n    });\n\n    kendo.touchScroller = function(elements, options) {\n        // return the first touch scroller\n        if (!options){ options = {}; }\n\n        options.useNative = true;\n\n        return $(elements).map(function(idx, element) {\n            element = $(element);\n            if (support.kineticScrollNeeded && kendo.mobile.ui.Scroller && !element.data(\"kendoMobileScroller\")) {\n                element.kendoMobileScroller(options);\n                return element.data(\"kendoMobileScroller\");\n            } else {\n                return false;\n            }\n        })[0];\n    };\n\n    kendo.preventDefault = function(e) {\n        e.preventDefault();\n    };\n\n    kendo.widgetInstance = function(element, suites) {\n        var role = element.data(kendo.ns + \"role\"),\n            widgets = [], i, length,\n            elementData = element.data(\"kendoView\");\n\n        if (role) {\n            // HACK!!! mobile view scroller widgets are instantiated on data-role=\"content\" elements. We need to discover them when resizing.\n            if (role === \"content\") {\n                role = \"scroller\";\n            }\n\n            // kendoEditorToolbar is not a public plugin, thus it does not exist in kendo.ui.roles.\n            // Therefore, this is needed in order to be resized when placed in Kendo Window.\n            if (role === \"editortoolbar\") {\n                var editorToolbar = element.data(\"kendoEditorToolbar\");\n                if (editorToolbar) {\n                    return editorToolbar;\n                }\n            }\n\n            // kendo.View is not a ui plugin\n\n            if (role === \"view\" && elementData) {\n                return elementData;\n            }\n\n            if (suites) {\n                if (suites[0]) {\n                    for (i = 0, length = suites.length; i < length; i ++) {\n                        widgets.push(suites[i].roles[role]);\n                    }\n                } else {\n                    widgets.push(suites.roles[role]);\n                }\n            }\n            else {\n                widgets = [ kendo.ui.roles[role], kendo.dataviz.ui.roles[role],  kendo.mobile.ui.roles[role] ];\n            }\n\n            if (role.indexOf(\".\") >= 0) {\n                widgets = [ kendo.getter(role)(window) ];\n            }\n\n            for (i = 0, length = widgets.length; i < length; i ++) {\n                var widget = widgets[i];\n                if (widget) {\n                    var instance = element.data(\"kendo\" + widget.fn.options.prefix + widget.fn.options.name);\n                    if (instance) {\n                        return instance;\n                    }\n                }\n            }\n        }\n    };\n\n    kendo.onResize = function(callback) {\n        var handler = callback;\n        if (support.mobileOS.android) {\n            handler = function() { setTimeout(callback, 600); };\n        }\n\n        $(window).on(support.resize, handler);\n        return handler;\n    };\n\n    kendo.unbindResize = function(callback) {\n        $(window).off(support.resize, callback);\n    };\n\n    kendo.attrValue = function(element, key) {\n        return element.data(kendo.ns + key);\n    };\n\n    kendo.days = {\n        Sunday: 0,\n        Monday: 1,\n        Tuesday: 2,\n        Wednesday: 3,\n        Thursday: 4,\n        Friday: 5,\n        Saturday: 6\n    };\n\n    function focusable(element, isTabIndexNotNaN) {\n        var nodeName = element.nodeName.toLowerCase();\n\n        return (/input|select|textarea|button|object/.test(nodeName) ?\n                !element.disabled :\n                \"a\" === nodeName ?\n                element.href || isTabIndexNotNaN :\n                isTabIndexNotNaN\n               ) &&\n            visible(element);\n    }\n\n    function visible(element) {\n        return $.expr.pseudos.visible(element) &&\n            !$(element).parents().addBack().filter(function() {\n                return $.css(this,\"visibility\") === \"hidden\";\n            }).length;\n    }\n\n    $.extend($.expr.pseudos, {\n        kendoFocusable: function(element) {\n            var idx = $.attr(element, \"tabindex\");\n            return focusable(element, !isNaN(idx) && idx > -1);\n        }\n    });\n\n    var MOUSE_EVENTS = [\"mousedown\", \"mousemove\", \"mouseenter\", \"mouseleave\", \"mouseover\", \"mouseout\", \"mouseup\", \"click\"];\n    var EXCLUDE_BUST_CLICK_SELECTOR = \"label, input, [data-rel=external]\";\n\n    var MouseEventNormalizer = {\n        setupMouseMute: function() {\n            var idx = 0,\n                length = MOUSE_EVENTS.length,\n                element = document.documentElement;\n\n            if (MouseEventNormalizer.mouseTrap || !support.eventCapture) {\n                return;\n            }\n\n            MouseEventNormalizer.mouseTrap = true;\n\n            MouseEventNormalizer.bustClick = false;\n            MouseEventNormalizer.captureMouse = false;\n\n            var handler = function(e) {\n                if (MouseEventNormalizer.captureMouse) {\n                    if (e.type === \"click\") {\n                        if (MouseEventNormalizer.bustClick && !$(e.target).is(EXCLUDE_BUST_CLICK_SELECTOR)) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                        }\n                    } else {\n                        e.stopPropagation();\n                    }\n                }\n            };\n\n            for (; idx < length; idx++) {\n                element.addEventListener(MOUSE_EVENTS[idx], handler, true);\n            }\n        },\n\n        muteMouse: function(e) {\n            MouseEventNormalizer.captureMouse = true;\n            if (e.data.bustClick) {\n                MouseEventNormalizer.bustClick = true;\n            }\n            clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID);\n        },\n\n        unMuteMouse: function() {\n            clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID);\n            MouseEventNormalizer.mouseTrapTimeoutID = setTimeout(function() {\n                MouseEventNormalizer.captureMouse = false;\n                MouseEventNormalizer.bustClick = false;\n            }, 400);\n        }\n    };\n\n    var eventMap = {\n        down: \"touchstart mousedown\",\n        move: \"mousemove touchmove\",\n        up: \"mouseup touchend touchcancel\",\n        cancel: \"mouseleave touchcancel\"\n    };\n\n    if (support.touch && (support.mobileOS.ios || support.mobileOS.android)) {\n        eventMap = {\n            down: \"touchstart\",\n            move: \"touchmove\",\n            up: \"touchend touchcancel\",\n            cancel: \"touchcancel\"\n        };\n    } else if (support.pointers) {\n        eventMap = {\n            down: \"pointerdown\",\n            move: \"pointermove\",\n            up: \"pointerup\",\n            cancel: \"pointercancel pointerleave\"\n        };\n    } else if (support.msPointers) {\n        eventMap = {\n            down: \"MSPointerDown\",\n            move: \"MSPointerMove\",\n            up: \"MSPointerUp\",\n            cancel: \"MSPointerCancel MSPointerLeave\"\n        };\n    }\n\n    if (support.msPointers && !(\"onmspointerenter\" in window)) { // IE10\n        // Create MSPointerEnter/MSPointerLeave events using mouseover/out and event-time checks\n        $.each({\n            MSPointerEnter: \"MSPointerOver\",\n            MSPointerLeave: \"MSPointerOut\"\n        }, function( orig, fix ) {\n            $.event.special[ orig ] = {\n                delegateType: fix,\n                bindType: fix,\n\n                handle: function( event ) {\n                    var ret,\n                        target = this,\n                        related = event.relatedTarget,\n                        handleObj = event.handleObj;\n\n                    // For mousenter/leave call the handler if related is outside the target.\n                    // NB: No relatedTarget if the mouse left/entered the browser window\n                    if ( !related || (related !== target && !$.contains( target, related )) ) {\n                        event.type = handleObj.origType;\n                        ret = handleObj.handler.apply( this, arguments );\n                        event.type = fix;\n                    }\n                    return ret;\n                }\n            };\n        });\n    }\n\n\n    var getEventMap = function(e) { return (eventMap[e] || e); },\n        eventRegEx = /([^ ]+)/g;\n\n    kendo.applyEventMap = function(events, ns) {\n        events = events.replace(eventRegEx, getEventMap);\n\n        if (ns) {\n            events = events.replace(eventRegEx, \"$1.\" + ns);\n        }\n\n        return events;\n    };\n\n    kendo.keyDownHandler = function(e, widget) {\n        var events = widget._events.kendoKeydown;\n\n        if(!events){\n            return true;\n        }\n\n        events = events.slice();\n        e.sender = widget;\n        e.preventKendoKeydown = false;\n        for (var idx = 0, length = events.length; idx < length; idx++) {\n            events[idx].call(widget, e);\n        }\n\n        return !e.preventKendoKeydown;\n    };\n\n    var on = $.fn.on;\n\n    function kendoJQuery(selector, context) {\n        return new kendoJQuery.fn.init(selector, context);\n    }\n\n    noDepricateExtend(true, kendoJQuery, $);\n\n    kendoJQuery.fn = kendoJQuery.prototype = new $();\n\n    kendoJQuery.fn.constructor = kendoJQuery;\n\n    kendoJQuery.fn.init = function(selector, context) {\n        if (context && context instanceof $ && !(context instanceof kendoJQuery)) {\n            context = kendoJQuery(context);\n        }\n\n        return $.fn.init.call(this, selector, context, rootjQuery);\n    };\n\n    kendoJQuery.fn.init.prototype = kendoJQuery.fn;\n\n    var rootjQuery = kendoJQuery(document);\n\n    extend(kendoJQuery.fn, {\n        handler: function(handler) {\n            this.data(\"handler\", handler);\n            return this;\n        },\n\n        autoApplyNS: function(ns) {\n            this.data(\"kendoNS\", ns || kendo.guid());\n            return this;\n        },\n\n        on: function() {\n            var that = this,\n                ns = that.data(\"kendoNS\");\n\n            // support for event map signature\n            if (arguments.length === 1) {\n                return on.call(that, arguments[0]);\n            }\n\n            var context = that,\n                args = slice.call(arguments);\n\n            if (typeof args[args.length -1] === UNDEFINED) {\n                args.pop();\n            }\n\n            var callback =  args[args.length - 1],\n                events = kendo.applyEventMap(args[0], ns);\n\n            // setup mouse trap\n            if (support.mouseAndTouchPresent && events.search(/mouse|click/) > -1 && this[0] !== document.documentElement) {\n                MouseEventNormalizer.setupMouseMute();\n\n                var selector = args.length === 2 ? null : args[1],\n                    bustClick = events.indexOf(\"click\") > -1 && events.indexOf(\"touchend\") > -1;\n\n                on.call(this,\n                    {\n                        touchstart: MouseEventNormalizer.muteMouse,\n                        touchend: MouseEventNormalizer.unMuteMouse\n                    },\n                    selector,\n                    {\n                        bustClick: bustClick\n                    });\n            }\n\n            if(arguments[0].indexOf(\"keydown\") !== -1 && args[1] && args[1].options){\n                args[0] = events;\n                var widget = args[1];\n                var keyDownCallBack = args[args.length - 1];\n                args[args.length - 1]= function(e){\n                    if(kendo.keyDownHandler(e, widget)){\n                       return keyDownCallBack.apply(this, [e]);\n                    }\n                };\n                on.apply(that, args);\n                return that;\n            }\n\n            if (typeof callback === STRING) {\n                context = that.data(\"handler\");\n                callback = context[callback];\n\n                args[args.length - 1] = function(e) {\n                    callback.call(context, e);\n                };\n            }\n\n            args[0] = events;\n\n            on.apply(that, args);\n\n            return that;\n        },\n\n        kendoDestroy: function(ns) {\n            ns = ns || this.data(\"kendoNS\");\n\n            if (ns) {\n                this.off(\".\" + ns);\n            }\n\n            return this;\n        }\n    });\n\n    kendo.jQuery = kendoJQuery;\n    kendo.eventMap = eventMap;\n\n    kendo.timezone = (function(){\n        var months =  { Jan: 0, Feb: 1, Mar: 2, Apr: 3, May: 4, Jun: 5, Jul: 6, Aug: 7, Sep: 8, Oct: 9, Nov: 10, Dec: 11 };\n        var days = { Sun: 0, Mon: 1, Tue: 2, Wed: 3, Thu: 4, Fri: 5, Sat: 6 };\n\n        function ruleToDate(year, rule) {\n            var date;\n            var targetDay;\n            var ourDay;\n            var month = rule[3];\n            var on = rule[4];\n            var time = rule[5];\n            var cache = rule[8];\n\n            if (!cache) {\n                rule[8] = cache = {};\n            }\n\n            if (cache[year]) {\n                return cache[year];\n            }\n\n            if (!isNaN(on)) {\n                date = new Date(Date.UTC(year, months[month], on, time[0], time[1], time[2], 0));\n            } else if (on.indexOf(\"last\") === 0) {\n                date = new Date(Date.UTC(year, months[month] + 1, 1, time[0] - 24, time[1], time[2], 0));\n\n                targetDay = days[on.substr(4, 3)];\n                ourDay = date.getUTCDay();\n\n                date.setUTCDate(date.getUTCDate() + targetDay - ourDay - (targetDay > ourDay ? 7 : 0));\n            } else if (on.indexOf(\">=\") >= 0) {\n                date = new Date(Date.UTC(year, months[month], on.substr(5), time[0], time[1], time[2], 0));\n\n                targetDay = days[on.substr(0, 3)];\n                ourDay = date.getUTCDay();\n\n                date.setUTCDate(date.getUTCDate() + targetDay - ourDay + (targetDay < ourDay ? 7 : 0));\n            } else if (on.indexOf(\"<=\") >= 0) {\n                date = new Date(Date.UTC(year, months[month], on.substr(5), time[0], time[1], time[2], 0));\n\n                targetDay = days[on.substr(0, 3)];\n                ourDay = date.getUTCDay();\n\n                date.setUTCDate(date.getUTCDate() + targetDay - ourDay - (targetDay > ourDay ? 7 : 0));\n            }\n\n            return cache[year] = date;\n        }\n\n        function findRule(utcTime, rules, zone) {\n            rules = rules[zone];\n\n            if (!rules) {\n                var time = zone.split(\":\");\n                var offset = 0;\n\n                if (time.length > 1) {\n                    offset = time[0] * 60 + Number(time[1]);\n                }\n\n                return [-1000000, 'max', '-', 'Jan', 1, [0, 0, 0], offset, '-'];\n            }\n\n            var year = new Date(utcTime).getUTCFullYear();\n\n            rules = jQuery.grep(rules, function(rule) {\n                var from = rule[0];\n                var to = rule[1];\n\n                return from <= year && (to >= year || (from == year && to == \"only\") || to == \"max\");\n            });\n\n            rules.push(utcTime);\n\n            rules.sort(function(a, b) {\n                if (typeof a != \"number\") {\n                    a = Number(ruleToDate(year, a));\n                }\n\n                if (typeof b != \"number\") {\n                    b = Number(ruleToDate(year, b));\n                }\n\n                return a - b;\n            });\n\n            var rule = rules[jQuery.inArray(utcTime, rules) - 1] || rules[rules.length - 1];\n\n            return isNaN(rule) ? rule : null;\n        }\n\n        function findZone(utcTime, zones, timezone) {\n            var zoneRules = zones[timezone];\n\n            if (typeof zoneRules === \"string\") {\n                zoneRules = zones[zoneRules];\n            }\n\n            if (!zoneRules) {\n                throw new Error('Timezone \"' + timezone + '\" is either incorrect, or kendo.timezones.min.js is not included.');\n            }\n\n            for (var idx = zoneRules.length - 1; idx >= 0; idx--) {\n                var until = zoneRules[idx][3];\n\n                if (until && utcTime > until) {\n                    break;\n                }\n            }\n\n            var zone = zoneRules[idx + 1];\n\n            if (!zone) {\n                throw new Error('Timezone \"' + timezone + '\" not found on ' + utcTime + \".\");\n            }\n\n            return zone;\n        }\n\n        function zoneAndRule(utcTime, zones, rules, timezone) {\n            if (typeof utcTime != NUMBER) {\n                utcTime = Date.UTC(utcTime.getFullYear(), utcTime.getMonth(),\n                    utcTime.getDate(), utcTime.getHours(), utcTime.getMinutes(),\n                    utcTime.getSeconds(), utcTime.getMilliseconds());\n            }\n\n            var zone = findZone(utcTime, zones, timezone);\n\n            return {\n                zone: zone,\n                rule: findRule(utcTime, rules, zone[1])\n            };\n        }\n\n        function offset(utcTime, timezone) {\n            if (timezone == \"Etc/UTC\" || timezone == \"Etc/GMT\") {\n                return 0;\n            }\n\n            var info = zoneAndRule(utcTime, this.zones, this.rules, timezone);\n            var zone = info.zone;\n            var rule = info.rule;\n\n            return kendo.parseFloat(rule? zone[0] - rule[6] : zone[0]);\n        }\n\n        function abbr(utcTime, timezone) {\n            var info = zoneAndRule(utcTime, this.zones, this.rules, timezone);\n            var zone = info.zone;\n            var rule = info.rule;\n\n            var base = zone[2];\n\n            if (base.indexOf(\"/\") >= 0) {\n                return base.split(\"/\")[rule && +rule[6] ? 1 : 0];\n            } else if (base.indexOf(\"%s\") >= 0) {\n                return base.replace(\"%s\", (!rule || rule[7] == \"-\") ? '' : rule[7]);\n            }\n\n            return base;\n        }\n\n        function convert(date, fromOffset, toOffset) {\n            var tempToOffset = toOffset;\n            var diff;\n\n            if (typeof fromOffset == STRING) {\n                fromOffset = this.offset(date, fromOffset);\n            }\n\n            if (typeof toOffset == STRING) {\n                toOffset = this.offset(date, toOffset);\n            }\n\n            var fromLocalOffset = date.getTimezoneOffset();\n\n            date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n\n            var toLocalOffset = date.getTimezoneOffset();\n\n            if (typeof tempToOffset == STRING) {\n                tempToOffset = this.offset(date, tempToOffset);\n            }\n\n            diff = (toLocalOffset - fromLocalOffset) + (toOffset - tempToOffset);\n\n            return new Date(date.getTime() + diff * 60000);\n        }\n\n        function apply(date, timezone) {\n           return this.convert(date, date.getTimezoneOffset(), timezone);\n        }\n\n        function remove(date, timezone) {\n           return this.convert(date, timezone, date.getTimezoneOffset());\n        }\n\n        function toLocalDate(time) {\n            return this.apply(new Date(time), \"Etc/UTC\");\n        }\n\n        return {\n           zones: {},\n           rules: {},\n           offset: offset,\n           convert: convert,\n           apply: apply,\n           remove: remove,\n           abbr: abbr,\n           toLocalDate: toLocalDate\n        };\n    })();\n\n    kendo.date = (function(){\n        var MS_PER_MINUTE = 60000,\n            MS_PER_DAY = 86400000;\n\n        function adjustDST(date, hours) {\n            if (hours === 0 && date.getHours() === 23) {\n                date.setHours(date.getHours() + 2);\n                return true;\n            }\n\n            return false;\n        }\n\n        function setDayOfWeek(date, day, dir) {\n            var hours = date.getHours();\n\n            dir = dir || 1;\n            day = ((day - date.getDay()) + (7 * dir)) % 7;\n\n            date.setDate(date.getDate() + day);\n            adjustDST(date, hours);\n        }\n\n        function dayOfWeek(date, day, dir) {\n            date = new Date(date);\n            setDayOfWeek(date, day, dir);\n            return date;\n        }\n\n        function firstDayOfMonth(date) {\n            return new Date(\n                date.getFullYear(),\n                date.getMonth(),\n                1\n            );\n        }\n\n        function lastDayOfMonth(date) {\n            var last = new Date(date.getFullYear(), date.getMonth() + 1, 0),\n                first = firstDayOfMonth(date),\n                timeOffset = Math.abs(last.getTimezoneOffset() - first.getTimezoneOffset());\n\n            if (timeOffset) {\n                last.setHours(first.getHours() + (timeOffset / 60));\n            }\n\n            return last;\n        }\n\n        function firstDayOfYear(date) {\n            return new Date(date.getFullYear(), 0, 1);\n        }\n\n        function lastDayOfYear(date) {\n            return new Date(date.getFullYear(), 11, 31);\n        }\n\n        function moveDateToWeekStart(date, weekStartDay) {\n            if (weekStartDay !== 1) {\n                return addDays(dayOfWeek(date, weekStartDay, -1), 4);\n            }\n\n            return addDays(date, (4 - (date.getDay() || 7)));\n        }\n\n        function calcWeekInYear(date, weekStartDay) {\n            var firstWeekInYear = new Date(date.getFullYear(), 0, 1, -6);\n\n            var newDate = moveDateToWeekStart(date, weekStartDay);\n\n            var diffInMS = newDate.getTime() - firstWeekInYear.getTime();\n\n            var days = Math.floor(diffInMS / MS_PER_DAY);\n\n            return 1 + Math.floor(days / 7);\n        }\n\n        function weekInYear(date, weekStartDay) {\n            if(weekStartDay === undefined) {\n                weekStartDay = kendo.culture().calendar.firstDay;\n            }\n\n            var prevWeekDate = addDays(date, -7);\n            var nextWeekDate = addDays(date, 7);\n\n            var weekNumber = calcWeekInYear(date, weekStartDay);\n\n            if (weekNumber === 0) {\n                return calcWeekInYear(prevWeekDate, weekStartDay) + 1;\n            }\n\n            if (weekNumber === 53 && calcWeekInYear(nextWeekDate, weekStartDay) > 1) {\n                return 1;\n            }\n\n            return weekNumber;\n        }\n\n        function getDate(date) {\n            date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n            adjustDST(date, 0);\n            return date;\n        }\n\n        function toUtcTime(date) {\n            return Date.UTC(date.getFullYear(), date.getMonth(),\n                        date.getDate(), date.getHours(), date.getMinutes(),\n                        date.getSeconds(), date.getMilliseconds());\n        }\n\n        function getMilliseconds(date) {\n            return toInvariantTime(date).getTime() - getDate(toInvariantTime(date));\n        }\n\n        function isInTimeRange(value, min, max) {\n            var msMin = getMilliseconds(min),\n                msMax = getMilliseconds(max),\n                msValue;\n\n            if (!value || msMin == msMax) {\n                return true;\n            }\n\n            if (min >= max) {\n                max += MS_PER_DAY;\n            }\n\n            msValue = getMilliseconds(value);\n\n            if (msMin > msValue) {\n                msValue += MS_PER_DAY;\n            }\n\n            if (msMax < msMin) {\n                msMax += MS_PER_DAY;\n            }\n\n            return msValue >= msMin && msValue <= msMax;\n        }\n\n        function isInDateRange(value, min, max) {\n            var msMin = min.getTime(),\n                msMax = max.getTime(),\n                msValue;\n\n            if (msMin >= msMax) {\n                msMax += MS_PER_DAY;\n            }\n\n            msValue = value.getTime();\n\n            return msValue >= msMin && msValue <= msMax;\n        }\n\n        function addDays(date, offset) {\n            var hours = date.getHours();\n                date = new Date(date);\n\n            setTime(date, offset * MS_PER_DAY);\n            adjustDST(date, hours);\n            return date;\n        }\n\n        function setTime(date, milliseconds, ignoreDST) {\n            var offset = date.getTimezoneOffset();\n            var difference;\n\n            date.setTime(date.getTime() + milliseconds);\n\n            if (!ignoreDST) {\n                difference = date.getTimezoneOffset() - offset;\n                date.setTime(date.getTime() + difference * MS_PER_MINUTE);\n            }\n        }\n\n        function setHours(date, time) {\n            date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), time.getHours(), time.getMinutes(), time.getSeconds(), time.getMilliseconds());\n            adjustDST(date, time.getHours());\n            return date;\n        }\n\n        function today() {\n            return getDate(new Date());\n        }\n\n        function isToday(date) {\n           return getDate(date).getTime() == today().getTime();\n        }\n\n        function toInvariantTime(date) {\n            var staticDate = new Date(1980, 1, 1, 0, 0, 0);\n\n            if (date) {\n                staticDate.setHours(date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\n            }\n\n            return staticDate;\n        }\n\n        function addYear(date, offset) {\n            var currentDate = new Date(date);\n\n            return new Date(currentDate.setFullYear(currentDate.getFullYear() + offset));\n        }\n\n        return {\n            adjustDST: adjustDST,\n            dayOfWeek: dayOfWeek,\n            setDayOfWeek: setDayOfWeek,\n            getDate: getDate,\n            isInDateRange: isInDateRange,\n            isInTimeRange: isInTimeRange,\n            isToday: isToday,\n            nextDay: function(date) {\n                return addDays(date, 1);\n            },\n            previousDay: function(date) {\n                return addDays(date, -1);\n            },\n            toUtcTime: toUtcTime,\n            MS_PER_DAY: MS_PER_DAY,\n            MS_PER_HOUR: 60 * MS_PER_MINUTE,\n            MS_PER_MINUTE: MS_PER_MINUTE,\n            setTime: setTime,\n            setHours: setHours,\n            addDays: addDays,\n            today: today,\n            toInvariantTime: toInvariantTime,\n            firstDayOfMonth: firstDayOfMonth,\n            lastDayOfMonth: lastDayOfMonth,\n            weekInYear: weekInYear,\n            getMilliseconds: getMilliseconds,\n            firstDayOfYear: firstDayOfYear,\n            lastDayOfYear: lastDayOfYear,\n            nextYear: function(date) {\n                return addYear(date, 1);\n            },\n            previousYear: function(date) {\n                return addYear(date, -1);\n            }\n        };\n    })();\n\n\n    kendo.stripWhitespace = function(element) {\n        if (document.createNodeIterator) {\n            var iterator = document.createNodeIterator(element, NodeFilter.SHOW_TEXT, function(node) {\n                    return node.parentNode == element ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT;\n                }, false);\n\n            while (iterator.nextNode()) {\n                if (iterator.referenceNode && !iterator.referenceNode.textContent.trim()) {\n                    iterator.referenceNode.parentNode.removeChild(iterator.referenceNode);\n                }\n            }\n        } else { // IE7/8 support\n            for (var i = 0; i < element.childNodes.length; i++) {\n                var child = element.childNodes[i];\n\n                if (child.nodeType == 3 && !/\\S/.test(child.nodeValue)) {\n                    element.removeChild(child);\n                    i--;\n                }\n\n                if (child.nodeType == 1) {\n                    kendo.stripWhitespace(child);\n                }\n            }\n        }\n    };\n\n    var animationFrame  = window.requestAnimationFrame       ||\n                          window.webkitRequestAnimationFrame ||\n                          window.mozRequestAnimationFrame    ||\n                          window.oRequestAnimationFrame      ||\n                          window.msRequestAnimationFrame     ||\n                          function(callback){ setTimeout(callback, 1000 / 60); };\n\n    kendo.animationFrame = function(callback) {\n        animationFrame.call(window, callback);\n    };\n\n    var animationQueue = [];\n\n    kendo.queueAnimation = function(callback) {\n        animationQueue[animationQueue.length] = callback;\n        if (animationQueue.length === 1) {\n            kendo.runNextAnimation();\n        }\n    };\n\n    kendo.runNextAnimation = function() {\n        kendo.animationFrame(function() {\n            if (animationQueue[0]) {\n                animationQueue.shift()();\n                if (animationQueue[0]) {\n                    kendo.runNextAnimation();\n                }\n            }\n        });\n    };\n\n    kendo.parseQueryStringParams = function(url) {\n        var queryString = url.split('?')[1] || \"\",\n            params = {},\n            paramParts = queryString.split(/&|=/),\n            length = paramParts.length,\n            idx = 0;\n\n        for (; idx < length; idx += 2) {\n            if(paramParts[idx] !== \"\") {\n                params[decodeURIComponent(paramParts[idx])] = decodeURIComponent(paramParts[idx + 1]);\n            }\n        }\n\n        return params;\n    };\n\n    kendo.elementUnderCursor = function(e) {\n        if (typeof e.x.client != \"undefined\") {\n            return document.elementFromPoint(e.x.client, e.y.client);\n        }\n    };\n\n    kendo.wheelDeltaY = function(jQueryEvent) {\n        var e = jQueryEvent.originalEvent,\n            deltaY = e.wheelDeltaY,\n            delta;\n\n            if (e.wheelDelta) { // Webkit and IE\n                if (deltaY === undefined || deltaY) { // IE does not have deltaY, thus always scroll (horizontal scrolling is treated as vertical)\n                    delta = e.wheelDelta;\n                }\n            } else if (e.detail && e.axis === e.VERTICAL_AXIS) { // Firefox and Opera\n                delta = (-e.detail) * 10;\n            }\n\n        return delta;\n    };\n\n    kendo.throttle = function(fn, delay) {\n        var timeout;\n        var lastExecTime = 0;\n\n        if (!delay || delay <= 0) {\n            return fn;\n        }\n\n        var throttled = function() {\n            var that = this;\n            var elapsed = +new Date() - lastExecTime;\n            var args = arguments;\n\n            function exec() {\n                fn.apply(that, args);\n                lastExecTime = +new Date();\n            }\n\n            // first execution\n            if (!lastExecTime) {\n                return exec();\n            }\n\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n\n            if (elapsed > delay) {\n                exec();\n            } else {\n                timeout = setTimeout(exec, delay - elapsed);\n            }\n        };\n\n        throttled.cancel = function() {\n            clearTimeout(timeout);\n        };\n\n        return throttled;\n    };\n\n\n    kendo.caret = function (element, start, end) {\n        var rangeElement;\n        var isPosition = start !== undefined;\n\n        if (end === undefined) {\n            end = start;\n        }\n\n        if (element[0]) {\n            element = element[0];\n        }\n\n        if (isPosition && element.disabled) {\n            return;\n        }\n\n        try {\n            if (element.selectionStart !== undefined) {\n                if (isPosition) {\n                    element.focus();\n                    var mobile = support.mobileOS;\n                    if(mobile.wp || mobile.android) {// without the timeout the caret is at the end of the input\n                        setTimeout(function() { element.setSelectionRange(start, end); }, 0);\n                    }\n                    else {\n                        element.setSelectionRange(start, end);\n                    }\n                } else {\n                    start = [element.selectionStart, element.selectionEnd];\n                }\n            } else if (document.selection) {\n                if ($(element).is(\":visible\")) {\n                    element.focus();\n                }\n\n                rangeElement = element.createTextRange();\n\n                if (isPosition) {\n                    rangeElement.collapse(true);\n                    rangeElement.moveStart(\"character\", start);\n                    rangeElement.moveEnd(\"character\", end - start);\n                    rangeElement.select();\n                } else {\n                    var rangeDuplicated = rangeElement.duplicate(),\n                        selectionStart, selectionEnd;\n\n                        rangeElement.moveToBookmark(document.selection.createRange().getBookmark());\n                        rangeDuplicated.setEndPoint('EndToStart', rangeElement);\n                        selectionStart = rangeDuplicated.text.length;\n                        selectionEnd = selectionStart + rangeElement.text.length;\n\n                    start = [selectionStart, selectionEnd];\n                }\n            }\n        } catch(e) {\n            /* element is not focused or it is not in the DOM */\n            start = [];\n        }\n\n        return start;\n    };\n\n    kendo.compileMobileDirective = function(element, scope) {\n        var angular = window.angular;\n\n        element.attr(\"data-\" + kendo.ns + \"role\", element[0].tagName.toLowerCase().replace('kendo-mobile-', '').replace('-', ''));\n\n        angular.element(element).injector().invoke([\"$compile\", function($compile) {\n            $compile(element)(scope);\n\n            if (!/^\\$(digest|apply)$/.test(scope.$$phase)) {\n                scope.$digest();\n            }\n        }]);\n\n        return kendo.widgetInstance(element, kendo.mobile.ui);\n    };\n\n    kendo.antiForgeryTokens = function() {\n        var tokens = { },\n            csrf_token = $(\"meta[name=csrf-token],meta[name=_csrf]\").attr(\"content\"),\n            csrf_param = $(\"meta[name=csrf-param],meta[name=_csrf_header]\").attr(\"content\");\n\n        $(\"input[name^='__RequestVerificationToken']\").each(function() {\n            tokens[this.name] = this.value;\n        });\n\n        if (csrf_param !== undefined && csrf_token !== undefined) {\n          tokens[csrf_param] = csrf_token;\n        }\n\n        return tokens;\n    };\n\n    kendo.cycleForm = function(form) {\n        var firstElement = form.find(\"input, .k-widget, .k-dropdownlist, .k-combobox\").first();\n        var lastElement = form.find(\"button, .k-button\").last();\n\n        function focus(el) {\n            var widget = kendo.widgetInstance(el);\n\n            if (widget && widget.focus) {\n              widget.focus();\n            } else {\n              el.trigger(\"focus\");\n            }\n        }\n\n        lastElement.on(\"keydown\", function(e) {\n          if (e.keyCode == kendo.keys.TAB && !e.shiftKey) {\n            e.preventDefault();\n            focus(firstElement);\n          }\n        });\n\n        firstElement.on(\"keydown\", function(e) {\n          if (e.keyCode == kendo.keys.TAB && e.shiftKey) {\n            e.preventDefault();\n            focus(lastElement);\n          }\n        });\n    };\n\n    kendo.focusElement = function(element) {\n        var scrollTopPositions = [];\n        var scrollableParents = element.parentsUntil(\"body\")\n                .filter(function(index, element) {\n                    var computedStyle = kendo.getComputedStyles(element, [\"overflow\"]);\n                    return computedStyle.overflow !== \"visible\";\n                })\n                .add(window);\n\n        scrollableParents.each(function(index, parent) {\n            scrollTopPositions[index] = $(parent).scrollTop();\n        });\n\n        try {\n            //The setActive method does not cause the document to scroll to the active object in the current page\n            element[0].setActive();\n        } catch (e) {\n            element[0].focus();\n        }\n\n        scrollableParents.each(function(index, parent) {\n            $(parent).scrollTop(scrollTopPositions[index]);\n        });\n    };\n\n    kendo.focusNextElement = function () {\n        if (document.activeElement) {\n            var focussable = $(\":kendoFocusable\");\n            var index = focussable.index(document.activeElement);\n\n            if(index > -1) {\n               var nextElement = focussable[index + 1] || focussable[0];\n               nextElement.focus();\n            }\n        }\n    };\n\n    kendo.trim = function(value) {\n        if(!!value) {\n            return value.toString().trim();\n        } else {\n            return \"\";\n        }\n    };\n\n    kendo.getWidgetFocusableElement = function(element) {\n        var nextFocusable = element.closest(\":kendoFocusable\"),\n            widgetInstance = kendo.widgetInstance(element),\n            target;\n\n        if (nextFocusable.length) {\n            target = nextFocusable;\n        } else if (widgetInstance) {\n            target = widgetInstance.options.name === 'Editor' ?\n                $(widgetInstance.body) :\n                widgetInstance.wrapper.find(\":kendoFocusable\").first();\n        } else {\n            target = element;\n        }\n\n        return target;\n    };\n\n    kendo.addAttribute =  function(element, attribute, value) {\n        var current = element.attr(attribute) || \"\";\n\n        if (current.indexOf(value) < 0) {\n            element.attr(attribute, (current + \" \" + value).trim());\n        }\n    };\n\n    kendo.removeAttribute = function(element, attribute, value) {\n        var current = element.attr(attribute) || \"\";\n\n        element.attr(attribute, current.replace(value, \"\").trim());\n    };\n\n    kendo.toggleAttribute = function(element, attribute, value) {\n        var current = element.attr(attribute) || \"\";\n\n        if (current.indexOf(value) < 0) {\n            kendo.addAttribute(element, attribute, value);\n        } else {\n            kendo.removeAttribute(element, attribute, value);\n        }\n    };\n\n    kendo.matchesMedia = function(mediaQuery) {\n        var media = kendo._bootstrapToMedia(mediaQuery) || mediaQuery;\n        return support.matchMedia && window.matchMedia(media).matches;\n    };\n\n    kendo._bootstrapToMedia = function(bootstrapMedia) {\n        return {\n            \"xs\": \"(max-width: 576px)\",\n            \"sm\": \"(min-width: 576px)\",\n            \"md\": \"(min-width: 768px)\",\n            \"lg\": \"(min-width: 992px)\",\n            \"xl\": \"(min-width: 1200px)\"\n        }[bootstrapMedia];\n    };\n\n    kendo.fileGroupMap = {\n        audio: [\".aif\", \".iff\", \".m3u\", \".m4a\", \".mid\", \".mp3\", \".mpa\", \".wav\", \".wma\", \".ogg\", \".wav\", \".wma\", \".wpl\"],\n        video: [\".3g2\", \".3gp\", \".avi\", \".asf\", \".flv\", \".m4u\", \".rm\", \".h264\", \".m4v\", \".mkv\", \".mov\", \".mp4\", \".mpg\",\n                \".rm\", \".swf\", \".vob\", \".wmv\"],\n        image: [\".ai\", \".dds\", \".heic\", \".jpe\", \"jfif\", \".jif\", \".jp2\", \".jps\", \".eps\", \".bmp\", \".gif\", \".jpeg\",\n                \".jpg\", \".png\", \".ps\", \".psd\", \".svg\", \".svgz\", \".tif\", \".tiff\"],\n        txt: [\".doc\", \".docx\", \".log\", \".pages\", \".tex\", \".wpd\", \".wps\", \".odt\", \".rtf\", \".text\", \".txt\", \".wks\"],\n        presentation: [\".key\", \".odp\", \".pps\", \".ppt\", \".pptx\"],\n        data: [\".xlr\", \".xls\", \".xlsx\"],\n        programming: [\".tmp\", \".bak\", \".msi\", \".cab\", \".cpl\", \".cur\", \".dll\", \".dmp\", \".drv\", \".icns\", \".ico\", \".link\",\n                      \".sys\", \".cfg\", \".ini\", \".asp\", \".aspx\", \".cer\", \".csr\", \".css\", \".dcr\", \".htm\", \".html\", \".js\",\n                      \".php\", \".rss\", \".xhtml\"],\n        pdf: [\".pdf\"],\n        config: [\".apk\", \".app\", \".bat\", \".cgi\", \".com\", \".exe\", \".gadget\", \".jar\", \".wsf\"],\n        zip: [\".7z\", \".cbr\", \".gz\", \".sitx\", \".arj\", \".deb\", \".pkg\", \".rar\", \".rpm\", \".tar.gz\", \".z\", \".zip\", \".zipx\"],\n        \"disc-image\": [\".dmg\", \".iso\", \".toast\", \".vcd\", \".bin\", \".cue\", \".mdf\"]\n    };\n\n    kendo.getFileGroup = function(extension, withPrefix) {\n        var fileTypeMap = kendo.fileGroupMap;\n        var groups = Object.keys(fileTypeMap);\n        var type = \"file\";\n\n        if (extension === undefined || !extension.length) {\n            return type;\n        }\n\n        for (var i = 0; i < groups.length; i += 1) {\n            var extensions = fileTypeMap[groups[i]];\n\n            if (extensions.indexOf(extension.toLowerCase()) > -1) {\n               return withPrefix ? \"file-\" + groups[i] : groups[i];\n            }\n        }\n\n        return type;\n    };\n\n    kendo.getFileSizeMessage = function(size) {\n        var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n\n        if (size === 0) {\n            return '0 Byte';\n        }\n\n        var i = parseInt(Math.floor(Math.log(size) / Math.log(1024)), 10);\n        return Math.round(size / Math.pow(1024, i), 2) + ' ' + sizes[i];\n    };\n\n    kendo.selectorFromClasses = function(classes) {\n        return \".\"+classes.split(\" \").join(\".\");\n    };\n\n    // Standardized Properties and CSS classes\n\n    var themeColorValues = ['base', 'primary', 'secondary', 'tertiary', 'inherit', 'info', 'success', 'warning', 'error', 'dark', 'light', 'inverse'];\n    var fillValues = ['solid', 'outline', 'flat'];\n    //var postitionValues = ['edge', 'outside', 'inside'];\n    var shapeValues = ['rectangle', 'square'];\n    var sizeValues = [ ['small', 'sm'], ['medium', 'md'], ['large', 'lg'] ];\n    var roundedValues = [ ['small', 'sm'], ['medium', 'md'], ['large', 'lg'] ];\n    //var alignValues = [ ['top start', 'top-start'], ['top end', 'top-end'], ['bottom start', 'bottom-start'], ['bottom end', 'bottom-end'] ];\n    var positionModeValues = [ 'fixed', 'static', 'sticky', 'absolute' ];\n    var resizeValues = [ 'both', 'horizontal', 'vertical' ];\n    var overflowValues = [ 'auto', 'hidden', 'visible', 'scroll', 'clip' ];\n\n    kendo.cssProperties = (function() {\n        var defaultValues = {},\n            propertyDictionary = {};\n\n        function registerPrefix(widget, prefix) {\n            var dict = kendo.cssProperties.propertyDictionary;\n\n            if (!dict[widget]) {\n                dict[widget] = {};\n            }\n\n            dict[widget][PREFIX] = prefix;\n        }\n\n        function registerValues(widget, args) {\n            var dict = kendo.cssProperties.propertyDictionary,\n                i, j, prop, values, newValues, currentValue;\n\n            for (i = 0; i < args.length; i++) {\n                prop = args[i].prop;\n                newValues = args[i].values;\n\n                if(!dict[widget][prop]) {\n                    dict[widget][prop] = {};\n                }\n\n                values = dict[widget][prop];\n\n                for (j = 0; j < newValues.length; j++) {\n                    currentValue = newValues[j];\n\n                    if (isArray(newValues[j])) {\n                        values[currentValue[0]] = currentValue[1];\n                    } else {\n                        values[currentValue] = currentValue;\n                    }\n                }\n            }\n        }\n\n        function registerCssClass(propName, value, shorthand) {\n            if (!defaultValues[propName]) {\n                defaultValues[propName] = {};\n            }\n\n            defaultValues[propName][value] = shorthand || value;\n        }\n\n        function registerCssClasses(propName, arr) {\n            for (var i = 0; i < arr.length; i++) {\n                if (isArray(arr[i])) {\n                    registerCssClass(propName, arr[i][0], arr[i][1]);\n                } else {\n                    registerCssClass(propName, arr[i]);\n                }\n            }\n        }\n\n        function getValidClass(args) {\n            var widget = args.widget,\n                propName = args.propName,\n                value = args.value,\n                fill = args.fill,\n                cssProperties = kendo.cssProperties,\n                defaultValues = cssProperties.defaultValues[propName],\n                widgetProperties = cssProperties.propertyDictionary[widget],\n                widgetValues, validValue, prefix;\n\n            if(!widgetProperties) {\n                return \"\";\n            }\n\n            widgetValues = widgetProperties[propName];\n            validValue = widgetValues ? widgetValues[value] || defaultValues[value] : defaultValues[value];\n\n            if (validValue) {\n                if (propName === \"themeColor\") {\n                    prefix = widgetProperties[PREFIX] + fill + \"-\";\n                } else if (propName === \"positionMode\") {\n                    prefix = \"k-pos-\";\n                } else if (propName === \"rounded\") {\n                    prefix = \"k-rounded-\";\n                } else if (propName === \"resize\") {\n                    prefix = \"k-resize-\";\n                } else if (propName === \"overflow\") {\n                    prefix = \"k-overflow-\";\n                } else {\n                    prefix = widgetProperties[PREFIX];\n                }\n\n                return prefix + validValue;\n            } else {\n                return \"\";\n            }\n        }\n\n        registerCssClasses(\"themeColor\", themeColorValues);\n        registerCssClasses(\"fillMode\", fillValues);\n        registerCssClasses(\"shape\", shapeValues);\n        registerCssClasses(\"size\", sizeValues);\n        registerCssClasses(\"positionMode\", positionModeValues);\n        registerCssClasses(\"rounded\", roundedValues);\n        registerCssClasses(\"resize\", resizeValues);\n        registerCssClasses(\"overflow\", overflowValues);\n\n        return {\n            positionModeValues: positionModeValues,\n            roundedValues: roundedValues,\n            sizeValues: sizeValues,\n            shapeValues: shapeValues,\n            fillModeValues: fillValues,\n            themeColorValues: themeColorValues,\n\n            defaultValues: defaultValues,\n            propertyDictionary: propertyDictionary,\n\n            registerValues: registerValues,\n            getValidClass: getValidClass,\n            registerPrefix: registerPrefix\n        };\n    }());\n\n    //To do: delete below after implementing new styles and classes for BottomNavigation\n    kendo.registerCssClass = function (propName, value, shorthand) {\n        if (!kendo.propertyToCssClassMap[propName]) {\n            kendo.propertyToCssClassMap[propName] = {};\n        }\n\n        kendo.propertyToCssClassMap[propName][value] = shorthand || value;\n    };\n\n    kendo.registerCssClasses = function (propName, arr) {\n        for (var i = 0; i < arr.length; i++) {\n            if (isArray(arr[i])) {\n                kendo.registerCssClass(propName, arr[i][0], arr[i][1]);\n            } else {\n                kendo.registerCssClass(propName, arr[i]);\n            }\n        }\n    };\n\n    kendo.getValidCssClass = function (prefix, propName, value) {\n        var validValue = kendo.propertyToCssClassMap[propName][value];\n\n        if (validValue) {\n            return prefix + validValue;\n        }\n    };\n\n    kendo.propertyToCssClassMap = {};\n\n    kendo.registerCssClasses(\"themeColor\", themeColorValues);\n    kendo.registerCssClasses(\"fill\", fillValues);\n    //kendo.registerCssClasses(\"postition\", postitionValues);\n    kendo.registerCssClasses(\"shape\", shapeValues);\n    kendo.registerCssClasses(\"size\", sizeValues);\n    //kendo.registerCssClasses(\"align\", alignValues);\n    kendo.registerCssClasses(\"positionMode\", positionModeValues);\n\n    // jQuery deferred helpers\n\n    // influenced from: https://gist.github.com/fearphage/4341799\n    kendo.whenAll = function(array) {\n        var resolveValues = arguments.length == 1 && Array.isArray(array) ? array : Array.prototype.slice.call(arguments),\n            length = resolveValues.length,\n            remaining = length,\n            deferred = $.Deferred(),\n            i = 0,\n            failed = 0,\n            rejectContexts = Array(length),\n            rejectValues = Array(length),\n            resolveContexts = Array(length),\n            value;\n\n        function updateFunc (index, contexts, values) {\n            return function() {\n                if(values != resolveValues) {\n                    failed++;\n                }\n\n                deferred.notifyWith(\n                    contexts[index] = this,\n                    values[index] = Array.prototype.slice.call(arguments)\n                );\n\n                if (!(--remaining)) {\n                    deferred[(!failed ? 'resolve' : 'reject') + 'With'](contexts, values);\n                }\n            };\n        }\n\n        for (; i < length; i++) {\n            if ((value = resolveValues[i]) && kendo.isFunction(value.promise)) {\n                value.promise()\n                    .done(updateFunc(i, resolveContexts, resolveValues))\n                    .fail(updateFunc(i, rejectContexts, rejectValues));\n            }\n\n            else {\n                deferred.notifyWith(this, value);\n                --remaining;\n            }\n        }\n\n        if (!remaining) {\n            deferred.resolveWith(resolveContexts, resolveValues);\n        }\n\n        return deferred.promise();\n    };\n\n    // kendo.saveAs -----------------------------------------------\n    (function() {\n        function postToProxy(dataURI, fileName, proxyURL, proxyTarget) {\n            var form = $(\"<form>\").attr({\n                action: proxyURL,\n                method: \"POST\",\n                target: proxyTarget\n            });\n\n            var data = kendo.antiForgeryTokens();\n            data.fileName = fileName;\n\n            var parts = dataURI.split(\";base64,\");\n            data.contentType = parts[0].replace(\"data:\", \"\");\n            data.base64 = parts[1];\n\n            for (var name in data) {\n                if (data.hasOwnProperty(name)) {\n                    $('<input>').attr({\n                        value: data[name],\n                        name: name,\n                        type: \"hidden\"\n                    }).appendTo(form);\n                }\n            }\n\n            form.appendTo(\"body\").submit().remove();\n        }\n\n        var fileSaver = document.createElement(\"a\");\n        var downloadAttribute = \"download\" in fileSaver && !kendo.support.browser.edge;\n\n        function saveAsBlob(dataURI, fileName) {\n            var blob = dataURI; // could be a Blob object\n\n            if (typeof dataURI == \"string\") {\n                var parts = dataURI.split(\";base64,\");\n                var contentType = parts[0];\n                var base64 = atob(parts[1]);\n                var array = new Uint8Array(base64.length);\n\n                for (var idx = 0; idx < base64.length; idx++) {\n                    array[idx] = base64.charCodeAt(idx);\n                }\n                blob = new Blob([array.buffer], { type: contentType });\n            }\n\n            navigator.msSaveBlob(blob, fileName);\n        }\n\n        function saveAsDataURI(dataURI, fileName) {\n            if (window.Blob && dataURI instanceof Blob) {\n                dataURI = URL.createObjectURL(dataURI);\n            }\n\n            fileSaver.download = fileName;\n            fileSaver.href = dataURI;\n\n            var e = document.createEvent(\"MouseEvents\");\n            e.initMouseEvent(\"click\", true, false, window,\n                0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n            fileSaver.dispatchEvent(e);\n            setTimeout(function(){\n                URL.revokeObjectURL(dataURI);\n            });\n        }\n\n        kendo.saveAs = function(options) {\n            var save = postToProxy;\n\n            if (!options.forceProxy) {\n                if (downloadAttribute) {\n                    save = saveAsDataURI;\n                } else if (navigator.msSaveBlob) {\n                    save = saveAsBlob;\n                }\n            }\n\n            save(options.dataURI, options.fileName, options.proxyURL, options.proxyTarget);\n        };\n    })();\n\n    // kendo proxySetters\n    kendo.proxyModelSetters = function proxyModelSetters(data) {\n        var observable = {};\n\n        Object.keys(data || {}).forEach(function(property) {\n          Object.defineProperty(observable, property, {\n            get: function() {\n              return data[property];\n            },\n            set: function(value) {\n              data[property] = value;\n              data.dirty = true;\n            }\n          });\n        });\n\n        return observable;\n    };\n\n    kendo.getSeriesColors = function() {\n        var seriesColorsTemplate = '<div class=\"k-var--series-a\"></div>' +\n                '<div class=\"k-var--series-b\"></div>' +\n                '<div class=\"k-var--series-c\"></div>' +\n                '<div class=\"k-var--series-d\"></div>' +\n                '<div class=\"k-var--series-e\"></div>' +\n                '<div class=\"k-var--series-f\"></div>',\n            series = $(seriesColorsTemplate),\n            colors = [];\n\n        series.appendTo($('body'));\n\n        series.each(function(i, item) {\n            colors.push($(item).css(\"background-color\"));\n        });\n\n        series.remove();\n\n        return colors;\n    };\n\n    kendo.isElement = function(element) {\n        return element instanceof Element || element instanceof HTMLDocument; // jshint ignore:line\n    };\n\n    // Kendo defaults\n    (function() {\n\n        kendo.defaults = kendo.defaults || {};\n        kendo.setDefaults = function(key, value) {\n            var path = key.split(\".\");\n            var curr = kendo.defaults;\n\n            key = path.pop();\n\n            path.forEach(function(part) {\n                if (curr[part] === undefined) {\n                    curr[part] = {};\n                }\n\n                curr = curr[part];\n            });\n\n            if (value.constructor === Object) {\n                curr[key] = deepExtend({}, curr[key], value);\n            } else {\n                curr[key] = value;\n            }\n        };\n\n    })();\n\n    // Implement type() as it has been depricated in jQuery\n    (function() {\n        kendo.class2type = {};\n\n        jQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\n            function( _i, name ) {\n                kendo.class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n            } );\n\n        kendo.type = function(obj) {\n            if ( obj == null ) {\n                return obj + \"\";\n            }\n\n            // Support: Android <=2.3 only (functionish RegExp)\n            return typeof obj === \"object\" || typeof obj === \"function\" ?\n                kendo.class2type[Object.prototype.toString.call(obj)] || \"object\" :\n                typeof obj;\n        };\n    }());\n\n})(jQuery, window);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.fx',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"fx\",\n    name: \"Effects\",\n    category: \"framework\",\n    description: \"Required for animation effects in all Kendo UI widgets.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        fx = kendo.effects,\n        each = $.each,\n        extend = $.extend,\n        support = kendo.support,\n        browser = support.browser,\n        transforms = support.transforms,\n        transitions = support.transitions,\n        scaleProperties = { scale: 0, scalex: 0, scaley: 0, scale3d: 0 },\n        translateProperties = { translate: 0, translatex: 0, translatey: 0, translate3d: 0 },\n        hasZoom = (typeof document.documentElement.style.zoom !== \"undefined\") && !transforms,\n        matrix3dRegExp = /matrix3?d?\\s*\\(.*,\\s*([\\d\\.\\-]+)\\w*?,\\s*([\\d\\.\\-]+)\\w*?,\\s*([\\d\\.\\-]+)\\w*?,\\s*([\\d\\.\\-]+)\\w*?/i,\n        cssParamsRegExp = /^(-?[\\d\\.\\-]+)?[\\w\\s]*,?\\s*(-?[\\d\\.\\-]+)?[\\w\\s]*/i,\n        translateXRegExp = /translatex?$/i,\n        oldEffectsRegExp = /(zoom|fade|expand)(\\w+)/,\n        singleEffectRegExp = /(zoom|fade|expand)/,\n        unitRegExp = /[xy]$/i,\n        transformProps = [\"perspective\", \"rotate\", \"rotatex\", \"rotatey\", \"rotatez\", \"rotate3d\", \"scale\", \"scalex\", \"scaley\", \"scalez\", \"scale3d\", \"skew\", \"skewx\", \"skewy\", \"translate\", \"translatex\", \"translatey\", \"translatez\", \"translate3d\", \"matrix\", \"matrix3d\"],\n        transform2d = [\"rotate\", \"scale\", \"scalex\", \"scaley\", \"skew\", \"skewx\", \"skewy\", \"translate\", \"translatex\", \"translatey\", \"matrix\"],\n        transform2units = { \"rotate\": \"deg\", scale: \"\", skew: \"px\", translate: \"px\" },\n        cssPrefix = transforms.css,\n        round = Math.round,\n        BLANK = \"\",\n        PX = \"px\",\n        NONE = \"none\",\n        AUTO = \"auto\",\n        WIDTH = \"width\",\n        HEIGHT = \"height\",\n        HIDDEN = \"hidden\",\n        ORIGIN = \"origin\",\n        ABORT_ID = \"abortId\",\n        OVERFLOW = \"overflow\",\n        TRANSLATE = \"translate\",\n        POSITION = \"position\",\n        COMPLETE_CALLBACK = \"completeCallback\",\n        TRANSITION = cssPrefix + \"transition\",\n        TRANSFORM = cssPrefix + \"transform\",\n        BACKFACE = cssPrefix + \"backface-visibility\",\n        PERSPECTIVE = cssPrefix + \"perspective\",\n        DEFAULT_PERSPECTIVE = \"1500px\",\n        TRANSFORM_PERSPECTIVE = \"perspective(\" + DEFAULT_PERSPECTIVE + \")\",\n        directions = {\n            left: {\n                reverse: \"right\",\n                property: \"left\",\n                transition: \"translatex\",\n                vertical: false,\n                modifier: -1\n            },\n            right: {\n                reverse: \"left\",\n                property: \"left\",\n                transition: \"translatex\",\n                vertical: false,\n                modifier: 1\n            },\n            down: {\n                reverse: \"up\",\n                property: \"top\",\n                transition: \"translatey\",\n                vertical: true,\n                modifier: 1\n            },\n            up: {\n                reverse: \"down\",\n                property: \"top\",\n                transition: \"translatey\",\n                vertical: true,\n                modifier: -1\n            },\n            top: {\n                reverse: \"bottom\"\n            },\n            bottom: {\n                reverse: \"top\"\n            },\n            \"in\": {\n                reverse: \"out\",\n                modifier: -1\n            },\n            out: {\n                reverse: \"in\",\n                modifier: 1\n            },\n\n            vertical: {\n                reverse: \"vertical\"\n            },\n\n            horizontal: {\n                reverse: \"horizontal\"\n            }\n        };\n\n    kendo.directions = directions;\n\n    extend($.fn, {\n        kendoStop: function(clearQueue, gotoEnd) {\n            if (transitions) {\n                return fx.stopQueue(this, clearQueue || false, gotoEnd || false);\n            } else {\n                return this.stop(clearQueue, gotoEnd);\n            }\n        }\n    });\n\n    /* jQuery support for all transform animations (FF 3.5/3.6, Opera 10.x, IE9 */\n\n    if (transforms && !transitions) {\n        each(transform2d, function(idx, value) {\n            $.fn[value] = function(val) {\n                if (typeof val == \"undefined\") {\n                    return animationProperty(this, value);\n                } else {\n                    var that = $(this)[0],\n                        transformValue = value + \"(\" + val + transform2units[value.replace(unitRegExp, \"\")] + \")\";\n\n                    if (that.style.cssText.indexOf(TRANSFORM) == -1) {\n                        $(this).css(TRANSFORM, transformValue);\n                    } else {\n                        that.style.cssText = that.style.cssText.replace(new RegExp(value + \"\\\\(.*?\\\\)\", \"i\"), transformValue);\n                    }\n                }\n                return this;\n            };\n\n            $.fx.step[value] = function (fx) {\n                $(fx.elem)[value](fx.now);\n            };\n        });\n\n        var curProxy = $.fx.prototype.cur;\n        $.fx.prototype.cur = function () {\n            if (transform2d.indexOf(this.prop) != -1) {\n                return parseFloat($(this.elem)[this.prop]());\n            }\n\n            return curProxy.apply(this, arguments);\n        };\n    }\n\n    kendo.toggleClass = function(element, classes, options, add) {\n        if (classes) {\n            classes = classes.split(\" \");\n\n            if (transitions) {\n                options = extend({\n                    exclusive: \"all\",\n                    duration: 400,\n                    ease: \"ease-out\"\n                }, options);\n\n                element.css(TRANSITION, options.exclusive + \" \" + options.duration + \"ms \" + options.ease);\n                setTimeout(function() {\n                    element.css(TRANSITION, \"\").css(HEIGHT);\n                }, options.duration); // TODO: this should fire a kendoAnimate session instead.\n            }\n\n            each(classes, function(idx, value) {\n                element.toggleClass(value, add);\n            });\n        }\n\n        return element;\n    };\n\n    kendo.parseEffects = function(input, mirror) {\n        var effects = {};\n\n        if (typeof input === \"string\") {\n            each(input.split(\" \"), function(idx, value) {\n                var redirectedEffect = !singleEffectRegExp.test(value),\n                    resolved = value.replace(oldEffectsRegExp, function(match, $1, $2) {\n                        return $1 + \":\" + $2.toLowerCase();\n                    }), // Support for old zoomIn/fadeOut style, now deprecated.\n                    effect = resolved.split(\":\"),\n                    direction = effect[1],\n                    effectBody = {};\n\n                if (effect.length > 1) {\n                    effectBody.direction = (mirror && redirectedEffect ? directions[direction].reverse : direction);\n                }\n\n                effects[effect[0]] = effectBody;\n            });\n        } else {\n            each(input, function(idx) {\n                var direction = this.direction;\n\n                if (direction && mirror && !singleEffectRegExp.test(idx)) {\n                    this.direction = directions[direction].reverse;\n                }\n\n                effects[idx] = this;\n            });\n        }\n\n        return effects;\n    };\n\n    function parseInteger(value) {\n        return parseInt(value, 10);\n    }\n\n    function parseCSS(element, property) {\n        return parseInteger(element.css(property));\n    }\n\n    function keys(obj) {\n        var acc = [];\n        for (var propertyName in obj) {\n            acc.push(propertyName);\n        }\n        return acc;\n    }\n\n    function strip3DTransforms(properties) {\n        for (var key in properties) {\n            if (transformProps.indexOf(key) != -1 && transform2d.indexOf(key) == -1) {\n                delete properties[key];\n            }\n        }\n\n        return properties;\n    }\n\n    function normalizeCSS(element, properties) {\n        var transformation = [], cssValues = {}, lowerKey, key, value, isTransformed;\n\n        for (key in properties) {\n            lowerKey = key.toLowerCase();\n            isTransformed = transforms && transformProps.indexOf(lowerKey) != -1;\n\n            if (!support.hasHW3D && isTransformed && transform2d.indexOf(lowerKey) == -1) {\n                delete properties[key];\n            } else {\n                value = properties[key];\n\n                if (isTransformed) {\n                    transformation.push(key + \"(\" + value + \")\");\n                } else {\n                    cssValues[key] = value;\n                }\n            }\n        }\n\n        if (transformation.length) {\n            cssValues[TRANSFORM] = transformation.join(\" \");\n        }\n\n        return cssValues;\n    }\n\n    if (transitions) {\n        extend(fx, {\n            transition: function(element, properties, options) {\n                var css,\n                    delay = 0,\n                    oldKeys = element.data(\"keys\") || [],\n                    timeoutID;\n\n                options = extend({\n                        duration: 200,\n                        ease: \"ease-out\",\n                        complete: null,\n                        exclusive: \"all\"\n                    },\n                    options\n                );\n\n                var stopTransitionCalled = false;\n\n                var stopTransition = function() {\n                    if (!stopTransitionCalled) {\n                        stopTransitionCalled = true;\n\n                        if (timeoutID) {\n                            clearTimeout(timeoutID);\n                            timeoutID = null;\n                        }\n\n                        element\n                        .removeData(ABORT_ID)\n                        .dequeue()\n                        .css(TRANSITION, \"\")\n                        .css(TRANSITION);\n\n                        options.complete.call(element);\n                    }\n                };\n\n                options.duration = $.fx ? $.fx.speeds[options.duration] || options.duration : options.duration;\n\n                css = normalizeCSS(element, properties);\n\n                $.merge(oldKeys, keys(css));\n\n                if ($.hasOwnProperty(\"uniqueSort\")) {\n                    element\n                        .data(\"keys\", $.uniqueSort(oldKeys))\n                        .height();\n                } else {\n                    element\n                        .data(\"keys\", $.unique(oldKeys))\n                        .height();\n                }\n\n                element.css(TRANSITION, options.exclusive + \" \" + options.duration + \"ms \" + options.ease).css(TRANSITION);\n                element.css(css).css(TRANSFORM);\n\n                /**\n                 * Use transitionEnd event for browsers who support it - but duplicate it with setTimeout, as the transitionEnd event will not be triggered if no CSS properties change.\n                 * This should be cleaned up at some point (widget by widget), and refactored to widgets not relying on the complete callback if no transition occurs.\n                 *\n                 * For IE9 and below, resort to setTimeout.\n                 */\n                if (transitions.event) {\n                    element.one(transitions.event, stopTransition);\n                    if (options.duration !== 0) {\n                        delay = 500;\n                    }\n                }\n\n                timeoutID = setTimeout(stopTransition, options.duration + delay);\n                element.data(ABORT_ID, timeoutID);\n                element.data(COMPLETE_CALLBACK, stopTransition);\n            },\n\n            stopQueue: function(element, clearQueue, gotoEnd) {\n                var cssValues,\n                    taskKeys = element.data(\"keys\"),\n                    retainPosition = (!gotoEnd && taskKeys),\n                    completeCallback = element.data(COMPLETE_CALLBACK);\n\n                if (retainPosition) {\n                    cssValues = kendo.getComputedStyles(element[0], taskKeys);\n                }\n\n                if (completeCallback) {\n                    completeCallback();\n                }\n\n                if (retainPosition) {\n                    element.css(cssValues);\n                }\n\n                return element\n                        .removeData(\"keys\")\n                        .stop(clearQueue);\n            }\n        });\n    }\n\n    function animationProperty(element, property) {\n        if (transforms) {\n            var transform = element.css(TRANSFORM);\n            if (transform == NONE) {\n                return property == \"scale\" ? 1 : 0;\n            }\n\n            var match = transform.match(new RegExp(property + \"\\\\s*\\\\(([\\\\d\\\\w\\\\.]+)\")),\n                computed = 0;\n\n            if (match) {\n                computed = parseInteger(match[1]);\n            } else {\n                match = transform.match(matrix3dRegExp) || [0, 0, 0, 0, 0];\n                property = property.toLowerCase();\n\n                if (translateXRegExp.test(property)) {\n                    computed = parseFloat(match[3] / match[2]);\n                } else if (property == \"translatey\") {\n                    computed = parseFloat(match[4] / match[2]);\n                } else if (property == \"scale\") {\n                    computed = parseFloat(match[2]);\n                } else if (property == \"rotate\") {\n                    computed = parseFloat(Math.atan2(match[2], match[1]));\n                }\n            }\n\n            return computed;\n        } else {\n            return parseFloat(element.css(property));\n        }\n    }\n\n    var EffectSet = kendo.Class.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that.element = element;\n            that.effects = [];\n            that.options = options;\n            that.restore = [];\n        },\n\n        run: function(effects) {\n            var that = this,\n                effect,\n                idx, jdx,\n                length = effects.length,\n                element = that.element,\n                options = that.options,\n                deferred = $.Deferred(),\n                start = {},\n                end = {},\n                target,\n                children,\n                childrenLength;\n\n            that.effects = effects;\n\n            deferred.done(that.complete.bind(that));\n\n            element.data(\"animating\", true);\n\n            for (idx = 0; idx < length; idx ++) {\n                effect = effects[idx];\n\n                effect.setReverse(options.reverse);\n                effect.setOptions(options);\n\n                that.addRestoreProperties(effect.restore);\n\n                effect.prepare(start, end);\n\n                children = effect.children();\n\n                for (jdx = 0, childrenLength = children.length; jdx < childrenLength; jdx ++) {\n                    children[jdx].duration(options.duration).run();\n                }\n            }\n\n            // legacy support for options.properties\n            for (var effectName in options.effects) {\n                extend(end, options.effects[effectName].properties);\n            }\n\n            // Show the element initially\n            if (!element.is(\":visible\")) {\n                extend(start, { display: element.data(\"olddisplay\") || \"block\" });\n            }\n\n            if (transforms && !options.reset) {\n                target = element.data(\"targetTransform\");\n\n                if (target) {\n                    start = extend(target, start);\n                }\n            }\n\n            start = normalizeCSS(element, start);\n\n            if (transforms && !transitions) {\n                start = strip3DTransforms(start);\n            }\n\n            element.css(start)\n                   .css(TRANSFORM); // Nudge\n\n            for (idx = 0; idx < length; idx ++) {\n                effects[idx].setup();\n            }\n\n            if (options.init) {\n                options.init();\n            }\n\n            element.data(\"targetTransform\", end);\n            fx.animate(element, end, extend({}, options, { complete: deferred.resolve }));\n\n            return deferred.promise();\n        },\n\n        stop: function() {\n            $(this.element).kendoStop(true, true);\n        },\n\n        addRestoreProperties: function(restore) {\n            var element = this.element,\n                value,\n                i = 0,\n                length = restore.length;\n\n            for (; i < length; i ++) {\n                value = restore[i];\n\n                this.restore.push(value);\n\n                if (!element.data(value)) {\n                    element.data(value, element.css(value));\n                }\n            }\n        },\n\n        restoreCallback: function() {\n            var element = this.element;\n\n            for (var i = 0, length = this.restore.length; i < length; i ++) {\n                var value = this.restore[i];\n                element.css(value, element.data(value));\n            }\n        },\n\n        complete: function() {\n            var that = this,\n                idx = 0,\n                element = that.element,\n                options = that.options,\n                effects = that.effects,\n                length = effects.length;\n\n            element\n                .removeData(\"animating\")\n                .dequeue(); // call next animation from the queue\n\n            if (options.hide) {\n                element.data(\"olddisplay\", element.css(\"display\")).hide();\n            }\n\n            this.restoreCallback();\n\n            if (hasZoom && !transforms) {\n                setTimeout(this.restoreCallback.bind(this), 0); // Again jQuery callback in IE8-\n            }\n\n            for (; idx < length; idx ++) {\n                effects[idx].teardown();\n            }\n\n            if (options.completeCallback) {\n                options.completeCallback(element);\n            }\n        }\n    });\n\n    fx.promise = function(element, options) {\n        var effects = [],\n            effectClass,\n            effectSet = new EffectSet(element, options),\n            parsedEffects = kendo.parseEffects(options.effects),\n            effect;\n\n        options.effects = parsedEffects;\n\n        for (var effectName in parsedEffects) {\n            effectClass = fx[capitalize(effectName)];\n\n            if (effectClass) {\n                effect = new effectClass(element, parsedEffects[effectName].direction);\n                effects.push(effect);\n           }\n        }\n\n        if (effects[0]) {\n            effectSet.run(effects);\n        } else { // Not sure how would an fx promise reach this state - means that you call kendoAnimate with no valid effects? Why?\n            if (!element.is(\":visible\")) {\n                element.css({ display: element.data(\"olddisplay\") || \"block\" }).css(\"display\");\n            }\n\n            if (options.init) {\n                options.init();\n            }\n\n            element.dequeue();\n            effectSet.complete();\n        }\n    };\n\n    extend(fx, {\n        animate: function(elements, properties, options) {\n            var useTransition = options.transition !== false;\n            delete options.transition;\n\n            if (transitions && \"transition\" in fx && useTransition) {\n                fx.transition(elements, properties, options);\n            } else {\n                if (transforms) {\n                    elements.animate(strip3DTransforms(properties), { queue: false, show: false, hide: false, duration: options.duration, complete: options.complete }); // Stop animate from showing/hiding the element to be able to hide it later on.\n                } else {\n                    elements.each(function() {\n                        var element = $(this),\n                            multiple = {};\n\n                        each(transformProps, function(idx, value) { // remove transforms to avoid IE and older browsers confusion\n                            var params,\n                                currentValue = properties ? properties[value]+ \" \" : null; // We need to match\n\n                            if (currentValue) {\n                                var single = properties;\n\n                                if (value in scaleProperties && properties[value] !== undefined) {\n                                    params = currentValue.match(cssParamsRegExp);\n                                    if (transforms) {\n                                        extend(single, { scale: +params[0] });\n                                    }\n                                } else {\n                                    if (value in translateProperties && properties[value] !== undefined) {\n                                        var position = element.css(POSITION),\n                                            isFixed = (position == \"absolute\" || position == \"fixed\");\n\n                                        if (!element.data(TRANSLATE)) {\n                                            if (isFixed) {\n                                                element.data(TRANSLATE, {\n                                                    top: parseCSS(element, \"top\") || 0,\n                                                    left: parseCSS(element, \"left\") || 0,\n                                                    bottom: parseCSS(element, \"bottom\"),\n                                                    right: parseCSS(element, \"right\")\n                                                });\n                                            } else {\n                                                element.data(TRANSLATE, {\n                                                    top: parseCSS(element, \"marginTop\") || 0,\n                                                    left: parseCSS(element, \"marginLeft\") || 0\n                                                });\n                                            }\n                                        }\n\n                                        var originalPosition = element.data(TRANSLATE);\n\n                                        params = currentValue.match(cssParamsRegExp);\n                                        if (params) {\n\n                                            var dX = value == TRANSLATE + \"y\" ? +null : +params[1],\n                                                dY = value == TRANSLATE + \"y\" ? +params[1] : +params[2];\n\n                                            if (isFixed) {\n                                                if (!isNaN(originalPosition.right)) {\n                                                    if (!isNaN(dX)) { extend(single, { right: originalPosition.right - dX }); }\n                                                } else {\n                                                    if (!isNaN(dX)) { extend(single, { left: originalPosition.left + dX }); }\n                                                }\n\n                                                if (!isNaN(originalPosition.bottom)) {\n                                                    if (!isNaN(dY)) { extend(single, { bottom: originalPosition.bottom - dY }); }\n                                                } else {\n                                                    if (!isNaN(dY)) { extend(single, { top: originalPosition.top + dY }); }\n                                                }\n                                            } else {\n                                                if (!isNaN(dX)) { extend(single, { marginLeft: originalPosition.left + dX }); }\n                                                if (!isNaN(dY)) { extend(single, { marginTop: originalPosition.top + dY }); }\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (!transforms && value != \"scale\" && value in single) {\n                                    delete single[value];\n                                }\n\n                                if (single) {\n                                    extend(multiple, single);\n                                }\n                            }\n                        });\n\n                        if (browser.msie) {\n                            delete multiple.scale;\n                        }\n\n                        element.animate(multiple, { queue: false, show: false, hide: false, duration: options.duration, complete: options.complete }); // Stop animate from showing/hiding the element to be able to hide it later on.\n                    });\n                }\n            }\n        }\n    });\n\n    fx.animatedPromise = fx.promise;\n\n    var Effect = kendo.Class.extend({\n        init: function(element, direction) {\n            var that = this;\n            that.element = element;\n            that._direction = direction;\n            that.options = {};\n            that._additionalEffects = [];\n\n            if (!that.restore) {\n                that.restore = [];\n            }\n        },\n\n// Public API\n        reverse: function() {\n            this._reverse = true;\n            return this.run();\n        },\n\n        play: function() {\n            this._reverse = false;\n            return this.run();\n        },\n\n        add: function(additional) {\n            this._additionalEffects.push(additional);\n            return this;\n        },\n\n        direction: function(value) {\n            this._direction = value;\n            return this;\n        },\n\n        duration: function(duration) {\n            this._duration = duration;\n            return this;\n        },\n\n        compositeRun: function() {\n            var that = this,\n                effectSet = new EffectSet(that.element, { reverse: that._reverse, duration: that._duration }),\n                effects = that._additionalEffects.concat([ that ]);\n\n            return effectSet.run(effects);\n        },\n\n        run: function() {\n            if (this._additionalEffects && this._additionalEffects[0]) {\n                return this.compositeRun();\n            }\n\n            var that = this,\n                element = that.element,\n                idx = 0,\n                restore = that.restore,\n                length = restore.length,\n                value,\n                deferred = $.Deferred(),\n                start = {},\n                end = {},\n                target,\n                children = that.children(),\n                childrenLength = children.length;\n\n            deferred.done(that._complete.bind(that));\n\n            element.data(\"animating\", true);\n\n            for (idx = 0; idx < length; idx ++) {\n                value = restore[idx];\n\n                if (!element.data(value)) {\n                    element.data(value, element.css(value));\n                }\n            }\n\n            for (idx = 0; idx < childrenLength; idx ++) {\n                children[idx].duration(that._duration).run();\n            }\n\n            that.prepare(start, end);\n\n            if (!element.is(\":visible\")) {\n                extend(start, { display: element.data(\"olddisplay\") || \"block\" });\n            }\n\n            if (transforms) {\n                target = element.data(\"targetTransform\");\n\n                if (target) {\n                    start = extend(target, start);\n                }\n            }\n\n            start = normalizeCSS(element, start);\n\n            if (transforms && !transitions) {\n                start = strip3DTransforms(start);\n            }\n\n            element.css(start).css(TRANSFORM); // Trick webkit into re-rendering\n\n            that.setup();\n\n            element.data(\"targetTransform\", end);\n            fx.animate(element, end, { duration: that._duration, complete: deferred.resolve });\n\n            return deferred.promise();\n        },\n\n        stop: function() {\n            var idx = 0,\n                children = this.children(),\n                childrenLength = children.length;\n\n            for (idx = 0; idx < childrenLength; idx ++) {\n                children[idx].stop();\n            }\n\n            $(this.element).kendoStop(true, true);\n            return this;\n        },\n\n        restoreCallback: function() {\n            var element = this.element;\n\n            for (var i = 0, length = this.restore.length; i < length; i ++) {\n                var value = this.restore[i];\n                element.css(value, element.data(value));\n            }\n        },\n\n        _complete: function() {\n            var that = this,\n                element = that.element;\n\n            element\n                .removeData(\"animating\")\n                .dequeue(); // call next animation from the queue\n\n            that.restoreCallback();\n\n            if (that.shouldHide()) {\n                element.data(\"olddisplay\", element.css(\"display\")).hide();\n            }\n\n            if (hasZoom && !transforms) {\n                setTimeout(that.restoreCallback.bind(that), 0); // Again jQuery callback in IE8-\n            }\n\n            that.teardown();\n        },\n\n        /////////////////////////// Support for kendo.animate;\n        setOptions: function(options) {\n            extend(true, this.options, options);\n        },\n\n        children: function() {\n            return [];\n        },\n\n        shouldHide: $.noop,\n\n        setup: $.noop,\n        prepare: $.noop,\n        teardown: $.noop,\n        directions: [],\n\n        setReverse: function(reverse) {\n            this._reverse = reverse;\n            return this;\n        }\n    });\n\n    function capitalize(word) {\n        return word.charAt(0).toUpperCase() + word.substring(1);\n    }\n\n    function createEffect(name, definition) {\n        var effectClass = Effect.extend(definition),\n            directions = effectClass.prototype.directions;\n\n        fx[capitalize(name)] = effectClass;\n\n        fx.Element.prototype[name] = function(direction, opt1, opt2, opt3) {\n            return new effectClass(this.element, direction, opt1, opt2, opt3);\n        };\n\n        each(directions, function(idx, theDirection) {\n            fx.Element.prototype[name + capitalize(theDirection)] = function(opt1, opt2, opt3) {\n                return new effectClass(this.element, theDirection, opt1, opt2, opt3);\n            };\n        });\n    }\n\n    var FOUR_DIRECTIONS = [\"left\", \"right\", \"up\", \"down\"],\n        IN_OUT = [\"in\", \"out\"];\n\n    createEffect(\"slideIn\", {\n        directions: FOUR_DIRECTIONS,\n\n        divisor: function(value) {\n            this.options.divisor = value;\n            return this;\n        },\n\n        prepare: function(start, end) {\n            var that = this,\n                tmp,\n                element = that.element,\n                outerWidth = kendo._outerWidth,\n                outerHeight = kendo._outerHeight,\n                direction = directions[that._direction],\n                offset = -direction.modifier * (direction.vertical ? outerHeight(element) : outerWidth(element)),\n                startValue = offset / (that.options && that.options.divisor || 1) + PX,\n                endValue = \"0px\";\n\n            if (that._reverse) {\n                tmp = start;\n                start = end;\n                end = tmp;\n            }\n\n            if (transforms) {\n                start[direction.transition] = startValue;\n                end[direction.transition] = endValue;\n            } else {\n                start[direction.property] = startValue;\n                end[direction.property] = endValue;\n            }\n        }\n    });\n\n    createEffect(\"tile\", {\n        directions: FOUR_DIRECTIONS,\n\n        init: function(element, direction, previous) {\n            Effect.prototype.init.call(this, element, direction);\n            this.options = { previous: previous };\n        },\n\n        previousDivisor: function(value) {\n            this.options.previousDivisor = value;\n            return this;\n        },\n\n        children: function() {\n            var that = this,\n                reverse = that._reverse,\n                previous = that.options.previous,\n                divisor = that.options.previousDivisor || 1,\n                dir = that._direction;\n\n            var children = [ kendo.fx(that.element).slideIn(dir).setReverse(reverse) ];\n\n            if (previous) {\n                children.push( kendo.fx(previous).slideIn(directions[dir].reverse).divisor(divisor).setReverse(!reverse) );\n            }\n\n            return children;\n        }\n    });\n\n    function createToggleEffect(name, property, defaultStart, defaultEnd) {\n        createEffect(name, {\n            directions: IN_OUT,\n\n            startValue: function(value) {\n                this._startValue = value;\n                return this;\n            },\n\n            endValue: function(value) {\n                this._endValue = value;\n                return this;\n            },\n\n            shouldHide: function() {\n               return this._shouldHide;\n            },\n\n            prepare: function(start, end) {\n                var that = this,\n                    startValue,\n                    endValue,\n                    out = this._direction === \"out\",\n                    startDataValue = that.element.data(property),\n                    startDataValueIsSet = !(isNaN(startDataValue) || startDataValue == defaultStart);\n\n                if (startDataValueIsSet) {\n                    startValue = startDataValue;\n                } else if (typeof this._startValue !== \"undefined\") {\n                    startValue = this._startValue;\n                } else {\n                    startValue = out ? defaultStart : defaultEnd;\n                }\n\n                if (typeof this._endValue !== \"undefined\") {\n                    endValue = this._endValue;\n                } else {\n                    endValue = out ? defaultEnd : defaultStart;\n                }\n\n                if (this._reverse) {\n                    start[property] = endValue;\n                    end[property] = startValue;\n                } else {\n                    start[property] = startValue;\n                    end[property] = endValue;\n                }\n\n                that._shouldHide = end[property] === defaultEnd;\n            }\n        });\n    }\n\n    createToggleEffect(\"fade\", \"opacity\", 1, 0);\n    createToggleEffect(\"zoom\", \"scale\", 1, 0.01);\n\n    createEffect(\"slideMargin\", {\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                origin = element.data(ORIGIN),\n                offset = options.offset,\n                margin,\n                reverse = that._reverse;\n\n            if (!reverse && origin === null) {\n                element.data(ORIGIN, parseFloat(element.css(\"margin-\" + options.axis)));\n            }\n\n            margin = (element.data(ORIGIN) || 0);\n            end[\"margin-\" + options.axis] = !reverse ? margin + offset : margin;\n        }\n    });\n\n    createEffect(\"slideTo\", {\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                offset = options.offset.split(\",\"),\n                reverse = that._reverse;\n\n            if (transforms) {\n                end.translatex = !reverse ? offset[0] : 0;\n                end.translatey = !reverse ? offset[1] : 0;\n            } else {\n                end.left = !reverse ? offset[0] : 0;\n                end.top = !reverse ? offset[1] : 0;\n            }\n            element.css(\"left\");\n        }\n    });\n\n    createEffect(\"expand\", {\n        directions: [\"horizontal\", \"vertical\"],\n\n        restore: [ OVERFLOW ],\n\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                reverse = that._reverse,\n                property = that._direction === \"vertical\" ? HEIGHT : WIDTH,\n                setLength = element[0].style[property],\n                oldLength = element.data(property),\n                length = parseFloat(oldLength || setLength),\n                realLength = round(element.css(property, AUTO)[property]());\n\n            start.overflow = HIDDEN;\n\n            length = (options && options.reset) ? realLength || length : length || realLength;\n\n            end[property] = (reverse ? 0 : length) + PX;\n            start[property] = (reverse ? length : 0) + PX;\n\n            if (oldLength === undefined) {\n                element.data(property, setLength);\n            }\n        },\n\n        shouldHide: function() {\n           return this._reverse;\n        },\n\n        teardown: function() {\n            var that = this,\n                element = that.element,\n                property = that._direction === \"vertical\" ? HEIGHT : WIDTH,\n                length = element.data(property);\n\n            if (length == AUTO || length === BLANK) {\n                setTimeout(function() { element.css(property, AUTO).css(property); }, 0); // jQuery animate complete callback in IE is called before the last animation step!\n            }\n        }\n    });\n\n    var TRANSFER_START_STATE = { position: \"absolute\", marginLeft: 0, marginTop: 0, scale: 1 };\n    /**\n     * Intersection point formulas are taken from here - http://zonalandeducation.com/mmts/intersections/intersectionOfTwoLines1/intersectionOfTwoLines1.html\n     * Formula for a linear function from two points from here - http://demo.activemath.org/ActiveMath2/search/show.cmd?id=mbase://AC_UK_calculus/functions/ex_linear_equation_two_points\n     * The transform origin point is the intersection point of the two lines from the top left corners/top right corners of the element and target.\n     * The math and variables below MAY BE SIMPLIFIED (zeroes removed), but this would make the formula too cryptic.\n     */\n    createEffect(\"transfer\", {\n        init: function(element, target) {\n            this.element = element;\n            this.options = { target: target };\n            this.restore = [];\n        },\n\n        setup: function() {\n            this.element.appendTo(document.body);\n        },\n\n        prepare: function(start, end) {\n            var that = this,\n                element = that.element,\n                outerBox = fx.box(element),\n                innerBox = fx.box(that.options.target),\n                currentScale = animationProperty(element, \"scale\"),\n                scale = fx.fillScale(innerBox, outerBox),\n                transformOrigin = fx.transformOrigin(innerBox, outerBox);\n\n            extend(start, TRANSFER_START_STATE);\n            end.scale = 1;\n\n            element.css(TRANSFORM, \"scale(1)\").css(TRANSFORM);\n            element.css(TRANSFORM, \"scale(\" + currentScale + \")\");\n\n            start.top = outerBox.top;\n            start.left = outerBox.left;\n            start.transformOrigin = transformOrigin.x + PX + \" \" + transformOrigin.y + PX;\n\n            if (that._reverse) {\n                start.scale = scale;\n            } else {\n                end.scale = scale;\n            }\n        }\n    });\n\n\n    var CLIPS = {\n        top: \"rect(auto auto $size auto)\",\n        bottom: \"rect($size auto auto auto)\",\n        left: \"rect(auto $size auto auto)\",\n        right: \"rect(auto auto auto $size)\"\n    };\n\n    var ROTATIONS = {\n        top:    { start: \"rotatex(0deg)\", end: \"rotatex(180deg)\" },\n        bottom: { start: \"rotatex(-180deg)\", end: \"rotatex(0deg)\" },\n        left:   { start: \"rotatey(0deg)\", end: \"rotatey(-180deg)\" },\n        right:  { start: \"rotatey(180deg)\", end: \"rotatey(0deg)\" }\n    };\n\n    function clipInHalf(container, direction) {\n        var vertical = kendo.directions[direction].vertical,\n            size = (container[vertical ? HEIGHT : WIDTH]() / 2) + \"px\";\n\n        return CLIPS[direction].replace(\"$size\", size);\n    }\n\n    createEffect(\"turningPage\", {\n        directions: FOUR_DIRECTIONS,\n\n        init: function(element, direction, container) {\n            Effect.prototype.init.call(this, element, direction);\n            this._container = container;\n        },\n\n        prepare: function(start, end) {\n            var that = this,\n                reverse = that._reverse,\n                direction = reverse ? directions[that._direction].reverse : that._direction,\n                rotation = ROTATIONS[direction];\n\n            start.zIndex = 1;\n\n            if (that._clipInHalf) {\n               start.clip = clipInHalf(that._container, kendo.directions[direction].reverse);\n            }\n\n            start[BACKFACE] = HIDDEN;\n\n            end[TRANSFORM] = TRANSFORM_PERSPECTIVE + (reverse ? rotation.start : rotation.end);\n            start[TRANSFORM] = TRANSFORM_PERSPECTIVE + (reverse ? rotation.end : rotation.start);\n        },\n\n        setup: function() {\n            this._container.append(this.element);\n        },\n\n        face: function(value) {\n            this._face = value;\n            return this;\n        },\n\n        shouldHide: function() {\n            var that = this,\n                reverse = that._reverse,\n                face = that._face;\n\n            return (reverse && !face) || (!reverse && face);\n        },\n\n        clipInHalf: function(value) {\n            this._clipInHalf = value;\n            return this;\n        },\n\n        temporary: function() {\n            this.element.addClass('temp-page');\n            return this;\n        }\n    });\n\n    createEffect(\"staticPage\", {\n        directions: FOUR_DIRECTIONS,\n\n        init: function(element, direction, container) {\n            Effect.prototype.init.call(this, element, direction);\n            this._container = container;\n        },\n\n        restore: [\"clip\"],\n\n        prepare: function(start, end) {\n            var that = this,\n                direction = that._reverse ? directions[that._direction].reverse : that._direction;\n\n            start.clip = clipInHalf(that._container, direction);\n            start.opacity = 0.999;\n            end.opacity = 1;\n        },\n\n        shouldHide: function() {\n            var that = this,\n                reverse = that._reverse,\n                face = that._face;\n\n            return (reverse && !face) || (!reverse && face);\n        },\n\n        face: function(value) {\n            this._face = value;\n            return this;\n        }\n    });\n\n    createEffect(\"pageturn\", {\n        directions: [\"horizontal\", \"vertical\"],\n\n        init: function(element, direction, face, back) {\n            Effect.prototype.init.call(this, element, direction);\n            this.options = {};\n            this.options.face = face;\n            this.options.back = back;\n        },\n\n        children: function() {\n            var that = this,\n                options = that.options,\n                direction = that._direction === \"horizontal\" ? \"left\" : \"top\",\n                reverseDirection = kendo.directions[direction].reverse,\n                reverse = that._reverse,\n                temp,\n                faceClone = options.face.clone(true).removeAttr(\"id\"),\n                backClone = options.back.clone(true).removeAttr(\"id\"),\n                element = that.element;\n\n            if (reverse) {\n                temp = direction;\n                direction = reverseDirection;\n                reverseDirection = temp;\n            }\n\n            return [\n                kendo.fx(options.face).staticPage(direction, element).face(true).setReverse(reverse),\n                kendo.fx(options.back).staticPage(reverseDirection, element).setReverse(reverse),\n                kendo.fx(faceClone).turningPage(direction, element).face(true).clipInHalf(true).temporary().setReverse(reverse),\n                kendo.fx(backClone).turningPage(reverseDirection, element).clipInHalf(true).temporary().setReverse(reverse)\n            ];\n        },\n\n        prepare: function(start, end) {\n            start[PERSPECTIVE] = DEFAULT_PERSPECTIVE;\n            start.transformStyle = \"preserve-3d\";\n            // hack to trigger transition end.\n            start.opacity = 0.999;\n            end.opacity = 1;\n        },\n\n        teardown: function() {\n            this.element.find(\".temp-page\").remove();\n        }\n    });\n\n    createEffect(\"flip\", {\n        directions: [\"horizontal\", \"vertical\"],\n\n        init: function(element, direction, face, back) {\n            Effect.prototype.init.call(this, element, direction);\n            this.options = {};\n            this.options.face = face;\n            this.options.back = back;\n        },\n\n        children: function() {\n            var that = this,\n                options = that.options,\n                direction = that._direction === \"horizontal\" ? \"left\" : \"top\",\n                reverseDirection = kendo.directions[direction].reverse,\n                reverse = that._reverse,\n                temp,\n                element = that.element;\n\n            if (reverse) {\n                temp = direction;\n                direction = reverseDirection;\n                reverseDirection = temp;\n            }\n\n            return [\n                kendo.fx(options.face).turningPage(direction, element).face(true).setReverse(reverse),\n                kendo.fx(options.back).turningPage(reverseDirection, element).setReverse(reverse)\n            ];\n        },\n\n        prepare: function(start) {\n            start[PERSPECTIVE] = DEFAULT_PERSPECTIVE;\n            start.transformStyle = \"preserve-3d\";\n        }\n    });\n\n    var RESTORE_OVERFLOW = !support.mobileOS.android;\n    var IGNORE_TRANSITION_EVENT_SELECTOR = \".km-touch-scrollbar, .km-actionsheet-wrapper\";\n\n    createEffect(\"replace\", {\n        _before: $.noop,\n        _after: $.noop,\n        init: function(element, previous, transitionClass) {\n            Effect.prototype.init.call(this, element);\n            this._previous = $(previous);\n            this._transitionClass = transitionClass;\n        },\n\n        duration: function() {\n            throw new Error(\"The replace effect does not support duration setting; the effect duration may be customized through the transition class rule\");\n        },\n\n        beforeTransition: function(callback) {\n            this._before = callback;\n            return this;\n        },\n\n        afterTransition: function(callback) {\n            this._after = callback;\n            return this;\n        },\n\n        _both: function() {\n            return $().add(this._element).add(this._previous);\n        },\n\n        _containerClass: function() {\n            var direction = this._direction,\n                containerClass = \"k-fx k-fx-start k-fx-\" + this._transitionClass;\n\n            if (direction) {\n                containerClass += \" k-fx-\" + direction;\n            }\n\n            if (this._reverse) {\n                containerClass += \" k-fx-reverse\";\n            }\n\n            return containerClass;\n        },\n\n        complete: function(e) {\n            if (!this.deferred || (e && $(e.target).is(IGNORE_TRANSITION_EVENT_SELECTOR))) {\n                return;\n            }\n\n            var container = this.container;\n\n            container\n                .removeClass(\"k-fx-end\")\n                .removeClass(this._containerClass())\n                .off(transitions.event, this.completeProxy);\n\n            this._previous.hide().removeClass(\"k-fx-current\");\n            this.element.removeClass(\"k-fx-next\");\n\n            if (RESTORE_OVERFLOW) {\n                container.css(OVERFLOW, \"\");\n            }\n\n            if (!this.isAbsolute) {\n                this._both().css(POSITION, \"\");\n            }\n\n            this.deferred.resolve();\n            delete this.deferred;\n        },\n\n        run: function() {\n            if (this._additionalEffects && this._additionalEffects[0]) {\n                return this.compositeRun();\n            }\n\n            var that = this,\n                element = that.element,\n                previous = that._previous,\n                container = element.parents().filter(previous.parents()).first(),\n                both = that._both(),\n                deferred = $.Deferred(),\n                originalPosition = element.css(POSITION),\n                originalOverflow;\n\n            // edge case for grid/scheduler, where the previous is already destroyed.\n            if (!container.length) {\n                container = element.parent();\n            }\n\n            this.container = container;\n            this.deferred = deferred;\n            this.isAbsolute = originalPosition  == \"absolute\";\n\n            if (!this.isAbsolute) {\n                both.css(POSITION, \"absolute\");\n            }\n\n            if (RESTORE_OVERFLOW) {\n                originalOverflow = container.css(OVERFLOW);\n                container.css(OVERFLOW, \"hidden\");\n            }\n\n            if (!transitions) {\n                this.complete();\n            } else {\n                element.addClass(\"k-fx-hidden\");\n\n                container.addClass(this._containerClass());\n\n                this.completeProxy = this.complete.bind(this);\n                container.on(transitions.event, this.completeProxy);\n\n                kendo.animationFrame(function() {\n                    element.removeClass(\"k-fx-hidden\").addClass(\"k-fx-next\");\n                    previous.css(\"display\", \"\").addClass(\"k-fx-current\");\n                    that._before(previous, element);\n                    kendo.animationFrame(function() {\n                        container.removeClass(\"k-fx-start\").addClass(\"k-fx-end\");\n                        that._after(previous, element);\n                    });\n                });\n            }\n\n            return deferred.promise();\n        },\n\n        stop: function() {\n            this.complete();\n        }\n    });\n\n    var Animation = kendo.Class.extend({\n        init: function() {\n            var that = this;\n            that._tickProxy = that._tick.bind(that);\n            that._started = false;\n        },\n\n        tick: $.noop,\n        done: $.noop,\n        onEnd: $.noop,\n        onCancel: $.noop,\n\n        start: function() {\n            if (!this.enabled()) {\n                return;\n            }\n\n            if (!this.done()) {\n                this._started = true;\n                kendo.animationFrame(this._tickProxy);\n            } else {\n                this.onEnd();\n            }\n        },\n\n        enabled: function() {\n            return true;\n        },\n\n        cancel: function() {\n            this._started = false;\n            this.onCancel();\n        },\n\n        _tick: function() {\n            var that = this;\n            if (!that._started) { return; }\n\n            that.tick();\n\n            if (!that.done()) {\n                kendo.animationFrame(that._tickProxy);\n            } else {\n                that._started = false;\n                that.onEnd();\n            }\n        }\n    });\n\n    var Transition = Animation.extend({\n        init: function(options) {\n            var that = this;\n            extend(that, options);\n            Animation.fn.init.call(that);\n        },\n\n        done: function() {\n            return this.timePassed() >= this.duration;\n        },\n\n        timePassed: function() {\n            return Math.min(this.duration, (new Date()) - this.startDate);\n        },\n\n        moveTo: function(options) {\n            var that = this,\n                movable = that.movable;\n\n            that.initial = movable[that.axis];\n            that.delta = options.location - that.initial;\n\n            that.duration = typeof options.duration == \"number\" ? options.duration : 300;\n\n            that.tick = that._easeProxy(options.ease);\n\n            that.startDate = new Date();\n            that.start();\n        },\n\n        _easeProxy: function(ease) {\n            var that = this;\n\n            return function() {\n                that.movable.moveAxis(that.axis, ease(that.timePassed(), that.initial, that.delta, that.duration));\n            };\n        }\n    });\n\n    extend(Transition, {\n        easeOutExpo: function (t, b, c, d) {\n            return (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\n        },\n\n        easeOutBack: function (t, b, c, d, s) {\n            s = 1.70158;\n            return c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;\n        }\n    });\n\n    fx.Animation = Animation;\n    fx.Transition = Transition;\n    fx.createEffect = createEffect;\n\n    fx.box = function(element) {\n        element = $(element);\n        var result = element.offset();\n        result.width = kendo._outerWidth(element);\n        result.height = kendo._outerHeight(element);\n        return result;\n    };\n\n    fx.transformOrigin = function(inner, outer) {\n        var x = (inner.left - outer.left) * outer.width / (outer.width - inner.width),\n            y = (inner.top - outer.top) * outer.height / (outer.height - inner.height);\n\n        return {\n            x: isNaN(x) ? 0 : x,\n            y: isNaN(y) ? 0 : y\n        };\n    };\n\n    fx.fillScale = function(inner, outer) {\n        return Math.min(inner.width / outer.width, inner.height / outer.height);\n    };\n\n    fx.fitScale = function(inner, outer) {\n        return Math.max(inner.width / outer.width, inner.height / outer.height);\n    };\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.data.odata',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"data.odata\",\n    name: \"OData\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        extend = $.extend,\n        NEWLINE = \"\\r\\n\",\n        DOUBLELINE = \"\\r\\n\\r\\n\",\n        isFunction = kendo.isFunction,\n        odataFilters = {\n            eq: \"eq\",\n            neq: \"ne\",\n            gt: \"gt\",\n            gte: \"ge\",\n            lt: \"lt\",\n            lte: \"le\",\n            contains : \"substringof\",\n            doesnotcontain: \"substringof\",\n            endswith: \"endswith\",\n            startswith: \"startswith\",\n            isnull: \"eq\",\n            isnotnull: \"ne\",\n            isnullorempty: \"eq\",\n            isnotnullorempty: \"ne\",\n            isempty: \"eq\",\n            isnotempty: \"ne\"\n        },\n        odataFiltersVersionFour = extend({}, odataFilters, {\n            contains: \"contains\"\n        }),\n        mappers = {\n            pageSize: $.noop,\n            page: $.noop,\n            filter: function(params, filter, useVersionFour) {\n                if (filter) {\n                    filter = toOdataFilter(filter, useVersionFour);\n                    if (filter) {\n                        params.$filter = filter;\n                    }\n                }\n            },\n            sort: function(params, orderby) {\n                var expr = $.map(orderby, function(value) {\n                    var order = value.field.replace(/\\./g, \"/\");\n\n                    if (value.dir === \"desc\") {\n                        order += \" desc\";\n                    }\n\n                    return order;\n                }).join(\",\");\n\n                if (expr) {\n                    params.$orderby = expr;\n                }\n            },\n            skip: function(params, skip) {\n                if (skip) {\n                    params.$skip = skip;\n                }\n            },\n            take: function(params, take) {\n                if (take) {\n                    params.$top = take;\n                }\n            }\n        },\n        defaultDataType = {\n            read: {\n                dataType: \"jsonp\"\n            }\n        };\n\n    function toOdataFilter(filter, useOdataFour) {\n        var result = [],\n            logic = filter.logic || \"and\",\n            idx,\n            length,\n            field,\n            type,\n            format,\n            operator,\n            value,\n            ignoreCase,\n            filters = filter.filters;\n\n        for (idx = 0, length = filters.length; idx < length; idx++) {\n            filter = filters[idx];\n            field = filter.field;\n            value = filter.value;\n            operator = filter.operator;\n\n            if (filter.filters) {\n                filter = toOdataFilter(filter, useOdataFour);\n            } else {\n                ignoreCase = filter.ignoreCase;\n                field = field.replace(/\\./g, \"/\");\n                filter = odataFilters[operator];\n                if (useOdataFour) {\n                    filter = odataFiltersVersionFour[operator];\n                }\n\n                if (operator === \"isnullorempty\") {\n                    filter = kendo.format(\"{0} {1} null or {0} {1} ''\", field, filter);\n                } else if(operator === \"isnotnullorempty\") {\n                    filter = kendo.format(\"{0} {1} null and {0} {1} ''\", field, filter);\n                } else if (operator === \"isnull\" || operator === \"isnotnull\") {\n                    filter = kendo.format(\"{0} {1} null\", field, filter);\n                } else if (operator === \"isempty\" || operator === \"isnotempty\") {\n                    filter = kendo.format(\"{0} {1} ''\", field, filter);\n                } else if (filter && value !== undefined) {\n                    type = kendo.type(value);\n                    if (type === \"string\") {\n                        format = \"'{1}'\";\n                        value = value.replace(/'/g, \"''\");\n\n                        if (ignoreCase === true) {\n                            field = \"tolower(\" + field + \")\";\n                        }\n\n                    } else if (type === \"date\") {\n                        if (useOdataFour) {\n                            format = \"{1:yyyy-MM-ddTHH:mm:ss+00:00}\";\n                            value = kendo.timezone.apply(value, 'Etc/UTC');\n                        } else {\n                            format = \"datetime'{1:yyyy-MM-ddTHH:mm:ss}'\";\n                        }\n                    } else {\n                        format = \"{1}\";\n                    }\n\n                    if (filter.length > 3) {\n                        if (filter !== \"substringof\") {\n                            format = \"{0}({2},\" + format + \")\";\n                        } else {\n                            format = \"{0}(\" + format + \",{2})\";\n                            if (operator === \"doesnotcontain\") {\n                                if (useOdataFour) {\n                                    format = \"{0}({2},'{1}') eq -1\";\n                                    filter = \"indexof\";\n                                } else {\n                                    format += \" eq false\";\n                                }\n                            }\n                        }\n                    } else {\n                        format = \"{2} {0} \" + format;\n                    }\n\n                    filter = kendo.format(format, filter, value, field);\n                }\n            }\n\n            result.push(filter);\n        }\n\n        filter = result.join(\" \" + logic + \" \");\n\n        if (result.length > 1) {\n            filter = \"(\" + filter + \")\";\n        }\n\n        return filter;\n    }\n\n    function stripMetadata(obj) {\n        for (var name in obj) {\n            if(name.indexOf(\"@odata\") === 0) {\n                delete obj[name];\n            }\n        }\n    }\n\n    function hex16() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substr(1);\n    }\n\n    function createBoundary(prefix) {\n        return prefix + hex16() + '-' + hex16() + '-' + hex16();\n    }\n\n    function createDelimeter(boundary, close) {\n        var result = NEWLINE + \"--\" + boundary;\n\n        if (close) {\n            result += \"--\";\n        }\n\n        return result;\n    }\n\n    function createCommand(transport, item, httpVerb, command) {\n         var transportUrl = transport.options[command].url;\n         var commandPrefix = kendo.format(\"{0} \", httpVerb);\n\n         if (isFunction(transportUrl)) {\n             return commandPrefix + transportUrl(item);\n         } else {\n             return commandPrefix + transportUrl;\n         }\n    }\n\n    function getOperationHeader(changeset, changeId) {\n        var header = \"\";\n\n        header += createDelimeter(changeset, false);\n        header += NEWLINE + 'Content-Type: application/http';\n        header += NEWLINE + 'Content-Transfer-Encoding: binary';\n        header += NEWLINE + 'Content-ID: ' + changeId;\n\n        return header;\n    }\n\n    function getOperationContent(item) {\n        var content = \"\";\n\n        content += NEWLINE + \"Content-Type: application/json;odata=minimalmetadata\";\n        content += NEWLINE + \"Prefer: return=representation\";\n        content += DOUBLELINE + kendo.stringify(item);\n\n        return content;\n    }\n\n    function getOperations(collection, changeset, changeId, command, transport, skipContent) {\n        var requestBody = \"\";\n\n        for (var i = 0; i < collection.length; i++) {\n            requestBody += getOperationHeader(changeset, changeId);\n            requestBody += DOUBLELINE + createCommand(transport, collection[i], transport.options[command].type, command) + ' HTTP/1.1';\n            if (!skipContent) {\n                requestBody += getOperationContent(collection[i]);\n            }\n            requestBody += NEWLINE;\n            changeId++;\n        }\n\n        return requestBody;\n    }\n\n    function processCollection(colection, boundary, changeset, changeId, transport, command, skipContent) {\n        var requestBody = \"\";\n\n        requestBody += getBoundary(boundary, changeset);\n        requestBody += getOperations(colection, changeset, changeId, command, transport, skipContent);\n        requestBody += createDelimeter(changeset, true);\n        requestBody += NEWLINE;\n\n        return requestBody;\n    }\n\n    function getBoundary(boundary,changeset) {\n        var requestBody = \"\";\n\n        requestBody += \"--\" + boundary + NEWLINE;\n        requestBody += \"Content-Type: multipart/mixed; boundary=\" + changeset + NEWLINE;\n\n        return requestBody;\n    }\n\n    function createBatchRequest(transport, colections) {\n\t\tvar options = extend({}, transport.options.batch);\n        var boundary = createBoundary(\"sf_batch_\");\n        var requestBody = \"\";\n        var changeId = 0;\n        var batchURL = transport.options.batch.url;\n        var changeset = createBoundary(\"sf_changeset_\");\n\n        options.type = transport.options.batch.type;\n        options.url = isFunction(batchURL) ? batchURL() : batchURL;\n\t\toptions.headers = extend(options.headers || {}, {\n\t\t\t\"Content-Type\": \"multipart/mixed; boundary=\" + boundary\n\t\t});\n\n        if (colections.updated.length) {\n            requestBody += processCollection(colections.updated, boundary, changeset, changeId, transport, \"update\", false);\n            changeId += colections.updated.length;\n            changeset = createBoundary(\"sf_changeset_\");\n        }\n\n        if (colections.destroyed.length) {\n            requestBody += processCollection(colections.destroyed, boundary, changeset, changeId, transport, \"destroy\", true);\n            changeId += colections.destroyed.length;\n            changeset = createBoundary(\"sf_changeset_\");\n        }\n\n        if (colections.created.length) {\n            requestBody += processCollection(colections.created, boundary, changeset, changeId, transport, \"create\", false);\n        }\n\n        requestBody += createDelimeter(boundary, true);\n\n        options.data = requestBody;\n\n        return options;\n    }\n\n    function parseBatchResponse(responseText) {\n        var responseMarkers = responseText.match(/--changesetresponse_[a-z0-9-]+$/gm);\n        var markerIndex = 0;\n        var collections = [];\n        var changeBody;\n        var status;\n        var code;\n        var marker;\n        var jsonModel;\n\n        collections.push({ models: [], passed: true });\n\n        for (var i = 0; i < responseMarkers.length; i++) {\n            marker = responseMarkers[i];\n            if (marker.lastIndexOf('--', marker.length - 1)) {\n                if (i < responseMarkers.length - 1) {\n                    collections.push({ models: [], passed: true });\n                }\n                continue;\n            }\n\n            if (!markerIndex) {\n                markerIndex = responseText.indexOf(marker);\n            } else {\n                markerIndex = responseText.indexOf(marker, markerIndex + marker.length);\n            }\n\n            changeBody = responseText.substring(markerIndex, responseText.indexOf(\"--\", markerIndex + 1));\n            status = changeBody.match(/^HTTP\\/1\\.\\d (\\d{3}) (.*)$/gm).pop();\n            code = kendo.parseFloat(status.match(/\\d{3}/g).pop());\n\n            if (code >= 200 && code <= 299) {\n                jsonModel = changeBody.match(/\\{.*\\}/gm);\n                if (jsonModel) {\n                    collections[collections.length - 1].models.push(JSON.parse(jsonModel[0]));\n                }\n            } else {\n                collections[collections.length - 1].passed = false;\n            }\n\n        }\n\n        return collections;\n    }\n\n    extend(true, kendo.data, {\n        schemas: {\n            odata: {\n                type: \"json\",\n                data: function(data) {\n                    return data.d.results || [data.d];\n                },\n                total: \"d.__count\"\n            }\n        },\n        transports: {\n            odata: {\n                read: {\n                    cache: true, // to prevent jQuery from adding cache buster\n                    dataType: \"jsonp\",\n                    jsonp: \"$callback\"\n                },\n                update: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json\", // to inform the server the the request body is JSON encoded\n                    type: \"PUT\" // can be PUT or MERGE\n                },\n                create: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json\",\n                    type: \"POST\" // must be POST to create new entity\n                },\n                destroy: {\n                    cache: true,\n                    dataType: \"json\",\n                    type: \"DELETE\"\n                },\n                parameterMap: function(options, type, useVersionFour) {\n                    var params,\n                        value,\n                        option,\n                        dataType;\n\n                    options = options || {};\n                    type = type || \"read\";\n                    dataType = (this.options || defaultDataType)[type];\n                    dataType = dataType ? dataType.dataType : \"json\";\n\n                    if (type === \"read\") {\n                        params = {\n                            $inlinecount: \"allpages\"\n                        };\n\n                        if (dataType != \"json\") {\n                            params.$format = \"json\";\n                        }\n\n                        for (option in options) {\n                            if (mappers[option]) {\n                                mappers[option](params, options[option], useVersionFour);\n                            } else {\n                                params[option] = options[option];\n                            }\n                        }\n                    } else {\n                        if (dataType !== \"json\") {\n                            throw new Error(\"Only json dataType can be used for \" + type + \" operation.\");\n                        }\n\n                        if (type !== \"destroy\") {\n                            for (option in options) {\n                                value = options[option];\n                                if (typeof value === \"number\") {\n                                    options[option] = value + \"\";\n                                }\n                            }\n\n                            params = kendo.stringify(options);\n                        }\n                    }\n\n                    return params;\n                }\n            }\n        }\n    });\n\n    extend(true, kendo.data, {\n        schemas: {\n            \"odata-v4\": {\n                type: \"json\",\n                data: function(data) {\n                    if (Array.isArray(data)) {\n                        for (var i = 0; i < data.length; i++) {\n                            stripMetadata(data[i]);\n                        }\n                        return data;\n                    } else {\n                        data = $.extend({}, data);\n                        stripMetadata(data);\n\n                        if (data.value) {\n                            return data.value;\n                        }\n                        return [data];\n                    }\n                },\n                total: function(data) {\n                    return data[\"@odata.count\"];\n                }\n            }\n        },\n        transports: {\n            \"odata-v4\": {\n                batch: {\n                    type: \"POST\"\n                },\n                read: {\n                    cache: true, // to prevent jQuery from adding cache buster\n                    dataType: \"json\"\n                },\n                update: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json;IEEE754Compatible=true\", // to inform the server the the request body is JSON encoded\n                    type: \"PUT\" // can be PUT or MERGE\n                },\n                create: {\n                    cache: true,\n                    dataType: \"json\",\n                    contentType: \"application/json;IEEE754Compatible=true\",\n                    type: \"POST\" // must be POST to create new entity\n                },\n                destroy: {\n                    cache: true,\n                    dataType: \"json\",\n                    type: \"DELETE\"\n                },\n                parameterMap: function(options, type) {\n                    var result = kendo.data.transports.odata.parameterMap(options, type, true);\n                    if (type == \"read\") {\n                        result.$count = true;\n                        delete result.$inlinecount;\n                    }\n\n\t\t\t\t\tif (result && result.$filter) {\n\t\t\t\t\t\t// Remove the single quotation marks around the GUID (OData v4).\n\t\t\t\t\t\tresult.$filter = result.$filter.replace(/('[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}')/ig, function (x) {\n\t\t\t\t\t\t\treturn x.substring(1, x.length - 1);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n                    return result;\n                },\n                submit: function(e) {\n                    var that = this;\n                    var options = createBatchRequest(that, e.data);\n                    var collections = e.data;\n\n                    if (!collections.updated.length && !collections.destroyed.length && !collections.created.length) {\n                        return;\n                    }\n\n                    $.ajax(extend(true, {}, {\n                        success: function (response) {\n                            var responses = parseBatchResponse(response);\n                            var index = 0;\n                            var current;\n\n                            if (collections.updated.length) {\n                                current = responses[index];\n                                if (current.passed) {\n                                    // Pass either the obtained models or an empty array if only status codes are returned.\n                                    e.success(current.models.length ? current.models : [], \"update\");\n                                }\n                                index++;\n                            }\n                            if (collections.destroyed.length) {\n                                current = responses[index];\n                                if (current.passed) {\n                                    // For delete operations OData returns only status codes.\n                                    // Passing empty array to datasource will force it to correctly remove the deleted items from the pristine collection.\n                                    e.success([], \"destroy\");\n                                }\n                                index++;\n                            }\n                            if (collections.created.length) {\n                                current = responses[index];\n                                if (current.passed) {\n                                    e.success(current.models, \"create\");\n                                }\n                            }\n                        },\n                        error: function (response, status, error) {\n                            e.error(response, status, error);\n                        }\n                    }, options));\n                }\n            }\n        }\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.data.xml',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"data.xml\",\n    name: \"XML\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n\n/*jshint  eqnull: true, boss: true */\n(function($, undefined) {\n    var kendo = window.kendo,\n        isArray = Array.isArray,\n        isPlainObject = $.isPlainObject,\n        map = $.map,\n        each = $.each,\n        extend = $.extend,\n        getter = kendo.getter,\n        Class = kendo.Class;\n\n    var XmlDataReader = Class.extend({\n        init: function(options) {\n            var that = this,\n                total = options.total,\n                model = options.model,\n                parse = options.parse,\n                errors = options.errors,\n                serialize = options.serialize,\n                data = options.data;\n\n            if (model) {\n                if (isPlainObject(model)) {\n                    var base = options.modelBase || kendo.data.Model;\n\n                    if (model.fields) {\n                        each(model.fields, function(field, value) {\n                            if (isPlainObject(value) && value.field) {\n                                if (!kendo.isFunction(value.field)) {\n                                    value = extend(value, { field: that.getter(value.field) });\n                                }\n                            } else {\n                                value = { field: that.getter(value) };\n                            }\n                            model.fields[field] = value;\n                        });\n                    }\n\n                    var id = model.id;\n                    if (id) {\n                        var idField = {};\n\n                        idField[that.xpathToMember(id, true)] = { field : that.getter(id) };\n                        model.fields = extend(idField, model.fields);\n                        model.id = that.xpathToMember(id);\n                    }\n                    model = base.define(model);\n                }\n\n                that.model = model;\n            }\n\n            if (total) {\n                if (typeof total == \"string\") {\n                    total = that.getter(total);\n                    that.total = function(data) {\n                        return parseInt(total(data), 10);\n                    };\n                } else if (typeof total == \"function\"){\n                    that.total = total;\n                }\n            }\n\n            if (errors) {\n                if (typeof errors == \"string\") {\n                    errors = that.getter(errors);\n                    that.errors = function(data) {\n                        return errors(data) || null;\n                    };\n                } else if (typeof errors == \"function\"){\n                    that.errors = errors;\n                }\n            }\n\n            if (data) {\n                if (typeof data == \"string\") {\n                    data = that.xpathToMember(data);\n                    that.data = function(value) {\n                        var result = that.evaluate(value, data),\n                            modelInstance;\n\n                        result = isArray(result) ? result : [result];\n\n                        if (that.model && model.fields) {\n                            modelInstance = new that.model();\n\n                            return map(result, function(value) {\n                                if (value) {\n                                    var record = {}, field;\n\n                                    for (field in model.fields) {\n                                        record[field] = modelInstance._parse(field, model.fields[field].field(value));\n                                    }\n\n                                    return record;\n                                }\n                            });\n                        }\n\n                        return result;\n                    };\n                } else if (typeof data == \"function\") {\n                    that.data = data;\n                }\n            }\n\n            if (typeof parse == \"function\") {\n                var xmlParse = that.parse;\n\n                that.parse = function(data) {\n                    var xml = parse.call(that, data);\n                    return xmlParse.call(that, xml);\n                };\n            }\n\n            if (typeof serialize == \"function\") {\n                that.serialize = serialize;\n            }\n        },\n        total: function(result) {\n            return this.data(result).length;\n        },\n        errors: function(data) {\n            return data ? data.errors : null;\n        },\n        serialize: function(data) {\n            return data;\n        },\n        parseDOM: function(element) {\n            var result = {},\n                parsedNode,\n                node,\n                nodeType,\n                nodeName,\n                member,\n                attribute,\n                attributes = element.attributes,\n                attributeCount = attributes.length,\n                idx;\n\n            for (idx = 0; idx < attributeCount; idx++) {\n                attribute = attributes[idx];\n                result[\"@\" + attribute.nodeName] = attribute.nodeValue;\n            }\n\n            for (node = element.firstChild; node; node = node.nextSibling) {\n                nodeType = node.nodeType;\n\n                if (nodeType === 3 || nodeType === 4) {\n                    // text nodes or CDATA are stored as #text field\n                    result[\"#text\"] = node.nodeValue;\n                } else if (nodeType === 1) {\n                    // elements are stored as fields\n                    parsedNode = this.parseDOM(node);\n\n                    nodeName = node.nodeName;\n\n                    member = result[nodeName];\n\n                    if (isArray(member)) {\n                        // elements of same nodeName are stored as array\n                        member.push(parsedNode);\n                    } else if (member !== undefined) {\n                        member = [member, parsedNode];\n                    } else {\n                        member = parsedNode;\n                    }\n\n                    result[nodeName] = member;\n                }\n            }\n            return result;\n        },\n\n        evaluate: function(value, expression) {\n            var members = expression.split(\".\"),\n                member,\n                result,\n                length,\n                intermediateResult,\n                idx;\n\n            while (member = members.shift()) {\n                value = value[member];\n\n                if (isArray(value)) {\n                    result = [];\n                    expression = members.join(\".\");\n\n                    for (idx = 0, length = value.length; idx < length; idx++) {\n                        intermediateResult = this.evaluate(value[idx], expression);\n\n                        intermediateResult = isArray(intermediateResult) ? intermediateResult : [intermediateResult];\n\n                        result.push.apply(result, intermediateResult);\n                    }\n\n                    return result;\n                }\n            }\n\n            return value;\n        },\n\n        parse: function(xml) {\n            var documentElement,\n                tree,\n                result = {};\n\n            documentElement = xml.documentElement || $.parseXML(xml).documentElement;\n\n            tree = this.parseDOM(documentElement);\n\n            result[documentElement.nodeName] = tree;\n\n            return result;\n        },\n\n        xpathToMember: function(member, raw) {\n            if (!member) {\n                return \"\";\n            }\n\n            member = member.replace(/^\\//, \"\") // remove the first \"/\"\n                           .replace(/\\//g, \".\"); // replace all \"/\" with \".\"\n\n            if (member.indexOf(\"@\") >= 0) {\n                // replace @attribute with '[\"@attribute\"]'\n                return member.replace(/\\.?(@.*)/, raw? '$1':'[\"$1\"]');\n            }\n\n            if (member.indexOf(\"text()\") >= 0) {\n                // replace \".text()\" with '[\"#text\"]'\n                return member.replace(/(\\.?text\\(\\))/, raw? '#text':'[\"#text\"]');\n            }\n\n            return member;\n        },\n        getter: function(member) {\n            return getter(this.xpathToMember(member), true);\n        }\n    });\n\n    $.extend(true, kendo.data, {\n        XmlDataReader: XmlDataReader,\n        readers: {\n            xml: XmlDataReader\n        }\n    });\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.data',[ \"./kendo.core\", \"./kendo.data.odata\", \"./kendo.data.xml\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"data\",\n    name: \"Data source\",\n    category: \"framework\",\n    description: \"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.\",\n    depends: [ \"core\" ],\n    features: [ {\n        id: \"data-odata\",\n        name: \"OData\",\n        description: \"Support for accessing Open Data Protocol (OData) services.\",\n        depends: [ \"data.odata\" ]\n    }, {\n        id: \"data-signalr\",\n        name: \"SignalR\",\n        description: \"Support for binding to SignalR hubs.\",\n        depends: [ \"data.signalr\" ]\n    }, {\n        id: \"data-XML\",\n        name: \"XML\",\n        description: \"Support for binding to XML.\",\n        depends: [ \"data.xml\" ]\n    }]\n};\n\n/*jshint eqnull: true, loopfunc: true, evil: true */\n(function($, undefined) {\n    var extend = $.extend,\n        isPlainObject = $.isPlainObject,\n        isEmptyObject = $.isEmptyObject,\n        isArray = Array.isArray,\n        grep = $.grep,\n        ajax = $.ajax,\n        map,\n        each = $.each,\n        noop = $.noop,\n        kendo = window.kendo,\n        isFunction = kendo.isFunction,\n        Observable = kendo.Observable,\n        Class = kendo.Class,\n        STRING = \"string\",\n        FUNCTION = \"function\",\n        ASCENDING = \"asc\",\n        CREATE = \"create\",\n        READ = \"read\",\n        UPDATE = \"update\",\n        DESTROY = \"destroy\",\n        CHANGE = \"change\",\n        SYNC = \"sync\",\n        GET = \"get\",\n        ERROR = \"error\",\n        REQUESTSTART = \"requestStart\",\n        PROGRESS = \"progress\",\n        REQUESTEND = \"requestEnd\",\n        ITEMSLOADED = \"itemsLoaded\",\n        ITEMLOAD = \"itemLoad\",\n        crud = [CREATE, READ, UPDATE, DESTROY],\n        identity = function(o) { return o; },\n        getter = kendo.getter,\n        stringify = kendo.stringify,\n        math = Math,\n        push = [].push,\n        join = [].join,\n        pop = [].pop,\n        splice = [].splice,\n        shift = [].shift,\n        slice = [].slice,\n        unshift = [].unshift,\n        toString = {}.toString,\n        stableSort = kendo.support.stableSort,\n        dateRegExp = /^\\/Date\\((.*?)\\)\\/$/,\n        objectKeys = [];\n\n    var ObservableArray = Observable.extend({\n        init: function(array, type) {\n            var that = this;\n\n            that.type = type || ObservableObject;\n\n            Observable.fn.init.call(that);\n\n            that.length = array.length;\n\n            that.wrapAll(array, that);\n            that._loadPromises = [];\n            that._loadedNodes = [];\n        },\n\n        at: function(index) {\n            return this[index];\n        },\n\n        toJSON: function(serializeFunctions) {\n            var idx, length = this.length, value, json = new Array(length);\n\n            for (idx = 0; idx < length; idx++){\n                value = this[idx];\n\n                if (value instanceof ObservableObject) {\n                    value = value.toJSON(serializeFunctions);\n                }\n\n                json[idx] = value;\n            }\n\n            return json;\n        },\n\n        parent: noop,\n\n        wrapAll: function(source, target) {\n            var that = this,\n                idx,\n                length,\n                parent = function() {\n                    return that;\n                };\n\n            target = target || [];\n\n            for (idx = 0, length = source.length; idx < length; idx++) {\n                target[idx] = that.wrap(source[idx], parent);\n            }\n\n            return target;\n        },\n\n        wrap: function(object, parent) {\n            var that = this,\n                observable;\n\n            if (object !== null && toString.call(object) === \"[object Object]\") {\n                observable = object instanceof that.type || object instanceof Model;\n\n                if (!observable) {\n                    object = object instanceof ObservableObject ? object.toJSON() : object;\n                    object = new that.type(object);\n                }\n\n                object.parent = parent;\n\n                object.bind(CHANGE, function(e) {\n                    var isGroup = object.hasOwnProperty(\"hasSubgroups\");\n                    that.trigger(CHANGE, {\n                        field: e.field,\n                        node: e.node,\n                        index: e.index,\n                        items: e.items || [this],\n                        action: e.node || isGroup ? (e.action || \"itemloaded\") : \"itemchange\"\n                    });\n                });\n\n                object.bind(ITEMLOAD, function (e) {\n                    that._loadPromises.push(e.promise);\n                    that._loading = true;\n\n                    e.promise.done(function(){\n                        that._loadedNodes.push(e.node);\n                        var index = that._loadPromises.indexOf(e.promise);\n                        that._loadPromises.splice(index, 1);\n\n                        if(!that._loadPromises.length){\n                            that._loading = false;\n                            that.trigger(ITEMSLOADED, {collection: that, nodes: that._loadedNodes});\n                            that._loadedNodes = [];\n                        }\n                    });\n                });\n            }\n\n            return object;\n        },\n\n        loading: function () {\n            return this._loading;\n        },\n\n        push: function() {\n            var index = this.length,\n                items = this.wrapAll(arguments),\n                result;\n\n            result = push.apply(this, items);\n\n            if (!this.omitChangeEvent) {\n                this.trigger(CHANGE, {\n                    action: \"add\",\n                    index: index,\n                    items: items\n                });\n            }\n\n            return result;\n        },\n\n        slice: slice,\n\n        sort: [].sort,\n\n        join: join,\n\n        pop: function() {\n            var length = this.length, result = pop.apply(this);\n\n            if (length) {\n                this.trigger(CHANGE, {\n                    action: \"remove\",\n                    index: length - 1,\n                    items:[result]\n                });\n            }\n\n            return result;\n        },\n\n        splice: function(index, howMany, item) {\n            var items = this.wrapAll(slice.call(arguments, 2)),\n                result, i, len;\n\n            result = splice.apply(this, [index, howMany].concat(items));\n\n            if (result.length) {\n                if (!this.omitChangeEvent) {\n                    this.trigger(CHANGE, {\n                        action: \"remove\",\n                        index: index,\n                        items: result\n                    });\n                }\n\n                for (i = 0, len = result.length; i < len; i++) {\n                    if (result[i] && result[i].children) {\n                        result[i].unbind(CHANGE);\n                    }\n                }\n            }\n\n            if (item) {\n                if (!this.omitChangeEvent) {\n                    this.trigger(CHANGE, {\n                        action: \"add\",\n                        index: index,\n                        items: items\n                    });\n                }\n            }\n            return result;\n        },\n\n        shift: function() {\n            var length = this.length, result = shift.apply(this);\n\n            if (length) {\n                this.trigger(CHANGE, {\n                    action: \"remove\",\n                    index: 0,\n                    items:[result]\n                });\n            }\n\n            return result;\n        },\n\n        unshift: function() {\n            var items = this.wrapAll(arguments),\n                result;\n\n            result = unshift.apply(this, items);\n\n            this.trigger(CHANGE, {\n                action: \"add\",\n                index: 0,\n                items: items\n            });\n\n            return result;\n        },\n\n        indexOf: function(item) {\n            var that = this,\n                idx,\n                length;\n\n            for (idx = 0, length = that.length; idx < length; idx++) {\n                if (that[idx] === item) {\n                    return idx;\n                }\n            }\n            return -1;\n        },\n\n        forEach: function(callback, thisArg) {\n            var idx = 0;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                callback.call(context, this[idx], idx, this);\n            }\n        },\n\n        map: function(callback, thisArg) {\n            var idx = 0;\n            var result = [];\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                result[idx] = callback.call(context, this[idx], idx, this);\n            }\n\n            return result;\n        },\n\n        reduce: function(callback) {\n            var idx = 0,\n                result,\n                length = this.length;\n\n            if (arguments.length == 2) {\n                result = arguments[1];\n            } else if (idx < length) {\n                result = this[idx++];\n            }\n\n            for (; idx < length; idx++) {\n                result = callback(result, this[idx], idx, this);\n            }\n\n            return result;\n        },\n\n        reduceRight: function(callback) {\n            var idx = this.length - 1,\n                result;\n\n            if (arguments.length == 2) {\n                result = arguments[1];\n            } else if (idx > 0) {\n                result = this[idx--];\n            }\n\n            for (; idx >= 0; idx--) {\n                result = callback(result, this[idx], idx, this);\n            }\n\n            return result;\n        },\n\n        filter: function(callback, thisArg) {\n            var idx = 0;\n            var result = [];\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (callback.call(context, item, idx, this)) {\n                    result[result.length] = item;\n                }\n            }\n\n            return result;\n        },\n\n        find: function(callback, thisArg) {\n            var idx = 0;\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (callback.call(context, item, idx, this)) {\n                    return item;\n                }\n            }\n        },\n\n        every: function(callback, thisArg) {\n            var idx = 0;\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (!callback.call(context, item, idx, this)) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        some: function(callback, thisArg) {\n            var idx = 0;\n            var item;\n            var length = this.length;\n            var context = thisArg || window;\n\n            for (; idx < length; idx++) {\n                item = this[idx];\n                if (callback.call(context, item, idx, this)) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        // non-standard collection methods\n        remove: function(item) {\n            var idx = this.indexOf(item);\n\n            if (idx !== -1) {\n                this.splice(idx, 1);\n            }\n        },\n\n        empty: function() {\n            this.splice(0, this.length);\n        }\n    });\n\n    // Polyfill for Symbol.iterator\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator && !ObservableArray.prototype[Symbol.iterator]) {\n        ObservableArray.prototype[Symbol.iterator] = [][Symbol.iterator];\n    }\n\n    var LazyObservableArray = ObservableArray.extend({\n        init: function (data, type, events) {\n            var parentFn = function() { return this; };\n\n            Observable.fn.init.call(this);\n\n            this.type = type || ObservableObject;\n\n            if (events) {\n                this._events = events;\n            }\n\n            for (var idx = 0; idx < data.length; idx++) {\n                this[idx] = data[idx];\n            }\n\n            this.length = idx;\n            this._parent = parentFn.bind(this);\n        },\n        at: function(index) {\n            var item = this[index];\n\n            if (!(item instanceof this.type)) {\n                item = this[index] = this.wrap(item, this._parent);\n            } else {\n                item.parent = this._parent;\n            }\n\n            return item;\n        }\n    });\n\n    function eventHandler(context, type, field, prefix) {\n        return function(e) {\n            var event = {}, key;\n\n            for (key in e) {\n                event[key] = e[key];\n            }\n\n            if (prefix) {\n                event.field = field + \".\" + e.field;\n            } else {\n                event.field = field;\n            }\n\n            if (type == CHANGE && context._notifyChange) {\n                context._notifyChange(event);\n            }\n\n            context.trigger(type, event);\n        };\n    }\n\n    function ownKeys (value, ignoreObjectKeys) {\n        var props = [];\n        var keys, filteredObjectKeys;\n\n        value = value || {};\n\n        keys = Object.getOwnPropertyNames(value);\n        filteredObjectKeys = objectKeys.filter(function(key){\n            return keys.indexOf(key) < 0;\n        });\n\n        while (value) {\n            Object.getOwnPropertyNames(value).forEach(function (prop) {\n                if (props.indexOf(prop) === -1 && (!ignoreObjectKeys || filteredObjectKeys.indexOf(prop) < 0)) {\n                    props.push(prop);\n                }\n            });\n            value = Object.getPrototypeOf(value);\n        }\n\n        return props;\n    }\n\n    objectKeys = ownKeys({}, false);\n\n    var ObservableObject = Observable.extend({\n        init: function(value) {\n            var that = this,\n                member,\n                keys = ownKeys(value, true),\n                parent = function() {\n                    return that;\n                };\n\n            Observable.fn.init.call(this);\n\n            this._handlers = {};\n\n            keys.forEach(function(field){\n                member = value[field];\n\n                if (typeof member === \"object\" && member && !member.getTime && field.charAt(0) != \"_\") {\n                    member = that.wrap(member, field, parent);\n                }\n\n                that[field] = member;\n            });\n\n            that.uid = kendo.guid();\n        },\n\n        shouldSerialize: function(field, serializeFunctions) {\n            return this.hasOwnProperty(field) && field !== \"_handlers\" && field !== \"_events\" && ((serializeFunctions && serializeFunctions[field]) || typeof this[field] !== FUNCTION) && field !== \"uid\";\n        },\n\n        forEach: function(f) {\n            for (var i in this) {\n                if (this.shouldSerialize(i)) {\n                    f(this[i], i);\n                }\n            }\n        },\n\n        toJSON: function (serializeFunctions) {\n            var result = {}, value, field;\n\n            for (field in this) {\n                if (this.shouldSerialize(field, serializeFunctions)) {\n                    value = this[field];\n\n                    if (value instanceof ObservableObject || value instanceof ObservableArray) {\n                        value = value.toJSON(serializeFunctions);\n                    }\n\n                    result[field] = value;\n                }\n            }\n\n            return result;\n        },\n\n        get: function(field) {\n            var that = this, result;\n\n            that.trigger(GET, { field: field });\n\n            if (field === \"this\") {\n                result = that;\n            } else {\n                result = kendo.getter(field, true)(that);\n            }\n\n            return result;\n        },\n\n        _set: function(field, value) {\n            var that = this;\n            var composite = field.indexOf(\".\") >= 0;\n\n            if (composite) {\n                var paths = field.split(\".\"),\n                    path = \"\";\n\n                while (paths.length > 1) {\n                    path += paths.shift();\n                    var obj = kendo.getter(path, true)(that);\n                    if (obj instanceof ObservableObject) {\n                        obj.set(paths.join(\".\"), value);\n                        return composite;\n                    }\n                    path += \".\";\n                }\n            }\n\n            kendo.setter(field)(that, value);\n\n            return composite;\n        },\n\n        set: function(field, value) {\n            var that = this,\n                isSetPrevented = false,\n                composite = field.indexOf(\".\") >= 0,\n                current = kendo.getter(field, true)(that);\n\n            if (current !== value) {\n                if (current instanceof Observable && this._handlers[field]) {\n                    if (this._handlers[field].get) {\n                       current.unbind(GET, this._handlers[field].get);\n                    }\n                    current.unbind(CHANGE, this._handlers[field].change);\n                }\n\n                isSetPrevented = that.trigger(\"set\", { field: field, value: value });\n\n                if (!isSetPrevented) {\n                    if (!composite) {\n                        value = that.wrap(value, field, function() { return that; });\n                    }\n                    if (!that._set(field, value) || field.indexOf(\"(\") >= 0 || field.indexOf(\"[\") >= 0) {\n                        that.trigger(CHANGE, { field: field });\n                    }\n                }\n            }\n\n            return isSetPrevented;\n        },\n\n        parent: noop,\n\n        wrap: function(object, field, parent) {\n            var that = this;\n            var get;\n            var change;\n            var type = toString.call(object);\n\n            if (object != null && (type === \"[object Object]\" || type === \"[object Array]\")) {\n                var isObservableArray = object instanceof ObservableArray;\n                var isDataSource = object instanceof DataSource;\n\n                if (type === \"[object Object]\" && !isDataSource && !isObservableArray) {\n                    if (!(object instanceof ObservableObject)) {\n                        object = new ObservableObject(object);\n                    }\n\n                    get = eventHandler(that, GET, field, true);\n                    object.bind(GET, get);\n                    change = eventHandler(that, CHANGE, field, true);\n                    object.bind(CHANGE, change);\n\n                    that._handlers[field] = { get: get, change: change };\n                } else if (type === \"[object Array]\" || isObservableArray || isDataSource) {\n                    if (!isObservableArray && !isDataSource) {\n                        object = new ObservableArray(object);\n                    }\n\n                    change = eventHandler(that, CHANGE, field, false);\n\n                    object.bind(CHANGE, change);\n\n                    that._handlers[field] = { change: change };\n                }\n\n                object.parent = parent;\n            }\n\n            return object;\n        }\n    });\n\n    function equal(x, y) {\n        if (x === y) {\n            return true;\n        }\n\n        var xtype = kendo.type(x), ytype = kendo.type(y), field;\n\n        if (xtype !== ytype) {\n            return false;\n        }\n\n        if (xtype === \"date\") {\n            return x.getTime() === y.getTime();\n        }\n\n        if (xtype !== \"object\" && xtype !== \"array\") {\n            return false;\n        }\n\n        for (field in x) {\n            if (!equal(x[field], y[field])) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    var parsers = {\n        \"number\": function(value) {\n            if (typeof value === STRING && value.toLowerCase() === \"null\") {\n                return null;\n            }\n            return kendo.parseFloat(value);\n        },\n\n        \"date\": function(value) {\n            if (typeof value === STRING && value.toLowerCase() === \"null\") {\n                return null;\n            }\n            return kendo.parseDate(value);\n        },\n\n        \"boolean\": function(value) {\n            if (typeof value === STRING) {\n                if (value.toLowerCase() === \"null\") {\n                    return null;\n                } else {\n                    return value.toLowerCase() === \"true\";\n                }\n            }\n            return value != null ? !!value : value;\n        },\n\n        \"string\": function(value) {\n            if (typeof value === STRING && value.toLowerCase() === \"null\") {\n                return null;\n            }\n            return value != null ? (value + \"\") : value;\n        },\n\n        \"default\": function(value) {\n            return value;\n        }\n    };\n\n    var defaultValues = {\n        \"string\": \"\",\n        \"number\": 0,\n        \"date\": new Date(),\n        \"boolean\": false,\n        \"default\": \"\"\n    };\n\n    function getFieldByName(obj, name) {\n        var field,\n            fieldName;\n\n        for (fieldName in obj) {\n            field = obj[fieldName];\n            if (isPlainObject(field) && field.field && field.field === name) {\n                return field;\n            } else if (field === name) {\n                return field;\n            }\n        }\n        return null;\n    }\n\n    var Model = ObservableObject.extend({\n        init: function(data) {\n            var that = this;\n\n            if (!data || $.isEmptyObject(data)) {\n                data = $.extend({}, that.defaults, data);\n\n                if (that._initializers) {\n                    for (var idx = 0; idx < that._initializers.length; idx++) {\n                         var name = that._initializers[idx];\n                         data[name] = that.defaults[name]();\n                    }\n                }\n            }\n\n            ObservableObject.fn.init.call(that, data);\n\n            that.dirty = false;\n            that.dirtyFields = {};\n\n            if (that.idField) {\n                that.id = that.get(that.idField);\n\n                if (that.id === undefined) {\n                    that.id = that._defaultId;\n                }\n            }\n        },\n\n        shouldSerialize: function(field) {\n            return ObservableObject.fn.shouldSerialize.call(this, field) &&\n                field !== \"uid\" && !(this.idField !== \"id\" && field === \"id\") &&\n                field !== \"dirty\" &&  field !== \"dirtyFields\" && field !== \"_accessors\";\n        },\n\n        _parse: function(field, value) {\n            var that = this,\n                fieldName = field,\n                fields = (that.fields || {}),\n                parse;\n\n            field = fields[field];\n            if (!field) {\n                field = getFieldByName(fields, fieldName);\n            }\n            if (field) {\n                parse = field.parse;\n                if (!parse && field.type) {\n                    parse = parsers[field.type.toLowerCase()];\n                }\n            }\n\n            return parse ? parse(value) : value;\n        },\n\n        _notifyChange: function(e) {\n            var action = e.action;\n\n            if (action == \"add\" || action == \"remove\") {\n                this.dirty = true;\n                this.dirtyFields[e.field] = true;\n            }\n        },\n\n        editable: function(field) {\n            field = (this.fields || {})[field];\n            return field ? field.editable !== false : true;\n        },\n\n        set: function(field, value) {\n            var that = this;\n            var dirty = that.dirty;\n\n            if (that.editable(field)) {\n                value = that._parse(field, value);\n\n                if (!equal(value, that.get(field))) {\n                    that.dirty = true;\n                    that.dirtyFields[field] = true;\n\n                    if (ObservableObject.fn.set.call(that, field, value) && !dirty) {\n                        that.dirty = dirty;\n\n                        if (!that.dirty) {\n                            that.dirtyFields[field] = false;\n                        }\n                    }\n                } else {\n                    that.trigger(\"equalSet\", { field: field, value: value });\n                }\n            }\n        },\n\n        accept: function(data) {\n            var that = this,\n                parent = function() { return that; },\n                field;\n\n            for (field in data) {\n                var value = data[field];\n\n                if (field.charAt(0) != \"_\") {\n                    value = that.wrap(data[field], field, parent);\n                }\n\n                that._set(field, value);\n            }\n\n            if (that.idField) {\n                that.id = that.get(that.idField);\n            }\n\n            that.dirty = false;\n            that.dirtyFields = {};\n        },\n\n        isNew: function() {\n            return this.id === this._defaultId;\n        }\n    });\n\n    Model.define = function(base, options) {\n        if (options === undefined) {\n            options = base;\n            base = Model;\n        }\n\n        var model,\n            proto = extend({ defaults: {} }, options),\n            name,\n            field,\n            type,\n            value,\n            idx,\n            length,\n            fields = {},\n            originalName,\n            id = proto.id,\n            functionFields = [];\n\n        if (id) {\n            proto.idField = id;\n        }\n\n        if (proto.id) {\n            delete proto.id;\n        }\n\n        if (id) {\n            proto.defaults[id] = proto._defaultId = \"\";\n        }\n\n        if (toString.call(proto.fields) === \"[object Array]\") {\n            for (idx = 0, length = proto.fields.length; idx < length; idx++) {\n                field = proto.fields[idx];\n                if (typeof field === STRING) {\n                    fields[field] = {};\n                } else if (field.field) {\n                    fields[field.field] = field;\n                }\n            }\n            proto.fields = fields;\n        }\n\n        for (name in proto.fields) {\n            field = proto.fields[name];\n            type = field.type || \"default\";\n            value = null;\n            originalName = name;\n\n            name = typeof (field.field) === STRING ? field.field : name;\n\n            if (!field.nullable) {\n                value = proto.defaults[originalName !== name ? originalName : name] = field.defaultValue !== undefined ? field.defaultValue : defaultValues[type.toLowerCase()];\n\n                if (typeof value === \"function\") {\n                    functionFields.push(name);\n                }\n            }\n\n            if (options.id === name) {\n                proto._defaultId = value;\n            }\n\n            proto.defaults[originalName !== name ? originalName : name] = value;\n\n            field.parse = field.parse || parsers[type];\n        }\n\n        if (functionFields.length > 0) {\n            proto._initializers = functionFields;\n        }\n\n        model = base.extend(proto);\n        model.define = function(options) {\n            return Model.define(model, options);\n        };\n\n        if (proto.fields) {\n            model.fields = proto.fields;\n            model.idField = proto.idField;\n        }\n\n        return model;\n    };\n\n    var Comparer = {\n        selector: function(field) {\n            return isFunction(field) ? field : getter(field);\n        },\n\n        compare: function(field) {\n            var selector = this.selector(field);\n            return function (a, b) {\n                a = selector(a);\n                b = selector(b);\n\n                if (a == null && b == null) {\n                    return 0;\n                }\n\n                if (a == null) {\n                    return -1;\n                }\n\n                if (b == null) {\n                    return 1;\n                }\n\n                if (a.localeCompare) {\n                    return a.localeCompare(b);\n                }\n\n                return a > b ? 1 : (a < b ? -1 : 0);\n            };\n        },\n\n        create: function(sort) {\n            var compare = sort.compare || this.compare(sort.field);\n\n            if (sort.dir == \"desc\") {\n                return function(a, b) {\n                    return compare(b, a, true);\n                };\n            }\n\n            return compare;\n        },\n\n        combine: function(comparers) {\n            return function(a, b) {\n                var result = comparers[0](a, b),\n                    idx,\n                    length;\n\n                for (idx = 1, length = comparers.length; idx < length; idx ++) {\n                    result = result || comparers[idx](a, b);\n                }\n\n                return result;\n            };\n        }\n    };\n\n    var StableComparer = extend({}, Comparer, {\n        asc: function(field) {\n            var selector = this.selector(field);\n            return function (a, b) {\n                var valueA = selector(a);\n                var valueB = selector(b);\n\n                if (valueA && valueA.getTime && valueB && valueB.getTime) {\n                    valueA = valueA.getTime();\n                    valueB = valueB.getTime();\n                }\n\n                if (valueA === valueB) {\n                    return a.__position - b.__position;\n                }\n\n                if (valueA == null) {\n                    return -1;\n                }\n\n                if (valueB == null) {\n                    return 1;\n                }\n\n                if (valueA.localeCompare) {\n                    return valueA.localeCompare(valueB);\n                }\n\n                return valueA > valueB ? 1 : -1;\n            };\n        },\n\n        desc: function(field) {\n            var selector = this.selector(field);\n            return function (a, b) {\n                var valueA = selector(a);\n                var valueB = selector(b);\n\n                if (valueA && valueA.getTime && valueB && valueB.getTime) {\n                    valueA = valueA.getTime();\n                    valueB = valueB.getTime();\n                }\n\n                if (valueA === valueB) {\n                    return a.__position - b.__position;\n                }\n\n                if (valueA == null) {\n                    return 1;\n                }\n\n                if (valueB == null) {\n                    return -1;\n                }\n\n                if (valueB.localeCompare) {\n                    return valueB.localeCompare(valueA);\n                }\n\n                return valueA < valueB ? 1 : -1;\n            };\n        },\n        create: function(sort) {\n           return this[sort.dir](sort.field);\n        }\n    });\n\n    map = function (array, callback) {\n        var idx, length = array.length, result = new Array(length);\n\n        for (idx = 0; idx < length; idx++) {\n            result[idx] = callback(array[idx], idx, array);\n        }\n\n        return result;\n    };\n\n    var operators = (function(){\n\n        function quote(str) {\n            if (typeof str == \"string\") {\n                str = str.replace(/[\\r\\n]+/g, \"\");\n            }\n            return JSON.stringify(str);\n        }\n\n        function textOp(impl) {\n            return function(a, b, ignore, accentFoldingFiltering) {\n                b += \"\";\n                if (ignore) {\n                    a = \"(\" + a + \" + '').toString()\" + ((accentFoldingFiltering) ? \".toLocaleLowerCase('\" + accentFoldingFiltering  +\"')\" : \".toLowerCase()\");\n                    b = ((accentFoldingFiltering) ? b.toLocaleLowerCase(accentFoldingFiltering) : b.toLowerCase());\n                }\n                return impl(a, quote(b), ignore);\n            };\n        }\n\n        function operator(op, a, b, ignore, accentFoldingFiltering) {\n            if (b != null) {\n                if (typeof b === STRING) {\n                    var date = dateRegExp.exec(b);\n                    if (date) {\n                        b = new Date(+date[1]);\n                    } else if (ignore) {\n                        b = quote(((accentFoldingFiltering) ? b.toLocaleLowerCase(accentFoldingFiltering) : b.toLowerCase()));\n                        a = \"((\" + a + \" || '')+'')\" + ((accentFoldingFiltering) ? \".toLocaleLowerCase('\" + accentFoldingFiltering  +\"')\" : \".toLowerCase()\");\n                    } else {\n                        b = quote(b);\n                    }\n                }\n\n                if (b.getTime) {\n                    //b looks like a Date\n                    a = \"(\" + a + \"&&\" + a + \".getTime?\" + a + \".getTime():\" + a + \")\";\n                    b = b.getTime();\n                }\n            }\n\n            return a + \" \" + op + \" \" + b;\n        }\n\n        function getMatchRegexp(pattern) {\n            // take a pattern, as supported by Excel match filter, and\n            // convert it to the equivalent JS regular expression.\n            // Excel patterns support:\n            //\n            //   * - match any sequence of characters\n            //   ? - match a single character\n            //\n            // to match a literal * or ?, they must be prefixed by a tilde (~)\n            for (var rx = \"/^\", esc = false, i = 0; i < pattern.length; ++i) {\n                var ch = pattern.charAt(i);\n                if (esc) {\n                    rx += \"\\\\\" + ch;\n                } else if (ch == \"~\") {\n                    esc = true;\n                    continue;\n                } else if (ch == \"*\") {\n                    rx += \".*\";\n                } else if (ch == \"?\") {\n                    rx += \".\";\n                } else if (\".+^$()[]{}|\\\\/\\n\\r\\u2028\\u2029\\xA0\".indexOf(ch) >= 0) {\n                    rx += \"\\\\\" + ch;\n                } else {\n                    rx += ch;\n                }\n                esc = false;\n            }\n            return rx + \"$/\";\n        }\n\n        return {\n            quote: function(value) {\n                if (value && value.getTime) {\n                    return \"new Date(\" + value.getTime() + \")\";\n                }\n                return quote(value);\n            },\n            eq: function(a, b, ignore, accentFoldingFiltering) {\n                return operator(\"==\", a, b, ignore, accentFoldingFiltering);\n            },\n            neq: function(a, b, ignore, accentFoldingFiltering) {\n                return operator(\"!=\", a, b, ignore, accentFoldingFiltering);\n            },\n            gt: function(a, b, ignore) {\n                return operator(\">\", a, b, ignore);\n            },\n            gte: function(a, b, ignore) {\n                return operator(\">=\", a, b, ignore);\n            },\n            lt: function(a, b, ignore) {\n                return operator(\"<\", a, b, ignore);\n            },\n            lte: function(a, b, ignore) {\n                return operator(\"<=\", a, b, ignore);\n            },\n            startswith: textOp(function(a, b) {\n                return a + \".lastIndexOf(\" + b + \", 0) == 0\";\n            }),\n            doesnotstartwith: textOp(function(a, b) {\n                return a + \".lastIndexOf(\" + b + \", 0) == -1\";\n            }),\n            endswith: textOp(function(a, b) {\n                var n = b ? b.length - 2 : 0;\n                return a + \".indexOf(\" + b + \", \" + a + \".length - \" + n + \") >= 0\";\n            }),\n            doesnotendwith: textOp(function(a, b) {\n                var n = b ? b.length - 2 : 0;\n                return a + \".indexOf(\" + b + \", \" + a + \".length - \" + n + \") < 0\";\n            }),\n            contains: textOp(function(a, b) {\n                return a + \".indexOf(\" + b + \") >= 0\";\n            }),\n            doesnotcontain: textOp(function(a, b) {\n                return a + \".indexOf(\" + b + \") == -1\";\n            }),\n            matches: textOp(function(a, b){\n                b = b.substring(1, b.length - 1);\n                return getMatchRegexp(b) + \".test(\" + a + \")\";\n            }),\n            doesnotmatch: textOp(function(a, b){\n                b = b.substring(1, b.length - 1);\n                return \"!\" + getMatchRegexp(b) + \".test(\" + a + \")\";\n            }),\n            isempty: function(a) {\n                return a + \" === ''\";\n            },\n            isnotempty: function(a) {\n                return a + \" !== ''\";\n            },\n            isnull: function(a) {\n                return \"(\" + a + \" == null)\";\n            },\n            isnotnull: function(a) {\n                return \"(\" + a + \" != null)\";\n            },\n            isnullorempty: function(a) {\n                return \"(\" + a + \" === null) || (\" + a + \" === '')\";\n            },\n            isnotnullorempty: function(a) {\n                return \"(\" + a + \" !== null) && (\" + a + \" !== '')\";\n            }\n        };\n    })();\n\n    function Query(data) {\n        this.data = data || [];\n    }\n\n    Query.filterExpr = function(expression) {\n        var expressions = [],\n            logic = { and: \" && \", or: \" || \" },\n            idx,\n            length,\n            filter,\n            expr,\n            fieldFunctions = [],\n            operatorFunctions = [],\n            field,\n            operator,\n            filters = expression.filters;\n\n        for (idx = 0, length = filters.length; idx < length; idx++) {\n            filter = filters[idx];\n            field = filter.field;\n            operator = filter.operator;\n\n            if (filter.filters) {\n                expr = Query.filterExpr(filter);\n                //Nested function fields or operators - update their index e.g. __o[0] -> __o[1]\n                filter = expr.expression\n                .replace(/__o\\[(\\d+)\\]/g, function(match, index) {\n                    index = +index;\n                    return \"__o[\" + (operatorFunctions.length + index) + \"]\";\n                })\n                .replace(/__f\\[(\\d+)\\]/g, function(match, index) {\n                    index = +index;\n                    return \"__f[\" + (fieldFunctions.length + index) + \"]\";\n                });\n\n                operatorFunctions.push.apply(operatorFunctions, expr.operators);\n                fieldFunctions.push.apply(fieldFunctions, expr.fields);\n            } else {\n                if (typeof field === FUNCTION) {\n                    expr = \"__f[\" + fieldFunctions.length +\"](d)\";\n                    fieldFunctions.push(field);\n                } else {\n                    expr = kendo.expr(field);\n                }\n\n                if (typeof operator === FUNCTION) {\n                    filter = \"__o[\" + operatorFunctions.length + \"](\" + expr + \", \" + operators.quote(filter.value) + \")\";\n                    operatorFunctions.push(operator);\n                } else {\n                    filter = operators[(operator || \"eq\").toLowerCase()](expr, filter.value, filter.ignoreCase !== undefined? filter.ignoreCase : true, expression.accentFoldingFiltering);\n                }\n            }\n\n            expressions.push(filter);\n        }\n\n        return  { expression: \"(\" + expressions.join(logic[expression.logic]) + \")\", fields: fieldFunctions, operators: operatorFunctions };\n    };\n\n    function normalizeSort(field, dir) {\n        if (field) {\n            var descriptor = typeof field === STRING ? { field: field, dir: dir } : field,\n            descriptors = isArray(descriptor) ? descriptor : (descriptor !== undefined ? [descriptor] : []);\n\n            return grep(descriptors, function(d) { return !!d.dir; });\n        }\n    }\n\n    function sortFields(sorts, dir) {\n        var sortObject = {};\n\n        if (sorts) {\n            var descriptor = typeof sorts === STRING ? { field: sorts, dir: dir } : sorts,\n            descriptors = isArray(descriptor) ? descriptor : (descriptor !== undefined ? [descriptor] : []);\n\n            for (var i = 0; i < descriptors.length; i++) {\n                sortObject[descriptors[i].field] = { dir: descriptors[i].dir, index: i + 1 };\n            }\n        }\n\n        return sortObject;\n    }\n\n    var operatorMap = {\n        \"==\": \"eq\",\n        equals: \"eq\",\n        isequalto: \"eq\",\n        equalto: \"eq\",\n        equal: \"eq\",\n        \"!=\": \"neq\",\n        ne: \"neq\",\n        notequals: \"neq\",\n        isnotequalto: \"neq\",\n        notequalto: \"neq\",\n        notequal: \"neq\",\n        \"<\": \"lt\",\n        islessthan: \"lt\",\n        lessthan: \"lt\",\n        less: \"lt\",\n        \"<=\": \"lte\",\n        le: \"lte\",\n        islessthanorequalto: \"lte\",\n        lessthanequal: \"lte\",\n        \">\": \"gt\",\n        isgreaterthan: \"gt\",\n        greaterthan: \"gt\",\n        greater: \"gt\",\n        \">=\": \"gte\",\n        isgreaterthanorequalto: \"gte\",\n        greaterthanequal: \"gte\",\n        ge: \"gte\",\n        notsubstringof: \"doesnotcontain\",\n        isnull: \"isnull\",\n        isempty: \"isempty\",\n        isnotempty: \"isnotempty\"\n    };\n\n    function normalizeOperator(expression) {\n        var idx,\n        length,\n        filter,\n        operator,\n        filters = expression.filters;\n\n        if (filters) {\n            for (idx = 0, length = filters.length; idx < length; idx++) {\n                filter = filters[idx];\n                operator = filter.operator;\n\n                if (operator && typeof operator === STRING) {\n                    filter.operator = operatorMap[operator.toLowerCase()] || operator;\n                }\n\n                normalizeOperator(filter);\n            }\n        }\n    }\n\n    function normalizeFilter(expression) {\n        if (expression && !isEmptyObject(expression)) {\n            if (isArray(expression) || !expression.filters) {\n                expression = {\n                    logic: \"and\",\n                    filters: isArray(expression) ? expression : [expression]\n                };\n            }\n\n            normalizeOperator(expression);\n\n            return expression;\n        }\n    }\n\n    Query.normalizeFilter = normalizeFilter;\n\n    function compareDescriptor(f1, f2) {\n        if (f1.logic || f2.logic) {\n            return false;\n        }\n\n        return f1.field === f2.field && f1.value === f2.value && f1.operator === f2.operator;\n    }\n\n    function normalizeDescriptor(filter) {\n        filter = filter || {};\n\n        if (isEmptyObject(filter)) {\n            return { logic: \"and\", filters: [] };\n        }\n\n        return normalizeFilter(filter);\n    }\n\n    function fieldComparer(a, b) {\n        if (b.logic || (a.field > b.field)) {\n            return 1;\n        } else if (a.field < b.field) {\n            return -1;\n        } else {\n            return 0;\n        }\n    }\n\n    function compareFilters(expr1, expr2) {\n        expr1 = normalizeDescriptor(expr1);\n        expr2 = normalizeDescriptor(expr2);\n\n        if (expr1.logic !== expr2.logic) {\n            return false;\n        }\n\n        var f1, f2;\n        var filters1 = (expr1.filters || []).slice();\n        var filters2 = (expr2.filters || []).slice();\n\n        if (filters1.length !== filters2.length) {\n            return false;\n        }\n\n        filters1 = filters1.sort(fieldComparer);\n        filters2 = filters2.sort(fieldComparer);\n\n        for (var idx = 0; idx < filters1.length; idx++) {\n            f1 = filters1[idx];\n            f2 = filters2[idx];\n\n            if (f1.logic && f2.logic) {\n                if (!compareFilters(f1, f2)) {\n                    return false;\n                }\n            } else if (!compareDescriptor(f1, f2)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    Query.compareFilters = compareFilters;\n\n    function normalizeAggregate(expressions) {\n        return isArray(expressions) ? expressions : [expressions];\n    }\n\n    function normalizeGroup(field, dir, compare, skipItemSorting) {\n        var descriptor = typeof field === STRING ? { field: field, dir: dir, compare: compare, skipItemSorting : skipItemSorting } : field,\n        descriptors = isArray(descriptor) ? descriptor : (descriptor !== undefined ? [descriptor] : []);\n\n        return map(descriptors, function(d) {\n            return {\n                field: d.field,\n                dir: d.dir || \"asc\",\n                aggregates: d.aggregates,\n                compare: d.compare,\n                skipItemSorting: d.skipItemSorting\n            };\n        });\n    }\n\n    function normalizeGroupWithoutCompare(field, dir, compare) {\n        var descriptors = normalizeGroup(field, dir, compare);\n\n        for (var i = 0; i < descriptors.length; i++) {\n            delete descriptors[i].compare;\n        }\n\n        return descriptors;\n    }\n\n    function anyGroupDescriptorHasCompare(groupDescriptors) {\n        var descriptors = isArray(groupDescriptors) ? groupDescriptors : [groupDescriptors];\n\n        for (var i = 0; i < descriptors.length; i++) {\n            if (descriptors[i] && isFunction(descriptors[i].compare)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    Query.prototype = {\n        toArray: function () {\n            return this.data;\n        },\n        range: function(index, count) {\n            return new Query(this.data.slice(index, index + count));\n        },\n        skip: function (count) {\n            return new Query(this.data.slice(count));\n        },\n        take: function (count) {\n            return new Query(this.data.slice(0, count));\n        },\n        select: function (selector) {\n            return new Query(map(this.data, selector));\n        },\n        order: function(selector, dir, inPlace) {\n            var sort = { dir: dir };\n\n            if (selector) {\n                if (selector.compare) {\n                    sort.compare = selector.compare;\n                } else {\n                    sort.field = selector;\n                }\n            }\n\n            if (inPlace) {\n                return new Query(this.data.sort(Comparer.create(sort)));\n            }\n\n            return new Query(this.data.slice(0).sort(Comparer.create(sort)));\n        },\n        orderBy: function(selector, inPlace) {\n            return this.order(selector, \"asc\", inPlace);\n        },\n        orderByDescending: function(selector, inPlace) {\n            return this.order(selector, \"desc\", inPlace);\n        },\n        sort: function(field, dir, comparer, inPlace) {\n            var idx,\n            length,\n            descriptors = normalizeSort(field, dir),\n            comparers = [];\n\n            comparer = comparer || Comparer;\n\n            if (descriptors.length) {\n                for (idx = 0, length = descriptors.length; idx < length; idx++) {\n                    comparers.push(comparer.create(descriptors[idx]));\n                }\n\n                return this.orderBy({ compare: comparer.combine(comparers) }, inPlace);\n            }\n\n            return this;\n        },\n\n        filter: function(expressions) {\n            var idx,\n            current,\n            length,\n            compiled,\n            predicate,\n            data = this.data,\n            fields,\n            operators,\n            result = [],\n            filter;\n\n            expressions = normalizeFilter(expressions);\n\n            if (!expressions || expressions.filters.length === 0) {\n                return this;\n            }\n\n            compiled = Query.filterExpr(expressions);\n            fields = compiled.fields;\n            operators = compiled.operators;\n\n            predicate = filter = new Function(\"d, __f, __o\", \"return \" + compiled.expression);\n\n            if (fields.length || operators.length) {\n                filter = function(d) {\n                    return predicate(d, fields, operators);\n                };\n            }\n\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                current = data[idx];\n\n                if (filter(current)) {\n                    result.push(current);\n                }\n            }\n\n            return new Query(result);\n        },\n\n        group: function(descriptors, allData, options) {\n            descriptors =  normalizeGroup(descriptors || []);\n            allData = allData || this.data;\n\n            var that = this,\n            result = new Query(that.data),\n            descriptor;\n\n            if (descriptors.length > 0) {\n                descriptor = descriptors[0];\n\n                if (options && options.groupPaging) {\n                    result = new Query(allData).groupAllData(descriptor, allData).select(function (group) {\n                        var data = new Query(allData).filter([{\n                            field: group.field,\n                            operator: \"eq\",\n                            value: group.value,\n                            ignoreCase: false\n                        }]);\n                        var items = descriptors.length > 1 ? new Query(group.items).group(descriptors.slice(1), data.toArray(), options).toArray() : group.items;\n                        return {\n                            field: group.field,\n                            value: group.value,\n                            hasSubgroups: descriptors.length > 1,\n                            items: items,\n                            aggregates: data.aggregate(descriptor.aggregates),\n                            uid: kendo.guid(),\n                            itemCount: items.length,\n                            subgroupCount: items.length\n                        };\n                    });\n\n                } else {\n                    result = result.groupBy(descriptor).select(function(group) {\n                        var data = new Query(allData).filter([ { field: group.field, operator: \"eq\", value: group.value, ignoreCase: false } ]);\n                        return {\n                            field: group.field,\n                            value: group.value,\n                            items: descriptors.length > 1 ? new Query(group.items).group(descriptors.slice(1), data.toArray()).toArray() : group.items,\n                            hasSubgroups: descriptors.length > 1,\n                            aggregates: data.aggregate(descriptor.aggregates)\n                        };\n                    });\n                }\n            }\n            return result;\n        },\n\n        groupBy: function(descriptor) {\n            var that = this;\n\n            if (isEmptyObject(descriptor) || !this.data.length) {\n                return new Query([]);\n            }\n\n            var field = descriptor.field,\n                sorted = descriptor.skipItemSorting ? this.data : this._sortForGrouping(field, descriptor.dir || \"asc\"),\n                accessor = kendo.accessor(field),\n                item,\n                groupValue = accessor.get(sorted[0], field),\n                group = {\n                    field: field,\n                    value: groupValue,\n                    items: []\n                },\n                currentValue,\n                idx,\n                len,\n                result = [group];\n\n            for(idx = 0, len = sorted.length; idx < len; idx++) {\n                item = sorted[idx];\n                currentValue = accessor.get(item, field);\n                if(!groupValueComparer(groupValue, currentValue)) {\n                    groupValue = currentValue;\n                    group = {\n                        field: field,\n                        value: groupValue,\n                        items: []\n                    };\n                    result.push(group);\n                }\n                group.items.push(item);\n            }\n\n            result = that._sortGroups(result, descriptor);\n\n            return new Query(result);\n        },\n\n        groupAllData: function (descriptor, allData) {\n            if (isEmptyObject(descriptor) || this.data && !this.data.length) {\n                return new Query([]);\n            }\n\n            var field = descriptor.field,\n                sorted = descriptor.skipItemSorting ? allData : new Query(allData).sort(field, descriptor.dir || \"asc\", StableComparer).toArray(),\n                accessor = kendo.accessor(field),\n                item,\n                groupValue = accessor.get(sorted[0], field),\n                group = {\n                    field: field,\n                    value: groupValue,\n                    items: []\n                },\n                currentValue,\n                idx,\n                len,\n                result = [group];\n\n            for (idx = 0, len = sorted.length; idx < len; idx++) {\n                item = sorted[idx];\n                currentValue = accessor.get(item, field);\n                if (!groupValueComparer(groupValue, currentValue)) {\n                    groupValue = currentValue;\n                    group = {\n                        field: field,\n                        value: groupValue,\n                        items: []\n                    };\n                    result.push(group);\n                }\n                group.items.push(item);\n            }\n\n            result = this._sortGroups(result, descriptor);\n\n            return new Query(result);\n        },\n\n        _sortForGrouping: function(field, dir) {\n            var idx, length,\n                data = this.data;\n\n            if (!stableSort) {\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    data[idx].__position = idx;\n                }\n\n                data = new Query(data).sort(field, dir, StableComparer).toArray();\n\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    delete data[idx].__position;\n                }\n                return data;\n            }\n\n            return this.sort(field, dir).toArray();\n        },\n\n        _sortGroups: function(groups, descriptor) {\n            var result = groups;\n\n            if (descriptor && isFunction(descriptor.compare)) {\n                result = new Query(result).order({ compare: descriptor.compare }, descriptor.dir || ASCENDING).toArray();\n            }\n\n            return result;\n        },\n\n        aggregate: function (aggregates) {\n            var idx,\n                len,\n                result = {},\n                state = {};\n\n            if (aggregates && aggregates.length) {\n                for(idx = 0, len = this.data.length; idx < len; idx++) {\n                    calculateAggregate(result, aggregates, this.data[idx], idx, len, state);\n                }\n            }\n            return result;\n        }\n    };\n\n    function groupValueComparer(a, b) {\n        if (a && a.getTime && b && b.getTime) {\n            return a.getTime() === b.getTime();\n        }\n        return a === b;\n    }\n\n    function calculateAggregate(accumulator, aggregates, item, index, length, state) {\n        aggregates = aggregates || [];\n        var idx,\n            aggr,\n            functionName,\n            len = aggregates.length;\n\n        for (idx = 0; idx < len; idx++) {\n            aggr = aggregates[idx];\n            functionName = aggr.aggregate;\n            var field = aggr.field;\n            accumulator[field] = accumulator[field] || {};\n            state[field] = state[field] || {};\n            state[field][functionName] = state[field][functionName] || {};\n            accumulator[field][functionName] = functions[functionName.toLowerCase()](accumulator[field][functionName], item, kendo.accessor(field), index, length, state[field][functionName]);\n        }\n    }\n\n    var functions = {\n        sum: function(accumulator, item, accessor) {\n            var value = accessor.get(item);\n\n            if (!isNumber(accumulator)) {\n                accumulator = value;\n            } else if (isNumber(value)) {\n                accumulator += value;\n            }\n\n            return accumulator;\n        },\n        count: function(accumulator) {\n            return (accumulator || 0) + 1;\n        },\n        average: function(accumulator, item, accessor, index, length, state) {\n            var value = accessor.get(item);\n\n            if (state.count === undefined) {\n                state.count = 0;\n            }\n\n            if (!isNumber(accumulator)) {\n                accumulator = value;\n            } else if (isNumber(value)) {\n                accumulator += value;\n            }\n\n            if (isNumber(value)) {\n                state.count++;\n            }\n\n            if(index == length - 1 && isNumber(accumulator)) {\n                accumulator = accumulator / state.count;\n            }\n            return accumulator;\n        },\n        max: function(accumulator, item, accessor) {\n            var value = accessor.get(item);\n\n            if (!isNumber(accumulator) && !isDate(accumulator)) {\n                accumulator = value;\n            }\n\n            if(accumulator < value && (isNumber(value) || isDate(value))) {\n                accumulator = value;\n            }\n            return accumulator;\n        },\n        min: function(accumulator, item, accessor) {\n            var value = accessor.get(item);\n\n            if (!isNumber(accumulator) && !isDate(accumulator)) {\n                accumulator = value;\n            }\n\n            if(accumulator > value && (isNumber(value) || isDate(value))) {\n                accumulator = value;\n            }\n            return accumulator;\n        }\n    };\n\n    function isNumber(val) {\n        return typeof val === \"number\" && !isNaN(val);\n    }\n\n    function isDate(val) {\n        return val && val.getTime;\n    }\n\n    function toJSON(array) {\n        var idx, length = array.length, result = new Array(length);\n\n        for (idx = 0; idx < length; idx++) {\n            result[idx] = array[idx].toJSON();\n        }\n\n        return result;\n    }\n\n    Query.normalizeGroup = normalizeGroup;\n    Query.normalizeSort = normalizeSort;\n\n    Query.process = function(data, options, inPlace) {\n        options = options || {};\n\n        var group = options.group;\n        var customGroupSort = anyGroupDescriptorHasCompare(normalizeGroup(group || []));\n        var query = new Query(data),\n            groupDescriptorsWithoutCompare = normalizeGroupWithoutCompare(group || []),\n            normalizedSort = normalizeSort(options.sort || []),\n            sort = customGroupSort ? normalizedSort : groupDescriptorsWithoutCompare.concat(normalizedSort),\n            groupDescriptorsWithoutSort,\n            total,\n            filterCallback = options.filterCallback,\n            filter = options.filter,\n            skip = options.skip,\n            take = options.take;\n\n        if (sort && inPlace) {\n            query = query.sort(sort, undefined, undefined, inPlace);\n        }\n\n        if (filter) {\n            query = query.filter(filter);\n\n            if (filterCallback) {\n                query = filterCallback(query);\n            }\n\n            total = query.toArray().length;\n        }\n\n        if (sort) {\n            if (!inPlace) {\n                query = query.sort(sort);\n            }\n\n            if (group) {\n                data = query.toArray();\n            }\n        }\n\n        if (customGroupSort) {\n            query = query.group(group, data, options);\n\n            if (skip !== undefined && take !== undefined && !options.groupPaging) {\n                query = new Query(flatGroups(query.toArray())).range(skip, take);\n\n                groupDescriptorsWithoutSort = map(groupDescriptorsWithoutCompare, function(groupDescriptor) {\n                    return extend({}, groupDescriptor, {\n                        skipItemSorting: true\n                    });\n                });\n\n                query = query.group(groupDescriptorsWithoutSort, data, options);\n            }\n        } else {\n            if (skip !== undefined && take !== undefined) {\n                total = query.data.length;\n\n                if (skip + take > total && options.virtual) {\n                    skip -= skip + take - total;\n                }\n                query = query.range(skip, take);\n            }\n\n            if (group && (!isEmptyObject(group) || group.length !== 0)) {\n                query = query.group(group, data, options);\n            }\n        }\n\n        return {\n            total: total,\n            data: query.toArray()\n        };\n    };\n\n    var LocalTransport = Class.extend({\n        init: function(options) {\n            this.data = options.data;\n        },\n\n        read: function(options) {\n            options.success(this.data);\n        },\n        update: function(options) {\n            options.success(options.data);\n        },\n        create: function(options) {\n            options.success(options.data);\n        },\n        destroy: function(options) {\n            options.success(options.data);\n        }\n    });\n\n    var RemoteTransport = Class.extend( {\n        init: function(options) {\n            var that = this, parameterMap;\n\n            options = that.options = extend({}, that.options, options);\n\n            each(crud, function(index, type) {\n                if (typeof options[type] === STRING) {\n                    options[type] = {\n                        url: options[type]\n                    };\n                }\n            });\n\n            that.cache = options.cache? Cache.create(options.cache) : {\n                find: noop,\n                add: noop\n            };\n\n            parameterMap = options.parameterMap;\n\n            if (options.submit) {\n                that.submit = options.submit;\n            }\n\n            if (isFunction(options.push)) {\n                that.push = options.push;\n            }\n\n            if (!that.push) {\n                that.push = identity;\n            }\n\n            that.parameterMap = isFunction(parameterMap) ? parameterMap : function(options) {\n                var result = {};\n\n                each(options, function(option, value) {\n                    if (option in parameterMap) {\n                        option = parameterMap[option];\n                        if (isPlainObject(option)) {\n                            value = option.value(value);\n                            option = option.key;\n                        }\n                    }\n\n                    result[option] = value;\n                });\n\n                return result;\n            };\n        },\n\n        options: {\n            parameterMap: identity\n        },\n\n        create: function(options) {\n            return ajax(this.setup(options, CREATE));\n        },\n\n        read: function(options) {\n            var that = this,\n                success,\n                error,\n                result,\n                cache = that.cache;\n\n            options = that.setup(options, READ);\n\n            success = options.success || noop;\n            error = options.error || noop;\n\n            result = cache.find(options.data);\n\n            if(result !== undefined) {\n                success(result);\n            } else {\n                options.success = function(result) {\n                    cache.add(options.data, result);\n\n                    success(result);\n                };\n\n                $.ajax(options);\n            }\n        },\n\n        update: function(options) {\n            return ajax(this.setup(options, UPDATE));\n        },\n\n        destroy: function(options) {\n            return ajax(this.setup(options, DESTROY));\n        },\n\n        setup: function(options, type) {\n            options = options || {};\n\n            var that = this,\n                parameters,\n                operation = that.options[type],\n                data = isFunction(operation.data) ? operation.data(options.data) : operation.data;\n\n            options = extend(true, {}, operation, options);\n            parameters = extend(true, {}, data, options.data);\n\n            options.data = that.parameterMap(parameters, type);\n\n            if (isFunction(options.url)) {\n                options.url = options.url(parameters);\n            }\n\n            return options;\n        }\n    });\n\n    var Cache = Class.extend({\n        init: function() {\n            this._store = {};\n        },\n        add: function(key, data) {\n            if(key !== undefined) {\n                this._store[stringify(key)] = data;\n            }\n        },\n        find: function(key) {\n            return this._store[stringify(key)];\n        },\n        clear: function() {\n            this._store = {};\n        },\n        remove: function(key) {\n            delete this._store[stringify(key)];\n        }\n    });\n\n    Cache.create = function(options) {\n        var store = {\n            \"inmemory\": function() { return new Cache(); }\n        };\n\n        if (isPlainObject(options) && isFunction(options.find)) {\n            return options;\n        }\n\n        if (options === true) {\n            return new Cache();\n        }\n\n        return store[options]();\n    };\n\n    function serializeRecords(data, getters, modelInstance, originalFieldNames, fieldNames) {\n        var record,\n            getter,\n            originalName,\n            idx,\n            setters = {},\n            length;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            record = data[idx];\n            for (getter in getters) {\n                originalName = fieldNames[getter];\n\n                if (originalName && originalName !== getter) {\n                    if (!setters[originalName]) {\n                        setters[originalName] = kendo.setter(originalName);\n                    }\n                    setters[originalName](record, getters[getter](record));\n                    delete record[getter];\n                }\n            }\n        }\n    }\n\n    function convertRecords(data, getters, modelInstance, originalFieldNames, fieldNames) {\n        var record,\n            getter,\n            originalName,\n            idx,\n            length;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            record = data[idx];\n            for (getter in getters) {\n                record[getter] = modelInstance._parse(getter, getters[getter](record));\n\n                originalName = fieldNames[getter];\n                if (originalName && originalName !== getter) {\n                    delete record[originalName];\n                }\n            }\n        }\n    }\n\n    function convertGroup(data, getters, modelInstance, originalFieldNames, fieldNames) {\n        var record,\n            idx,\n            fieldName,\n            length;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            record = data[idx];\n\n            fieldName = originalFieldNames[record.field];\n            if (fieldName && fieldName != record.field) {\n                record.field = fieldName;\n            }\n\n            record.value = modelInstance._parse(record.field, record.value);\n\n            if (record.items) {\n                if (record.hasSubgroups) {\n                    convertGroup(record.items, getters, modelInstance, originalFieldNames, fieldNames);\n                } else {\n                    convertRecords(record.items, getters, modelInstance, originalFieldNames, fieldNames);\n                }\n            }\n        }\n    }\n\n    function wrapDataAccess(originalFunction, model, converter, getters, originalFieldNames, fieldNames) {\n        return function(data) {\n            data = originalFunction(data);\n\n            return wrapDataAccessBase(model, converter, getters, originalFieldNames, fieldNames)(data);\n        };\n    }\n\n    function wrapDataAccessBase(model, converter, getters, originalFieldNames, fieldNames) {\n        return function(data) {\n\n            if (data && !isEmptyObject(getters)) {\n                if (toString.call(data) !== \"[object Array]\" && !(data instanceof ObservableArray)) {\n                    data = [data];\n                }\n\n                converter(data, getters, new model(), originalFieldNames, fieldNames);\n            }\n\n            return data || [];\n        };\n    }\n\n    var DataReader = Class.extend({\n        init: function(schema) {\n            var that = this, member, get, model, base;\n\n            schema = schema || {};\n\n            for (member in schema) {\n                get = schema[member];\n\n                that[member] = typeof get === STRING ? getter(get) : get;\n            }\n\n            base = schema.modelBase || Model;\n\n            if (isPlainObject(that.model)) {\n                that.model = model = base.define(that.model);\n            }\n\n            var dataFunction = that.data.bind(that);\n\n            that._dataAccessFunction = dataFunction;\n\n            if (that.model) {\n                var groupsFunction = that.groups.bind(that),\n                    serializeFunction = that.serialize.bind(that),\n                    originalFieldNames = {},\n                    getters = {},\n                    serializeGetters = {},\n                    fieldNames = {},\n                    shouldSerialize = false,\n                    fieldName,\n                    name;\n\n                model = that.model;\n\n                if (model.fields) {\n                    each(model.fields, function(field, value) {\n                        var fromName;\n\n                        fieldName = field;\n\n                        if (isPlainObject(value) && value.field) {\n                            fieldName = value.field;\n                        } else if (typeof value === STRING) {\n                            fieldName = value;\n                        }\n\n                        if (isPlainObject(value) && value.from) {\n                            fromName = value.from;\n                        }\n\n                        shouldSerialize = shouldSerialize || (fromName && fromName !== field) || fieldName !== field;\n                        name = fromName || fieldName;\n                        getters[field] = name.indexOf(\".\") !== -1 ? getter(name, true) : getter(name);\n                        serializeGetters[field] = getter(field);\n                        originalFieldNames[fromName || fieldName] = field;\n                        fieldNames[field] = fromName || fieldName;\n                    });\n\n                    if (!schema.serialize && shouldSerialize) {\n                        that.serialize = wrapDataAccess(serializeFunction, model, serializeRecords, serializeGetters, originalFieldNames, fieldNames);\n                    }\n                }\n\n                that._dataAccessFunction = dataFunction;\n                that._wrapDataAccessBase = wrapDataAccessBase(model, convertRecords, getters, originalFieldNames, fieldNames);\n                that.data = wrapDataAccess(dataFunction, model, convertRecords, getters, originalFieldNames, fieldNames);\n                that.groups = wrapDataAccess(groupsFunction, model, convertGroup, getters, originalFieldNames, fieldNames);\n            }\n        },\n        errors: function(data) {\n            return data ? data.errors : null;\n        },\n        parse: identity,\n        data: identity,\n        total: function(data) {\n            return data.length;\n        },\n        groups: identity,\n        aggregates: function() {\n            return {};\n        },\n        serialize: function(data) {\n            return data;\n        }\n    });\n\n    function fillLastGroup(originalGroup, newGroup) {\n        var currOriginal;\n        var currentNew;\n\n        if (newGroup.items && newGroup.items.length) {\n            for (var i = 0; i < newGroup.items.length; i++) {\n                currOriginal = originalGroup.items[originalGroup.items.length - 1];\n                currentNew = newGroup.items[i];\n                if (currOriginal && currentNew) {\n                    if (currOriginal.hasSubgroups && currOriginal.value == currentNew.value) {\n                        fillLastGroup(currOriginal, currentNew);\n                    } else if (currOriginal.field && currOriginal.value == currentNew.value) {\n                        currOriginal.items.push.apply(currOriginal.items, currentNew.items);\n                    } else {\n                        originalGroup.items.push.apply(originalGroup.items, [currentNew]);\n                    }\n                } else if (currentNew) {\n                    originalGroup.items.push.apply(originalGroup.items, [currentNew]);\n                }\n            }\n        }\n    }\n    function mergeGroups(target, dest, skip, take) {\n        var group,\n            idx = 0,\n            items;\n\n        while (dest.length && take) {\n            group = dest[idx];\n            items = group.items;\n\n            var length = items.length;\n\n            if (target && target.field === group.field && target.value === group.value) {\n                if (target.hasSubgroups && target.items.length) {\n                    mergeGroups(target.items[target.items.length - 1], group.items, skip, take);\n                } else {\n                    items = items.slice(skip, skip + take);\n                    target.items = target.items.concat(items);\n                }\n                dest.splice(idx--, 1);\n            } else if (group.hasSubgroups && items.length) {\n                mergeGroups(group, items, skip, take);\n                if (!group.items.length) {\n                    dest.splice(idx--, 1);\n                }\n            } else {\n                items = items.slice(skip, skip + take);\n                group.items = items;\n\n                if (!group.items.length) {\n                    dest.splice(idx--, 1);\n                }\n            }\n\n            if (items.length === 0) {\n                skip -= length;\n            } else {\n                skip = 0;\n                take -= items.length;\n            }\n\n            if (++idx >= dest.length) {\n                break;\n            }\n        }\n\n        if (idx < dest.length) {\n            dest.splice(idx, dest.length - idx);\n        }\n    }\n\n    function flatGroups(groups, indexFunction) {\n        var result = [];\n        var groupsLength = (groups || []).length;\n        var group;\n        var items;\n        var indexFn = isFunction(indexFunction) ? indexFunction : function(array, index) {\n            return array[index];\n        };\n\n        for (var groupIndex = 0; groupIndex < groupsLength; groupIndex++) {\n            group = indexFn(groups, groupIndex);\n\n            if (group.hasSubgroups) {\n                result = result.concat(flatGroups(group.items));\n            } else {\n                items = group.items;\n\n                for (var itemIndex = 0; itemIndex < items.length; itemIndex++) {\n                    result.push(indexFn(items, itemIndex));\n                }\n            }\n        }\n        return result;\n    }\n\n    function flattenGroups(data) {\n        var idx,\n            result = [],\n            length,\n            items,\n            itemIndex;\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            var group = data.at(idx);\n            if (group.items) {\n                if (group.hasSubgroups) {\n                    result = result.concat(flattenGroups(group.items));\n                } else {\n                    items = group.items;\n                    for (itemIndex = 0; itemIndex < items.length; itemIndex++) {\n                        result.push(items.at(itemIndex));\n                    }\n                }\n            }\n        }\n        return result;\n    }\n\n    function wrapGroupItems(data, model) {\n        var idx, length, group;\n        if (model) {\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                group = data.at(idx);\n                if (group.items) {\n                    if (group.hasSubgroups) {\n                        wrapGroupItems(group.items, model);\n                    } else {\n                        group.items = new LazyObservableArray(group.items, model, group.items._events);\n                    }\n                }\n            }\n        }\n    }\n\n    function eachGroupItems(data, func) {\n        for (var idx = 0; idx < data.length; idx++) {\n            if (data[idx].hasSubgroups) {\n                if (eachGroupItems(data[idx].items, func)) {\n                    return true;\n                }\n            } else if (func(data[idx].items, data[idx])) {\n                return true;\n            }\n        }\n    }\n\n    function replaceInRanges(ranges, data, item, observable) {\n        for (var idx = 0; idx < ranges.length; idx++) {\n            if (ranges[idx].data === data) {\n                break;\n            }\n            if (replaceInRange(ranges[idx].data, item, observable)) {\n                break;\n            }\n        }\n    }\n\n    function replaceInRange(items, item, observable) {\n        for (var idx = 0, length = items.length; idx < length; idx++) {\n            if (items[idx] && items[idx].hasSubgroups) {\n                return replaceInRange(items[idx].items, item, observable);\n            } else if (items[idx] === item || items[idx] === observable) {\n               items[idx] = observable;\n               return true;\n            }\n        }\n    }\n\n    function replaceWithObservable(view, data, ranges, type, serverGrouping) {\n        for (var viewIndex = 0, length = view.length; viewIndex < length; viewIndex++) {\n            var item = view[viewIndex];\n\n            if (!item || item instanceof type) {\n                continue;\n            }\n\n            if (item.hasSubgroups !== undefined && !serverGrouping) {\n                replaceWithObservable(item.items, data, ranges, type, serverGrouping);\n            } else {\n                for (var idx = 0; idx < data.length; idx++) {\n                    if (data[idx] === item) {\n                        view[viewIndex] = data.at(idx);\n                        replaceInRanges(ranges, data, item, view[viewIndex]);\n                        break;\n                    }\n                }\n            }\n        }\n    }\n\n    function removeModel(data, model) {\n        if (!data) {\n            return;\n        }\n        var length = data.length;\n        var dataItem;\n        var idx;\n\n        for (idx = 0; idx < length; idx++) {\n            dataItem = data[idx];\n\n            if (dataItem.uid && dataItem.uid == model.uid) {\n                data.splice(idx, 1);\n                return dataItem;\n            }\n        }\n    }\n\n    function indexOfPristineModel(data, model) {\n        if (model) {\n            return indexOf(data, function(item) {\n                return (item.uid && item.uid == model.uid) || (item[model.idField] === model.id && model.id !== model._defaultId);\n            });\n        }\n        return -1;\n    }\n\n    function indexOfModel(data, model) {\n        if (model) {\n            return indexOf(data, function(item) {\n                return item.uid == model.uid;\n            });\n        }\n        return -1;\n    }\n\n    function indexOf(data, comparer) {\n        var idx, length;\n        if (!data) {\n            return;\n        }\n\n        for (idx = 0, length = data.length; idx < length; idx++) {\n            if (comparer(data[idx])) {\n                return idx;\n            }\n        }\n\n        return -1;\n    }\n\n    function fieldNameFromModel(fields, name) {\n        if (fields && !isEmptyObject(fields)) {\n            var descriptor = fields[name];\n            var fieldName;\n            if (isPlainObject(descriptor)) {\n                fieldName = descriptor.from || descriptor.field || name;\n            } else {\n                fieldName = fields[name] || name;\n            }\n\n            if (isFunction(fieldName)) {\n                return name;\n            }\n\n            return fieldName;\n        }\n        return name;\n    }\n\n    function convertFilterDescriptorsField(descriptor, model) {\n        var idx,\n            length,\n            target = {};\n\n        for (var field in descriptor) {\n            if (field !== \"filters\") {\n                target[field] = descriptor[field];\n            }\n        }\n\n        if (descriptor.filters) {\n            target.filters = [];\n            for (idx = 0, length = descriptor.filters.length; idx < length; idx++) {\n                target.filters[idx] = convertFilterDescriptorsField(descriptor.filters[idx], model);\n            }\n        } else {\n            target.field = fieldNameFromModel(model.fields, target.field);\n        }\n        return target;\n    }\n\n    function convertDescriptorsField(descriptors, model) {\n        var idx,\n            length,\n            result = [],\n            target,\n            descriptor;\n\n        for (idx = 0, length = descriptors.length; idx < length; idx ++) {\n            target = {};\n\n            descriptor = descriptors[idx];\n\n            for (var field in descriptor) {\n                target[field] = descriptor[field];\n            }\n\n            target.field = fieldNameFromModel(model.fields, target.field);\n\n            if (target.aggregates && isArray(target.aggregates)) {\n                target.aggregates = convertDescriptorsField(target.aggregates, model);\n            }\n            result.push(target);\n        }\n        return result;\n    }\n\n    var DataSource = Observable.extend({\n        init: function(options) {\n            var that = this, model, data;\n\n            if (options) {\n                data = options.data;\n            }\n\n            options = that.options = extend({}, that.options, options);\n\n            that._map = {};\n            that._prefetch = {};\n            that._data = [];\n            that._pristineData = [];\n            that._ranges = [];\n            that._view = [];\n            that._pristineTotal = 0;\n            that._destroyed = [];\n            that._pageSize = options.pageSize;\n            that._page = options.page  || (options.pageSize ? 1 : undefined);\n            that._sort = normalizeSort(options.sort);\n            that._sortFields = sortFields(options.sort);\n            that._filter = normalizeFilter(options.filter);\n            that._group = normalizeGroup(options.group);\n            that._aggregate = options.aggregate;\n            that._total = options.total;\n            that._groupPaging = options.groupPaging;\n\n            if (that._groupPaging) {\n                that._groupsState = {};\n            }\n            that._shouldDetachObservableParents = true;\n\n            Observable.fn.init.call(that);\n\n            that.transport = Transport.create(options, data, that);\n\n            if (isFunction(that.transport.push)) {\n                that.transport.push({\n                    pushCreate: that._pushCreate.bind(that),\n                    pushUpdate: that._pushUpdate.bind(that),\n                    pushDestroy: that._pushDestroy.bind(that)\n                });\n            }\n\n            if (options.offlineStorage != null) {\n                if (typeof options.offlineStorage == \"string\") {\n                    var key = options.offlineStorage;\n\n                    that._storage = {\n                        getItem: function() {\n                            return JSON.parse(localStorage.getItem(key));\n                        },\n                        setItem: function(item) {\n                            localStorage.setItem(key, stringify(that.reader.serialize(item)));\n                        }\n                    };\n                } else {\n                    that._storage = options.offlineStorage;\n                }\n            }\n\n            that.reader = new kendo.data.readers[options.schema.type || \"json\" ](options.schema);\n\n            model = that.reader.model || {};\n\n            that._detachObservableParents();\n\n            that._data = that._observe(that._data);\n            that._online = true;\n\n            that.bind([\"push\", ERROR, CHANGE, REQUESTSTART, SYNC, REQUESTEND, PROGRESS], options);\n        },\n\n        options: {\n            data: null,\n            schema: {\n               modelBase: Model\n            },\n            offlineStorage: null,\n            serverSorting: false,\n            serverPaging: false,\n            serverFiltering: false,\n            serverGrouping: false,\n            serverAggregates: false,\n            batch: false,\n            inPlaceSort: false\n        },\n\n        clone: function() {\n            return this;\n        },\n\n        online: function(value) {\n            if (value !== undefined) {\n                if (this._online != value) {\n                    this._online = value;\n\n                    if (value) {\n                        return this.sync();\n                    }\n                }\n\n                return $.Deferred().resolve().promise();\n            } else {\n                return this._online;\n            }\n        },\n\n        offlineData: function(state) {\n            if (this.options.offlineStorage == null) {\n                return null;\n            }\n\n            if (state !== undefined) {\n                return this._storage.setItem(state);\n            }\n\n            return this._storage.getItem() || [];\n        },\n\n        _isServerGrouped: function() {\n            var group = this.group() || [];\n\n            return this.options.serverGrouping && group.length;\n        },\n\n        _isServerGroupPaged: function(){\n            return this._isServerGrouped() && this._groupPaging;\n        },\n\n        _isGroupPaged: function(){\n            var group = this._group || [];\n\n            return this._groupPaging && group.length;\n        },\n\n        _pushCreate: function(result) {\n            this._push(result, \"pushCreate\");\n        },\n\n        _pushUpdate: function(result) {\n            this._push(result, \"pushUpdate\");\n        },\n\n        _pushDestroy: function(result) {\n            this._push(result, \"pushDestroy\");\n        },\n\n        _push: function(result, operation) {\n            var data = this._readData(result);\n\n            if (!data) {\n                data = result;\n            }\n\n            this[operation](data);\n        },\n\n        _flatData: function(data, skip) {\n            if (data) {\n                if (this._isServerGrouped()) {\n                    return flattenGroups(data);\n                }\n\n                if (!skip) {\n                    for (var idx = 0; idx < data.length; idx++) {\n                        data.at(idx);\n                    }\n                }\n            }\n\n            return data;\n        },\n\n        parent: noop,\n\n        get: function(id) {\n            var idx, length, data = this._flatData(this._data, this.options.useRanges);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (data[idx].id == id) {\n                    return data[idx];\n                }\n            }\n        },\n\n        getByUid: function(id) {\n            return this._getByUid(id, this._data);\n        },\n\n        _getByUid: function(id, dataItems) {\n            var idx, length, data = this._flatData(dataItems, this.options.useRanges);\n\n            if (!data) {\n                return;\n            }\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (data[idx].uid == id) {\n                    return data[idx];\n                }\n            }\n        },\n\n        indexOf: function(model) {\n            return indexOfModel(this._data, model);\n        },\n\n        at: function(index) {\n            return this._data.at(index);\n        },\n\n        data: function(value) {\n            var that = this;\n            if (value !== undefined) {\n                that._detachObservableParents();\n                that._data = this._observe(value);\n\n                that._pristineData = value.slice(0);\n\n                that._storeData();\n\n                that._ranges = [];\n                that.trigger(\"reset\");\n                that._addRange(that._data);\n\n                that._total = that._data.length;\n                that._pristineTotal = that._total;\n\n                that._process(that._data);\n            } else {\n                if (that._data) {\n                    for (var idx = 0; idx < that._data.length; idx++) {\n                        that._data.at(idx);\n                    }\n                }\n\n                return that._data;\n            }\n        },\n\n        view: function(value) {\n            if (value === undefined) {\n                return this._view;\n            } else {\n                this._view = this._observeView(value);\n            }\n        },\n\n        _observeView: function(data) {\n            var that = this;\n            replaceWithObservable(data, that._data, that._ranges, that.reader.model || ObservableObject, that._isServerGrouped());\n\n            var view = new LazyObservableArray(data, that.reader.model);\n            view.parent = function() { return that.parent(); };\n            return view;\n        },\n\n        flatView: function() {\n            var groups = this.group() || [];\n\n            if (groups.length) {\n                return flattenGroups(this._view);\n            } else {\n                return this._view;\n            }\n        },\n\n        add: function(model) {\n            return this.insert(this._data.length, model);\n        },\n\n        _createNewModel: function(model) {\n            if (this.reader.model) {\n                return new this.reader.model(model);\n            }\n\n            if (model instanceof ObservableObject) {\n                return model;\n            }\n\n            return new ObservableObject(model);\n        },\n\n        insert: function(index, model) {\n            if (!model) {\n                model = index;\n                index = 0;\n            }\n\n            if (!(model instanceof Model)) {\n                model = this._createNewModel(model);\n            }\n\n            if (this._isServerGrouped()) {\n                this._data.splice(index, 0, this._wrapInEmptyGroup(model));\n            } else {\n                this._data.splice(index, 0, model);\n            }\n\n            this._insertModelInRange(index, model);\n\n            return model;\n        },\n\n        pushInsert: function(index, items) {\n            var that = this;\n            var rangeSpan = that._getCurrentRangeSpan();\n\n            if (!items) {\n                items = index;\n                index = 0;\n            }\n\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var pushed = [];\n            var autoSync = this.options.autoSync;\n            this.options.autoSync = false;\n\n            try {\n                for (var idx = 0; idx < items.length; idx ++) {\n                    var item = items[idx];\n\n                    var result = this.insert(index, item);\n\n                    pushed.push(result);\n\n                    var pristine = result.toJSON();\n\n                    if (this._isServerGrouped()) {\n                        pristine = this._wrapInEmptyGroup(pristine);\n                    }\n\n                    this._pristineData.push(pristine);\n\n                    if (rangeSpan && rangeSpan.length) {\n                        $(rangeSpan).last()[0].pristineData.push(pristine);\n                    }\n\n                    index++;\n                }\n            } finally {\n                this.options.autoSync = autoSync;\n            }\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"create\",\n                    items: pushed\n                });\n            }\n        },\n\n        pushCreate: function(items) {\n            this.pushInsert(this._data.length, items);\n        },\n\n        pushUpdate: function(items) {\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var pushed = [];\n\n            for (var idx = 0; idx < items.length; idx ++) {\n                var item = items[idx];\n                var model = this._createNewModel(item);\n\n                var target = this.get(model.id);\n\n                if (target) {\n                    pushed.push(target);\n\n                    target.accept(item);\n\n                    target.trigger(CHANGE);\n\n                    this._updatePristineForModel(target, item);\n                } else {\n                    this.pushCreate(item);\n                }\n            }\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"update\",\n                    items: pushed\n                });\n            }\n        },\n\n        pushDestroy: function(items) {\n            var pushed = this._removeItems(items);\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"destroy\",\n                    items: pushed\n                });\n            }\n        },\n\n        _removeItems: function(items, removePristine) {\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var shouldRemovePristine = typeof removePristine !== \"undefined\" ? removePristine : true;\n\n            var destroyed = [];\n            var autoSync = this.options.autoSync;\n            this.options.autoSync = false;\n            try {\n                for (var idx = 0; idx < items.length; idx ++) {\n                    var item = items[idx];\n                    var model = this._createNewModel(item);\n                    var found = false;\n\n                    this._eachItem(this._data, function(items){\n                        for (var idx = 0; idx < items.length; idx++) {\n                            var item = items.at(idx);\n                            if (item.id === model.id) {\n                                destroyed.push(item);\n                                items.splice(idx, 1);\n                                found = true;\n                                break;\n                            }\n                        }\n                    });\n\n                    if (found && shouldRemovePristine) {\n                        this._removePristineForModel(model);\n                        this._destroyed.pop();\n                    }\n                }\n            } finally {\n                this.options.autoSync = autoSync;\n            }\n\n            return destroyed;\n        },\n\n        pushMove: function(index, items) {\n            var pushed = this._moveItems(index, items);\n\n            if (pushed.length) {\n                this.trigger(\"push\", {\n                    type: \"update\",\n                    items: pushed\n                });\n            }\n        },\n\n        _moveItems: function (index, items) {\n            if (!isArray(items)) {\n                items = [items];\n            }\n\n            var moved = [];\n            var autoSync = this.options.autoSync;\n            this.options.autoSync = false;\n\n            try {\n                for (var i = 0; i < items.length; i ++) {\n                    var item = items[i];\n                    var model = this._createNewModel(item);\n\n                    this._eachItem(this._data, function(dataItems){\n                        for (var idx = 0; idx < dataItems.length; idx++) {\n                            var dataItem = dataItems.at(idx);\n                            if (dataItem.id === model.id) {\n                                moved.push(dataItem);\n                                dataItems.splice(index >= idx ? --index : index, 0, dataItems.splice(idx, 1)[0]);\n                                index++;\n                                break;\n                            }\n                        }\n                    });\n                }\n            } finally {\n                this.options.autoSync = autoSync;\n            }\n\n            return moved;\n        },\n\n        remove: function(model) {\n            var result,\n                that = this,\n                hasGroups = that._isServerGrouped();\n\n            if (hasGroups && model.uid && (!model.isNew || !model.isNew())) {\n                that._destroyed.push(model);\n            }\n\n            this._eachItem(that._data, function(items) {\n                result = removeModel(items, model);\n\n                if (result && hasGroups) {\n                    return true;\n                }\n            });\n\n            this._removeModelFromRanges(model);\n\n            return model;\n        },\n\n        destroyed: function() {\n            return this._destroyed;\n        },\n\n        created: function() {\n            var idx,\n                length,\n                result = [],\n                data = this._flatData(this._data, this.options.useRanges);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if (data[idx].isNew && data[idx].isNew()) {\n                    result.push(data[idx]);\n                }\n            }\n            return result;\n        },\n\n        updated: function() {\n            var idx,\n                length,\n                result = [],\n                data = this._flatData(this._data, this.options.useRanges);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if ((data[idx].isNew && !data[idx].isNew()) && data[idx].dirty) {\n                    result.push(data[idx]);\n                }\n            }\n            return result;\n        },\n\n        sync: function() {\n            var that = this,\n                created = [],\n                updated = [],\n                destroyed = that._destroyed;\n\n            var promise = $.Deferred().resolve().promise();\n\n            if (that.online()) {\n\n                if (!that.reader.model) {\n                    return promise;\n                }\n\n                created = that.created();\n                updated = that.updated();\n\n                var promises = [];\n\n                if (that.options.batch && that.transport.submit) {\n                    promises = that._sendSubmit(created, updated, destroyed);\n                } else {\n                    promises.push.apply(promises, that._send(\"create\", created));\n                    promises.push.apply(promises, that._send(\"update\", updated));\n                    promises.push.apply(promises, that._send(\"destroy\", destroyed));\n                }\n\n                promise = $.when\n                 .apply(null, promises)\n                 .then(function() {\n                    var idx, length;\n\n                    for (idx = 0, length = arguments.length; idx < length; idx++){\n                        if (arguments[idx]) {\n                            that._accept(arguments[idx]);\n                        }\n                    }\n\n                    that._storeData(true);\n\n                    that._syncEnd();\n\n                    that._change({ action: \"sync\" });\n\n                    that.trigger(SYNC);\n\n                    if (that._isServerGroupPaged()) {\n                        that.read();\n                    }\n                });\n            } else {\n                that._storeData(true);\n\n                that._syncEnd();\n\n                that._change({ action: \"sync\" });\n            }\n\n            return promise;\n        },\n\n        _syncEnd: noop,\n\n        cancelChanges: function(model) {\n            var that = this;\n\n            if (model instanceof kendo.data.Model) {\n                that._cancelModel(model);\n            } else {\n                that._destroyed = [];\n                that._detachObservableParents();\n                that._data = that._observe(that._pristineData);\n                if (that.options.serverPaging) {\n                    that._total = that._pristineTotal;\n                }\n\n                that._ranges = [];\n                that._addRange(that._data, 0);\n\n                that._changesCanceled();\n\n                that._change();\n\n                that._markOfflineUpdatesAsDirty();\n\n                if (that._isServerGrouped()) {\n                    that.read();\n                }\n            }\n        },\n\n        _changesCanceled: noop,\n\n        _markOfflineUpdatesAsDirty: function() {\n            var that = this;\n\n            if (that.options.offlineStorage != null) {\n                that._eachItem(that._data, function(items) {\n                    for (var idx = 0; idx < items.length; idx++) {\n                        var item = items.at(idx);\n                        if (item.__state__ == \"update\" || item.__state__ == \"create\") {\n                            item.dirty = true;\n                        }\n                    }\n                });\n            }\n        },\n\n        hasChanges: function() {\n            var idx,\n                length,\n                data = this._flatData(this._data, this.options.useRanges);\n\n            if (this._destroyed.length) {\n                return true;\n            }\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                if ((data[idx].isNew && data[idx].isNew()) || data[idx].dirty) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        _accept: function(result) {\n            var that = this,\n                models = result.models,\n                response = result.response,\n                idx = 0,\n                serverGroup = that._isServerGrouped(),\n                pristine = that._pristineData,\n                type = result.type,\n                length;\n\n            that.trigger(REQUESTEND, { response: response, type: type });\n\n            if (response && !isEmptyObject(response)) {\n                response = that.reader.parse(response);\n\n                if (that._handleCustomErrors(response)) {\n                    return;\n                }\n\n                response = that.reader.data(response);\n\n                if (!isArray(response)) {\n                    response = [response];\n                }\n            } else {\n                response = $.map(models, function(model) { return model.toJSON(); } );\n            }\n\n            if (type === \"destroy\") {\n                that._destroyed = [];\n            }\n\n            for (idx = 0, length = models.length; idx < length; idx++) {\n                if (type !== \"destroy\") {\n                    models[idx].accept(response[idx]);\n\n                    if (type === \"create\") {\n                        pristine.push(serverGroup ? that._wrapInEmptyGroup(models[idx].toJSON()) : response[idx]);\n                    } else if (type === \"update\") {\n                        that._updatePristineForModel(models[idx], response[idx]);\n                    }\n                } else {\n                    that._removePristineForModel(models[idx]);\n                }\n            }\n        },\n\n        _updatePristineForModel: function(model, values) {\n            this._executeOnPristineForModel(model, function(index, items) {\n                kendo.deepExtend(items[index], values);\n            });\n        },\n\n        _executeOnPristineForModel: function(model, callback) {\n            this._eachPristineItem(\n                function(items) {\n                    var index = indexOfPristineModel(items, model);\n                    if (index > -1) {\n                        callback(index, items);\n                        return true;\n                    }\n                });\n        },\n\n        _removePristineForModel: function(model) {\n            this._executeOnPristineForModel(model, function(index, items) {\n                items.splice(index, 1);\n            });\n        },\n\n        _readData: function(data) {\n            var read = !this._isServerGrouped() ? this.reader.data : this.reader.groups;\n            return read.call(this.reader, data);\n        },\n\n        _eachPristineItem: function(callback) {\n            var that = this;\n            var options = that.options;\n            var rangeSpan = that._getCurrentRangeSpan();\n\n            that._eachItem(that._pristineData, callback);\n\n            if (options.serverPaging && options.useRanges) {\n                each(rangeSpan, function(i, range) {\n                    that._eachItem(range.pristineData, callback);\n                });\n            }\n        },\n\n       _eachItem: function(data, callback) {\n            if (data && data.length) {\n                if (this._isServerGrouped()) {\n                    eachGroupItems(data, callback);\n                } else {\n                    callback(data);\n                }\n            }\n        },\n\n        _pristineForModel: function(model) {\n            var pristine,\n                idx,\n                callback = function(items) {\n                    idx = indexOfPristineModel(items, model);\n                    if (idx > -1) {\n                        pristine = items[idx];\n                        return true;\n                    }\n                };\n\n            this._eachPristineItem(callback);\n\n            return pristine;\n        },\n\n        _cancelModel: function(model) {\n            var that = this;\n            var pristine = this._pristineForModel(model);\n\n            this._eachItem(this._data, function(items) {\n                var idx = indexOfModel(items, model);\n                if (idx >= 0) {\n                    if (pristine && (!model.isNew() || pristine.__state__)) {\n                        items[idx].accept(pristine);\n\n                        if (pristine.__state__ == \"update\") {\n                            items[idx].dirty = true;\n                        }\n\n                    } else {\n                        that._modelCanceled(model);\n\n                        items.splice(idx, 1);\n\n                        that._removeModelFromRanges(model);\n                    }\n                }\n            });\n        },\n\n        _modelCanceled: noop,\n\n        _submit: function(promises, data) {\n            var that = this;\n\n            that.trigger(REQUESTSTART, { type: \"submit\" });\n\n            that.trigger(PROGRESS);\n\n            that.transport.submit(extend({\n                success: function(response, type) {\n                    var promise = $.grep(promises, function(x) {\n                        return x.type == type;\n                    })[0];\n\n                    if (promise) {\n                        promise.resolve({\n                            response: response,\n                            models: promise.models,\n                            type: type\n                        });\n                    }\n                },\n                error: function(response, status, error) {\n                    for (var idx = 0; idx < promises.length; idx++) {\n                        promises[idx].reject(response);\n                    }\n\n                    that.error(response, status, error);\n                }\n            }, data));\n        },\n\n        _sendSubmit: function(created, updated, destroyed) {\n            var that = this,\n                promises = [];\n\n            if (that.options.batch) {\n                if (created.length) {\n                    promises.push($.Deferred(function(deferred) {\n                        deferred.type = \"create\";\n                        deferred.models = created;\n                    }));\n                }\n\n                if (updated.length) {\n                    promises.push($.Deferred(function(deferred) {\n                        deferred.type = \"update\";\n                        deferred.models = updated;\n                    }));\n                }\n\n                if (destroyed.length) {\n                    promises.push($.Deferred(function(deferred) {\n                        deferred.type = \"destroy\";\n                        deferred.models = destroyed;\n                    }));\n                }\n\n                that._submit(promises, {\n                    data: {\n                        created: that.reader.serialize(toJSON(created)),\n                        updated: that.reader.serialize(toJSON(updated)),\n                        destroyed: that.reader.serialize(toJSON(destroyed))\n                    }\n                });\n            }\n\n            return promises;\n        },\n\n        _promise: function(data, models, type) {\n            var that = this;\n\n            return $.Deferred(function(deferred) {\n                that.trigger(REQUESTSTART, { type: type });\n\n                that.trigger(PROGRESS);\n\n                that.transport[type].call(that.transport, extend({\n                    success: function(response) {\n                        deferred.resolve({\n                            response: response,\n                            models: models,\n                            type: type\n                        });\n                    },\n                    error: function(response, status, error) {\n                        deferred.reject(response);\n                        that.error(response, status, error);\n                    }\n                }, data));\n            }).promise();\n        },\n\n        _send: function(method, data) {\n            var that = this,\n                idx,\n                length,\n                promises = [],\n                converted = that.reader.serialize(toJSON(data));\n\n            if (that.options.batch) {\n                if (data.length) {\n                    promises.push(that._promise( { data: { models: converted } }, data , method));\n                }\n            } else {\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    promises.push(that._promise( { data: converted[idx] }, [ data[idx] ], method));\n                }\n            }\n\n            return promises;\n        },\n\n        read: function(data) {\n            var that = this, params = that._params(data);\n            var deferred = $.Deferred();\n\n            that._queueRequest(params, function() {\n                var isPrevented = that.trigger(REQUESTSTART, { type: \"read\" });\n                if (!isPrevented) {\n                    that.trigger(PROGRESS);\n\n                    that._ranges = [];\n                    that.trigger(\"reset\");\n                    if (that.online()) {\n                        that.transport.read({\n                            data: params,\n                            success: function(data) {\n                                that._ranges = [];\n                                that.success(data, params);\n\n                                deferred.resolve();\n                            },\n                            error: function() {\n                                var args = slice.call(arguments);\n\n                                that.error.apply(that, args);\n\n                                deferred.reject.apply(deferred, args);\n                            }\n                        });\n                    } else if (that.options.offlineStorage != null){\n                        that.success(that.offlineData(), params);\n\n                        deferred.resolve();\n                    }\n                } else {\n                    that._dequeueRequest();\n\n                    deferred.resolve(isPrevented);\n                }\n            });\n\n            return deferred.promise();\n        },\n\n        _readAggregates: function(data) {\n            return this.reader.aggregates(data);\n        },\n\n        success: function(data) {\n            var that = this,\n                options = that.options,\n                items,\n                replaceSubset;\n\n            that.trigger(REQUESTEND, { response: data, type: \"read\" });\n\n            if (that.online()) {\n                data = that.reader.parse(data);\n\n                if (that._handleCustomErrors(data)) {\n                    that._dequeueRequest();\n                    return;\n                }\n\n                that._total = that.reader.total(data);\n\n                if (that._isServerGroupPaged()) {\n                    that._serverGroupsTotal = that._total;\n                }\n\n                if (that._pageSize > that._total) {\n                    that._pageSize = that._total;\n                    if (that.options.pageSize && that.options.pageSize > that._pageSize) {\n                        that._pageSize = that.options.pageSize;\n                    }\n                }\n\n                if (that._aggregate && options.serverAggregates) {\n                    that._aggregateResult = that._readAggregates(data);\n                }\n\n                data = that._readData(data);\n\n                that._destroyed = [];\n            } else {\n                data = that._readData(data);\n\n                items = [];\n                var itemIds = {};\n                var model = that.reader.model;\n                var idField = model ? model.idField : \"id\";\n                var idx;\n\n                for (idx = 0; idx < this._destroyed.length; idx++) {\n                    var id = this._destroyed[idx][idField];\n                    itemIds[id] = id;\n                }\n\n                for (idx = 0; idx < data.length; idx++) {\n                    var item = data[idx];\n                    var state = item.__state__;\n                    if (state == \"destroy\") {\n                        if (!itemIds[item[idField]]) {\n                            this._destroyed.push(this._createNewModel(item));\n                        }\n                    } else {\n                        items.push(item);\n                    }\n                }\n\n                data = items;\n\n                that._total = data.length;\n            }\n\n            that._pristineTotal = that._total;\n            replaceSubset = that._skip && that._data.length && that._skip < that._data.length;\n\n            if (that.options.endless) {\n                if (replaceSubset) {\n                    that._pristineData.splice(that._skip, that._pristineData.length);\n                }\n                items = data.slice(0);\n                for (var j = 0; j < items.length; j++) {\n                    that._pristineData.push(items[j]);\n                }\n            } else {\n                that._pristineData = data.slice(0);\n            }\n\n            that._detachObservableParents();\n\n            if (that.options.endless) {\n                that._data.unbind(CHANGE, that._changeHandler);\n\n                if (that._isServerGrouped() && that._data[that._data.length - 1].value === data[0].value) {\n                    fillLastGroup(that._data[that._data.length - 1], data[0]);\n                    data.shift();\n                }\n\n                data = that._observe(data);\n                if (replaceSubset) {\n                    that._data.splice(that._skip, that._data.length);\n                }\n                for (var i = 0; i < data.length; i++) {\n                    that._data.push(data[i]);\n                }\n                that._data.bind(CHANGE, that._changeHandler);\n            } else {\n                that._data = that._observe(data);\n            }\n\n            that._markOfflineUpdatesAsDirty();\n\n            that._storeData();\n\n            that._addRange(that._data);\n\n            that._process(that._data);\n\n            that._dequeueRequest();\n        },\n\n        _detachObservableParents: function() {\n            if (this._data && this._shouldDetachObservableParents) {\n                for (var idx = 0; idx < this._data.length; idx++) {\n                    if (this._data[idx].parent) {\n                        this._data[idx].parent = noop;\n                    }\n                }\n            }\n        },\n\n        _storeData: function(updatePristine) {\n            var serverGrouping = this._isServerGrouped();\n            var model = this.reader.model;\n\n            function items(data) {\n                var state = [];\n\n                for (var idx = 0; idx < data.length; idx++) {\n                    var dataItem = data.at(idx);\n                    var item = dataItem.toJSON();\n\n                    if (serverGrouping && dataItem.items) {\n                        item.items = items(dataItem.items);\n                    } else {\n                        item.uid = dataItem.uid;\n\n                        if (model) {\n                            if (dataItem.isNew()) {\n                                item.__state__ = \"create\";\n                            } else if (dataItem.dirty) {\n                                item.__state__ = \"update\";\n                            }\n                        }\n                    }\n                    state.push(item);\n                }\n\n                return state;\n            }\n\n            if (this.options.offlineStorage != null) {\n                var state = items(this._data);\n\n                var destroyed = [];\n\n                for (var idx = 0; idx < this._destroyed.length; idx++) {\n                    var item = this._destroyed[idx].toJSON();\n                    item.__state__ = \"destroy\";\n                    destroyed.push(item);\n                }\n\n                this.offlineData(state.concat(destroyed));\n\n                if (updatePristine) {\n                    this._pristineData = this.reader.reader ? this.reader.reader._wrapDataAccessBase(state) : this.reader._wrapDataAccessBase(state);\n                }\n            }\n        },\n\n        _addRange: function (data, skip) {\n            var that = this,\n                start = typeof (skip) !== \"undefined\" ? skip : (that._skip || 0),\n                end,\n                range = {\n                    data: data,\n                    pristineData: data.toJSON(),\n                    timestamp: that._timeStamp()\n                };\n\n            if (this._isGroupPaged()) {\n                end = start + data.length;\n                range.outerStart = start;\n                range.outerEnd = end;\n            } else {\n                end = start + that._flatData(data, true).length;\n            }\n\n            range.start = start;\n            range.end = end;\n            that._ranges.push(range);\n            that._sortRanges();\n\n            if (that._isGroupPaged()) {\n                if (!that._groupsFlat) {\n                    that._groupsFlat = [];\n                }\n                that._appendToGroupsFlat(range.data);\n                that._updateOuterRangesLength();\n            }\n        },\n\n        _appendToGroupsFlat: function (data) {\n            var length = data.length;\n\n            for (var i = 0; i < length; i++) {\n                this._groupsFlat.push(data[i]);\n            }\n        },\n\n        _getGroupByUid: function(uid){\n            var length = this._groupsFlat.length;\n            var group;\n\n            for (var i = 0; i < length; i++) {\n                group = this._groupsFlat[i];\n                if (group.uid === uid) {\n                    return group;\n                }\n            }\n        },\n\n        _sortRanges: function() {\n            this._ranges.sort(function(x, y) {\n                return x.start - y.start;\n            });\n        },\n\n        error: function(xhr, status, errorThrown) {\n            this._dequeueRequest();\n            this.trigger(REQUESTEND, { });\n            this.trigger(ERROR, { xhr: xhr, status: status, errorThrown: errorThrown });\n        },\n\n        _params: function(data) {\n            var that = this,\n                options =  extend({\n                    take: that.take(),\n                    skip: that.skip(),\n                    page: that.page(),\n                    pageSize: that.pageSize(),\n                    sort: that._sort,\n                    filter: that._filter,\n                    group: that._group,\n                    aggregate: that._aggregate,\n                    groupPaging: !!that._groupPaging\n                }, data);\n\n            if (!that.options.serverPaging) {\n                delete options.take;\n                delete options.skip;\n                delete options.page;\n                delete options.pageSize;\n            }\n\n            if (!that.options.serverGrouping) {\n                delete options.group;\n            } else if (that.reader.model && options.group) {\n                options.group = convertDescriptorsField(options.group, that.reader.model);\n            }\n\n            if (!that.options.serverFiltering) {\n                delete options.filter;\n            } else if (that.reader.model && options.filter) {\n               options.filter = convertFilterDescriptorsField(options.filter, that.reader.model);\n            }\n\n            if (!that.options.serverSorting) {\n                delete options.sort;\n            } else if (that.reader.model && options.sort) {\n                options.sort = convertDescriptorsField(options.sort, that.reader.model);\n            }\n\n            if (!that.options.serverAggregates) {\n                delete options.aggregate;\n            } else if (that.reader.model && options.aggregate) {\n                options.aggregate = convertDescriptorsField(options.aggregate, that.reader.model);\n            }\n\n            if (!that.options.groupPaging) {\n                delete options.groupPaging;\n            }\n\n            return options;\n        },\n\n        _queueRequest: function(options, callback) {\n            var that = this;\n            if (!that._requestInProgress) {\n                that._requestInProgress = true;\n                that._pending = undefined;\n                callback();\n            } else {\n                that._pending = { callback: callback.bind(that), options: options };\n            }\n        },\n\n        _dequeueRequest: function() {\n            var that = this;\n            that._requestInProgress = false;\n            if (that._pending) {\n                that._queueRequest(that._pending.options, that._pending.callback);\n            }\n        },\n\n        _handleCustomErrors: function(response) {\n            if (this.reader.errors) {\n                var errors = this.reader.errors(response);\n                if (errors) {\n                    this.trigger(ERROR, { xhr: null, status: \"customerror\", errorThrown: \"custom error\", errors: errors });\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        _shouldWrap: function(data) {\n            var model = this.reader.model;\n\n            if (model && data.length) {\n                return !(data[0] instanceof model);\n            }\n\n            return false;\n        },\n\n        _observe: function(data) {\n            var that = this,\n                model = that.reader.model;\n\n            that._shouldDetachObservableParents = true;\n\n            if (data instanceof ObservableArray) {\n                that._shouldDetachObservableParents = false;\n                if (that._shouldWrap(data)) {\n                    data.type = that.reader.model;\n                    data.wrapAll(data, data);\n                }\n            } else {\n                var arrayType = that.pageSize() && !that.options.serverPaging ? LazyObservableArray : ObservableArray;\n                data = new arrayType(data, that.reader.model);\n                data.parent = function() { return that.parent(); };\n            }\n\n            if (that._isServerGrouped()) {\n                wrapGroupItems(data, model);\n            }\n\n            if (that._changeHandler && that._data && that._data instanceof ObservableArray &&\n                !(that.options.useRanges && that.options.serverPaging)) {\n                that._data.unbind(CHANGE, that._changeHandler);\n            } else {\n                that._changeHandler = that._change.bind(that);\n            }\n\n            return data.bind(CHANGE, that._changeHandler);\n        },\n\n        _updateTotalForAction: function(action, items) {\n            var that = this;\n\n            var total = parseInt(that._total, 10);\n\n            if (!isNumber(that._total)) {\n                total = parseInt(that._pristineTotal, 10);\n            }\n            if (action === \"add\") {\n                total += items.length;\n            } else if (action === \"remove\") {\n                total -= items.length;\n            } else if (action !== \"itemchange\" && action !== \"sync\" && !that.options.serverPaging) {\n                total = that._pristineTotal;\n            } else if (action === \"sync\") {\n                total = that._pristineTotal = parseInt(that._total, 10);\n            }\n\n            that._total = total;\n        },\n\n        _change: function(e) {\n            var that = this, idx, length, action = e ? e.action : \"\";\n\n            if (action === \"remove\") {\n                for (idx = 0, length = e.items.length; idx < length; idx++) {\n                    if (!e.items[idx].isNew || !e.items[idx].isNew()) {\n                        that._destroyed.push(e.items[idx]);\n                    }\n                }\n            }\n\n            if (that.options.autoSync && (action === \"add\" || action === \"remove\" || action === \"itemchange\")) {\n\n                var handler = function(args) {\n                    if (args.action === \"sync\") {\n                        that.unbind(\"change\", handler);\n                        that._updateTotalForAction(action, e.items);\n                    }\n                };\n\n                that.first(\"change\", handler);\n\n                that.sync();\n\n            } else {\n                that._updateTotalForAction(action, e ? e.items : []);\n\n                that._process(that._data, e);\n            }\n        },\n\n        _calculateAggregates: function (data, options) {\n            options = options || {};\n\n            var query = new Query(data),\n                aggregates = options.aggregate,\n                filter = options.filter;\n\n            if (filter) {\n                query = query.filter(filter);\n            }\n\n            return query.aggregate(aggregates);\n        },\n\n        _process: function (data, e) {\n            var that = this,\n                options = {},\n                result;\n\n            if (that.options.serverPaging !== true) {\n                options.skip = that._skip;\n                options.take = that._take || that._pageSize;\n\n                if(options.skip === undefined && that._page !== undefined && that._pageSize !== undefined) {\n                    options.skip = (that._page - 1) * that._pageSize;\n                }\n\n                if (that.options.useRanges) {\n                    options.skip = that.currentRangeStart();\n                }\n            }\n\n            if (that.options.serverSorting !== true) {\n                options.sort = that._sort;\n            }\n\n            if (that.options.serverFiltering !== true) {\n                options.filter = that._filter;\n            }\n\n            if (that.options.serverGrouping !== true) {\n                options.group = that._group;\n            }\n\n            if (that.options.serverAggregates !== true) {\n                options.aggregate = that._aggregate;\n            }\n\n            if (that.options.serverGrouping) {\n                that._clearEmptyGroups(data);\n            }\n\n            options.groupPaging = that._groupPaging;\n\n            if (that._isGroupPaged() && e && (e.action === \"page\" || e.action === \"expandGroup\" || e.action === \"collapseGroup\")) {\n                result = that._queryProcess(data, {\n                    aggregate: that._aggregate\n                });\n            } else {\n                result = that._queryProcess(data, options);\n            }\n\n            if (that.options.serverAggregates !== true) {\n                // for performance reasons, calculate aggregates for part of the data only after query process\n                // this is necessary in the TreeList when paging\n                that._aggregateResult = that._calculateAggregates(result.dataToAggregate || data, options);\n            }\n\n            that._setView(result, options, e);\n\n            that._setFilterTotal(result.total, false);\n\n            e = e || {};\n\n            e.items = e.items || that._view;\n\n            that.trigger(CHANGE, e);\n        },\n\n        _setView: function (result, options, e) {\n            var that = this;\n\n            if (that._isGroupPaged() && !that._isServerGrouped()) {\n                if (e && (e.action === \"page\" || e.action === \"expandGroup\" || e.action === \"collapseGroup\")) {\n                    that.view(result.data);\n                    that._updateOuterRangesLength();\n                } else {\n                    that._ranges = [];\n                    var query = new Query(result.data);\n                    that._addRange(that._observe(result.data));\n\n                    if (options.skip + options.take > result.data.length) {\n                        options.skip = result.data.length - options.take;\n                    }\n\n                    that.view(query.range(options.skip, options.take).toArray());\n                }\n\n            } else {\n                that.view(result.data);\n            }\n        },\n\n        _clearEmptyGroups: function(data) {\n            for (var idx = data.length - 1; idx >=0; idx--) {\n                var group = data[idx];\n                if (group.hasSubgroups) {\n                    this._clearEmptyGroups(group.items);\n                }\n                \n                if (group.items && !group.items.length && !group.itemCount) {\n                    splice.apply(group.parent(), [idx, 1]);\n                }\n            }\n        },\n\n        _queryProcess: function(data, options) {\n            if (this.options.inPlaceSort) {\n                return Query.process(data, options, this.options.inPlaceSort);\n            }\n            else {\n                return Query.process(data, options);\n            }\n        },\n\n        _mergeState: function(options) {\n            var that = this;\n\n            if (options !== undefined) {\n                that._pageSize = options.pageSize;\n                that._page = options.page;\n                that._sort = options.sort;\n                that._filter = options.filter;\n                that._group = options.group;\n                that._aggregate = options.aggregate;\n                that._skip = that._currentRangeStart = options.skip;\n                that._take = options.take;\n\n                if(that._skip === undefined) {\n                    that._skip = that._currentRangeStart = that.skip();\n                    options.skip = that.skip();\n                }\n\n                if(that._take === undefined && that._pageSize !== undefined) {\n                    that._take = that._pageSize;\n                    options.take = that._take;\n                }\n\n                if(that.options.virtual) {\n                    options.virtual = that.options.virtual;\n                }\n\n                if (options.sort) {\n                    that._sort = options.sort = normalizeSort(options.sort);\n                    that._sortFields = sortFields(options.sort);\n                }\n\n                if (options.filter) {\n                    that._filter = options.filter = (that.options.accentFoldingFiltering && !$.isEmptyObject(options.filter)) ? $.extend({}, normalizeFilter(options.filter), { accentFoldingFiltering: that.options.accentFoldingFiltering}) : normalizeFilter(options.filter);\n                }\n\n                if (options.group) {\n                    that._group = options.group = normalizeGroup(options.group);\n                }\n                if (options.aggregate) {\n                    that._aggregate = options.aggregate = normalizeAggregate(options.aggregate);\n                }\n            }\n            return options;\n        },\n\n        query: function(options) {\n            var result;\n            var remote = this.options.serverSorting || this.options.serverPaging || this.options.serverFiltering || this.options.serverGrouping || this.options.serverAggregates;\n\n            if (remote || ((this._data === undefined || this._data.length === 0) && !this._destroyed.length)) {\n                if (this.options.endless) {\n                    var moreItemsCount = options.pageSize - this.pageSize();\n                    if (moreItemsCount > 0) {\n                        moreItemsCount = this.pageSize();\n                        options.page = options.pageSize / moreItemsCount;\n                        options.pageSize = moreItemsCount;\n                    } else {\n                        options.page = 1;\n                        this.options.endless = false;\n                    }\n                }\n                return this.read(this._mergeState(options));\n            }\n\n            var isPrevented = this.trigger(REQUESTSTART, { type: \"read\" });\n            if (!isPrevented) {\n                this.trigger(PROGRESS);\n                if (options) {\n                    options.groupPaging = this._groupPaging;\n                }\n                result = this._queryProcess(this._data, this._mergeState(options));\n\n                this._setFilterTotal(result.total, true);\n\n                this._aggregateResult = this._calculateAggregates(result.dataToAggregate || this._data, options);\n                this._setView(result, options);\n                this.trigger(REQUESTEND, { type: \"read\" });\n                this.trigger(CHANGE, { items: result.data, action: options ? options.action : \"\" });\n            }\n\n            return $.Deferred().resolve(isPrevented).promise();\n        },\n\n        _hasExpandedSubGroups: function (group) {\n            var result = false;\n            var length = group.items ? group.items.length : 0;\n\n            if (!group.hasSubgroups) {\n                return false;\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (this._groupsState[group.items[i].uid]) {\n                    result = true;\n                    break;\n                }\n            }\n            return result;\n        },\n\n        _findGroupedRange: function (data, result, options, parents, callback) {\n            var that = this;\n            var length = data.length;\n            var group;\n            var current;\n            var itemsLength;\n            var groupCount;\n            var itemsToSkip;\n\n            for (var i = 0; i < length; i++) {\n                group = data[i];\n\n                if (options.taken >= options.take) {\n                    break;\n                }\n\n                if (!that._getGroupByUid(group.uid)) {\n                    that._groupsFlat.push(group);\n                }\n\n                if (that._groupsState[group.uid]) {\n                    if (that._isServerGroupPaged()) {\n                       if (that._fetchGroupItems(group, options, parents, callback)) {\n                            that._fetchingGroupItems = true;\n                            return;\n                       }\n                       groupCount = (group.subgroupCount || group.itemCount) + 1;\n                       itemsToSkip = options.skip - options.skipped;\n                       if (!that._hasExpandedSubGroups(group) && itemsToSkip > groupCount) {\n                           options.skipped += groupCount;\n                           continue;\n                       }\n                    }\n\n                    if (options.includeParents && options.skipped < options.skip) {\n                        options.skipped++;\n                        group.excludeHeader = true;\n                    } else if (options.includeParents) {\n                        options.taken++;\n                        group.excludeHeader = false;\n                    }\n\n                    if (group.hasSubgroups && group.items && group.items.length) {\n                        group.currentItems = [];\n\n                        if (!parents) {\n                            parents = [];\n                        }\n                        parents.push(group);\n\n                        that._findGroupedRange(group.items, group.currentItems, options, parents, callback);\n                        parents.pop();\n\n                        if (group.currentItems.length || options.taken > 0) {\n                            result.push(group);\n                        } else {\n                            group.excludeHeader = false;\n                        }\n                    } else {\n                        current = [];\n                        itemsLength = group.items.length;\n\n                        for (var j = 0; j < itemsLength; j++) {\n                            if (options.skipped < options.skip) {\n                                options.skipped++;\n                                continue;\n                            }\n\n                            if (options.taken >= options.take) {\n                                break;\n                            }\n                            current.push(group.items[j]);\n                            options.taken++;\n                        }\n\n                        if (current.length || options.taken > 0) {\n                            group.currentItems = current;\n                            result.push(group);\n                        } else {\n                            group.excludeHeader = false;\n                        }\n                    }\n                } else {\n                    if (options.skipped < options.skip) {\n                        options.skipped++;\n                        continue;\n                    }\n                    result.push(group);\n                    options.taken++;\n                }\n            }\n        },\n\n        _expandedSubGroupItemsCount: function (group, end, includeCurrentItems) {\n            var that = this;\n            var result = 0;\n            var subGroup;\n            var endSpecified = typeof end === \"number\";\n            var length = endSpecified ? end : group.subgroupCount;\n            var temp;\n\n            if (!group.hasSubgroups) {\n                return result;\n            }\n\n            for (var i = 0; i < length; i++) {\n                subGroup = group.items[i];\n\n                if (!subGroup) {\n                    break;\n                }\n\n                if (subGroup.hasSubgroups && that._groupsState[group.uid]) {\n                    temp = that._expandedSubGroupItemsCount(subGroup, length, true);\n                    result += temp;\n\n                    if (endSpecified) {\n                        length -= temp;\n                    }\n                } else if (!subGroup.hasSubgroups && that._groupsState[subGroup.uid]) {\n                    temp = subGroup.items ? subGroup.items.length : 0;\n                    result += temp;\n                    if (endSpecified) {\n                        length -= temp;\n                    }\n                }\n\n                if (includeCurrentItems) {\n                    result += 1;\n                    if (endSpecified) {\n                        length -= 1;\n                    }\n                }\n\n                if (endSpecified && result > length) {\n                    return result;\n                }\n            }\n\n            return result;\n        },\n\n        _fetchGroupItems: function(group, options, parents, callback) {\n            var that = this;\n            var groupItemsSkip;\n            var firstItem;\n            var lastItem;\n            var groupItemCount = group.hasSubgroups ? group.subgroupCount : group.itemCount;\n            var take = options.take;\n            var skipped = options.skipped;\n            var pageSize = that.take();\n            var expandedSubGroupItemsCount;\n\n            if (options.includeParents) {\n                if (skipped < options.skip) {\n                    skipped += 1;\n                } else {\n                    take -= 1;\n                }\n            }\n\n            if (!group.items || (group.items && !group.items.length)) {\n                that.getGroupItems(group, options, parents, callback, 0);\n                return true;\n            } else {\n                expandedSubGroupItemsCount = this._expandedSubGroupItemsCount(group, options.skip - skipped);\n                groupItemsSkip = Math.max(options.skip - (skipped + expandedSubGroupItemsCount), 0);\n\n                if (groupItemsSkip >= groupItemCount) {\n                    return false;\n                }\n\n                firstItem = group.items[groupItemsSkip];\n                lastItem = group.items[Math.min(groupItemsSkip + take, groupItemCount - 1)];\n\n                if (firstItem.notFetched) {\n                    that.getGroupItems(group, options, parents, callback, math.max(math.floor(groupItemsSkip / pageSize), 0) * pageSize, math.round((groupItemsSkip + pageSize) / pageSize));\n                    return true;\n                }\n\n                if (lastItem.notFetched) {\n                    that.getGroupItems(group, options, parents, callback, math.max(math.floor((groupItemsSkip + pageSize) / pageSize), 0) * pageSize, math.round((groupItemsSkip + pageSize) / pageSize));\n                    return true;\n                }\n            }\n        },\n\n        getGroupItems: function(group, options, parents, callback, groupItemsSkip, page) {\n            var that = this;\n            var take;\n            var filter;\n            var data;\n            var subgroups;\n\n            if (!group.items) {\n                group.items = [];\n            }\n\n            take = that.take();\n            filter = this._composeItemsFilter(group, parents);\n            data = {\n                page: page || 1,\n                pageSize: take,\n                skip: groupItemsSkip,\n                take: take,\n                filter: filter,\n                aggregate: that._aggregate,\n                sort: that._sort\n            };\n            subgroups = that.findSubgroups(group);\n\n            if (subgroups && subgroups.length) {\n                data.group = subgroups;\n                data.groupPaging = true;\n            }\n\n            clearTimeout(that._timeout);\n            that._timeout = setTimeout(function () {\n                that._queueRequest(data, function () {\n                    if (!that.trigger(REQUESTSTART, {\n                            type: \"read\"\n                        })) {\n                        that.transport.read({\n                            data: data,\n                            success: that._groupItemsSuccessHandler(group, options.skip, that.take(), callback, groupItemsSkip),\n                            error: function () {\n                                var args = slice.call(arguments);\n                                that.error.apply(that, args);\n                            }\n                        });\n                    } else {\n                        that._dequeueRequest();\n                    }\n                });\n            }, 100);\n        },\n\n        _groupItemsSuccessHandler: function(group, skip, take, callback, groupItemsSkip) {\n            var that = this;\n            var timestamp = that._timeStamp();\n            callback = isFunction(callback) ? callback : noop;\n            var totalField = that.options.schema && that.options.schema.total ? that.options.schema.total : \"Total\";\n\n            return function (data) {\n                var temp;\n                var model = Model.define(that.options.schema.model);\n                var totalCount;\n\n                that._dequeueRequest();\n\n                that.trigger(REQUESTEND, {\n                    response: data,\n                    type: \"read\"\n                });\n\n                if (isFunction(totalField)) {\n                    totalCount = totalField(data);\n                } else {\n                    totalCount = data[totalField];\n                }\n\n                data = that.reader.parse(data);\n\n                if (group.hasSubgroups) {\n                    temp = that.reader.groups(data);\n                    group.subgroupCount = totalCount;\n                } else {\n                    temp = that.reader.data(data);\n                    temp = temp.map(function (item) {\n                        return new model(item);\n                    });\n                }\n\n                group.items.omitChangeEvent = true;\n                for (var i = 0; i < totalCount; i++) {\n                    if (i >= groupItemsSkip && i < (groupItemsSkip + take) ) {\n                        group.items.splice(i, 1, temp[i - groupItemsSkip]);\n                    } else {\n                        if (!group.items[i]) {\n                            group.items.splice(i, 0, { notFetched: true });\n                        }\n                    }\n                }\n                group.items.omitChangeEvent = false;\n\n                that._updateRangePristineData(group);\n                that._fetchingGroupItems = false;\n\n                if (!group.countAdded) {\n                    that._serverGroupsTotal += totalCount;\n                    group.countAdded = true;\n                }\n\n                that.range(skip, take, callback, \"expandGroup\");\n\n                if (timestamp >= that._currentRequestTimeStamp || !that._skipRequestsInProgress) {\n                    that.trigger(CHANGE, {});\n                }\n            };\n        },\n\n        findSubgroups: function(group) {\n            var indexOfCurrentGroup = this._group.map(function (g) {\n                return g.field;\n            }).indexOf(group.field);\n\n            return this._group.slice(indexOfCurrentGroup + 1, this._group.length);\n        },\n\n        _composeItemsFilter: function(group, parents) {\n            var filter = this.filter() || {\n                logic: \"and\",\n                filters: []\n            };\n\n            filter = extend(true, {}, filter);\n            filter.filters.push({\n                field: group.field,\n                operator: \"eq\",\n                value: group.value\n            });\n\n            if (parents) {\n                for (var i = 0; i < parents.length; i++) {\n                    filter.filters.push({\n                        field: parents[i].field,\n                        operator: \"eq\",\n                        value: parents[i].value\n                    });\n                }\n            }\n\n            return filter;\n        },\n\n        _updateRangePristineData: function(group) {\n            var that = this;\n            var ranges = that._ranges;\n            var rangesLength = ranges.length;\n            var temp;\n            var currentGroup;\n            var range;\n            var dataLength;\n            var indexes;\n            var currIdx;\n\n            for (var i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n                dataLength = range.data.length;\n                indexes = [];\n                temp = null;\n\n                for (var j = 0; j < dataLength; j++) {\n                    currentGroup = range.data[j];\n                    indexes.push(j);\n\n                    if ((currentGroup.uid === group.uid) || (currentGroup.hasSubgroups && currentGroup.items.length && that._containsSubGroup(currentGroup, group, indexes))) {\n                        break;\n                    }\n                    indexes.pop();\n                }\n\n                if (indexes.length) {\n                    temp = ranges[i].pristineData;\n\n                    while (indexes.length > 1) {\n                        currIdx = indexes.splice(0, 1)[0];\n                        temp = temp[currIdx].items;\n                    }\n                    temp[indexes[0]] = that._cloneGroup(group);\n                    break;\n                }\n            }\n        },\n\n        _containsSubGroup: function(group, subgroup, indexes) {\n            var that = this;\n            var length = group.items.length;\n            var currentSubGroup;\n\n            if (group.hasSubgroups && length) {\n                for (var i = 0; i < length; i++) {\n                    currentSubGroup = group.items[i];\n                    indexes.push(i);\n                    if (currentSubGroup.uid === subgroup.uid) {\n                        return true;\n                    } else if (currentSubGroup.hasSubgroups && currentSubGroup.items.length) {\n                        return that._containsSubGroup(currentSubGroup, subgroup, indexes);\n                    }\n                    indexes.pop();\n                }\n            }\n\n        },\n\n        _cloneGroup: function(group) {\n            var that = this;\n            group = typeof group.toJSON == \"function\" ? group.toJSON() : group;\n\n            if (group.items && group.items.length) {\n                group.items = group.items.map(function (item) {\n                    return that._cloneGroup(item);\n                });\n            }\n\n            return group;\n        },\n\n        _setFilterTotal: function(filterTotal, setDefaultValue) {\n            var that = this;\n\n            if (!that.options.serverFiltering) {\n                if (filterTotal !== undefined) {\n                    that._total = filterTotal;\n                } else if (setDefaultValue) {\n                    that._total = that._data.length;\n                }\n            }\n        },\n\n        fetch: function(callback) {\n            var that = this;\n            var fn = function(isPrevented) {\n                if (isPrevented !== true && isFunction(callback)) {\n                    callback.call(that);\n                }\n            };\n\n            return this._query().done(fn);\n        },\n\n        _query: function(options) {\n            var that = this;\n\n            return that.query(extend({}, {\n                page: that.page(),\n                pageSize: that.pageSize(),\n                sort: that.sort(),\n                filter: that.filter(),\n                group: that.group(),\n                aggregate: that.aggregate()\n            }, options));\n        },\n\n        next: function(options) {\n            var that = this,\n                page = that.page(),\n                total = that.total();\n\n            options = options || {};\n\n            if (!page || (total && page + 1 > that.totalPages())) {\n                return;\n            }\n\n            that._skip = that._currentRangeStart = page * that.take();\n\n            page += 1;\n            options.page = page;\n\n            that._query(options);\n\n            return page;\n        },\n\n        prev: function(options) {\n            var that = this,\n                page = that.page();\n\n            options = options || {};\n\n            if (!page || page === 1) {\n                return;\n            }\n\n            that._skip = that._currentRangeStart = that._skip - that.take();\n\n            page -= 1;\n            options.page = page;\n\n            that._query(options);\n\n            return page;\n        },\n\n        page: function(val) {\n            var that = this,\n            skip;\n\n            if(val !== undefined) {\n                val = math.max(math.min(math.max(val, 1), that.totalPages()), 1);\n                var take = that.take();\n\n                if (that._isGroupPaged()) {\n                    val -= 1;\n                    that.range(val * take, take, null, \"page\");\n                    return;\n                }\n                that._query(that._pageableQueryOptions({ page: val }));\n                return;\n            }\n            skip = that.skip();\n\n            return skip !== undefined ? math.round((skip || 0) / (that.take() || 1)) + 1 : undefined;\n        },\n\n        pageSize: function(val) {\n            var that = this;\n\n            if (val !== undefined) {\n                that._query(that._pageableQueryOptions({ pageSize: val, page: 1 }));\n                return;\n            }\n\n            return that.take();\n        },\n\n        sort: function(val) {\n            var that = this;\n\n            if(val !== undefined) {\n                that.trigger(\"sort\");\n                that._query({ sort: val });\n                return;\n            }\n\n            return that._sort;\n        },\n\n        filter: function(val) {\n            var that = this;\n\n            if (val === undefined) {\n                return that._filter;\n            }\n\n            that.trigger(\"reset\");\n            that._query({ filter: val, page: 1 });\n        },\n\n        group: function(val) {\n            var that = this;\n            var options = { group: val };\n\n            if (that._groupPaging) {\n                // clear ranges if ungrouping is performed\n                if (val!== undefined && (!val || !val.length) ) {\n                    that._ranges = [];\n                }\n                options.page = 1;\n            }\n\n            if(val !== undefined) {\n                that._query(options);\n                return;\n            }\n\n            return that._group;\n        },\n\n        getGroupsFlat: function (data) {\n            var idx,\n                result = [],\n                length;\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                var group = data[idx];\n                if (group.hasSubgroups) {\n                    result = result.concat(this.getGroupsFlat(group.items));\n                }\n\n                result.push(group);\n            }\n\n            return result;\n        },\n\n        total: function() {\n            return parseInt(this._total || 0, 10);\n        },\n\n        groupsTotal: function (includeExpanded) {\n            var that = this;\n\n            if (!that._group.length) {\n                return that.total();\n            }\n\n            if (that._isServerGrouped()) {\n                if (that._serverGroupsTotal) {\n                    return that._serverGroupsTotal;\n                }\n                that._serverGroupsTotal = that.total();\n\n                return that._serverGroupsTotal;\n            }\n\n            return that._calculateGroupsTotal(that._ranges.length ? that._ranges[0].data : [], includeExpanded);\n        },\n\n        _calculateGroupsTotal: function (groups, includeExpanded, itemsField, ignoreState) {\n            var that = this;\n            itemsField = itemsField || \"items\";\n            var total;\n            var length;\n\n            if (that._group.length && groups) {\n                total = 0;\n                length = groups.length;\n\n                for (var i = 0; i < length; i++) {\n                    total += that.groupCount(groups[i], includeExpanded, itemsField, ignoreState);\n                }\n                that._groupsTotal = total;\n                return total;\n            }\n\n            that._groupsTotal = that._data.length;\n            return that._groupsTotal;\n        },\n\n        groupCount: function (group, includeExpanded, itemsField, ignoreState) {\n            var that = this;\n            var total = 0;\n\n            if (group.hasSubgroups && that._groupsState[group.uid]) {\n                if (includeExpanded && !group.excludeHeader || ignoreState) {\n                    total += 1;\n                }\n\n                group[itemsField].forEach(function (subgroup) {\n                    total += that.groupCount(subgroup, includeExpanded, itemsField, ignoreState);\n                });\n            } else {\n                if (that._groupsState[group.uid]) {\n                    if (includeExpanded && !group.excludeHeader || ignoreState) {\n                        total++;\n                    }\n                    total += group[itemsField] ? group[itemsField].length : 0;\n                } else {\n                    total++;\n                }\n            }\n            return total;\n        },\n\n        countGroupRange: function (range) {\n            var total = 0;\n            var length = range.length;\n\n            for (var i = 0; i < length; i++) {\n                total += this.groupCount(range[i], true);\n            }\n\n            return total;\n        },\n\n        aggregate: function(val) {\n            var that = this;\n\n            if(val !== undefined) {\n                that._query({ aggregate: val });\n                return;\n            }\n\n            return that._aggregate;\n        },\n\n        aggregates: function() {\n            var result = this._aggregateResult;\n\n            if (isEmptyObject(result)) {\n                result = this._emptyAggregates(this.aggregate());\n            }\n\n            return result;\n        },\n\n        _emptyAggregates: function(aggregates) {\n            var result = {};\n\n            if (!isEmptyObject(aggregates)) {\n                var aggregate = {};\n\n                if (!isArray(aggregates)){\n                    aggregates = [aggregates];\n                }\n\n                for (var idx = 0; idx <aggregates.length; idx++) {\n                    aggregate[aggregates[idx].aggregate] = 0;\n                    result[aggregates[idx].field] = aggregate;\n                }\n            }\n\n            return result;\n        },\n\n        _pageableQueryOptions: function(options) {\n            return options;\n        },\n\n        _wrapInEmptyGroup: function(model) {\n            var groups = this.group(),\n                parent,\n                group,\n                idx,\n                length;\n\n            for (idx = groups.length-1, length = 0; idx >= length; idx--) {\n                group = groups[idx];\n                parent = {\n                    value: model.get ? model.get(group.field) : model[group.field],\n                    field: group.field,\n                    items: parent ? [parent] : [model],\n                    hasSubgroups: !!parent,\n                    aggregates: this._emptyAggregates(group.aggregates)\n                };\n            }\n\n            return parent;\n        },\n\n        totalPages: function() {\n            var that = this,\n                pageSize = that.pageSize() || that.total(),\n                total = that._isGroupPaged() ? that.groupsTotal(true) : that.total();\n\n            return math.ceil((total || 0) / pageSize);\n        },\n\n        inRange: function(skip, take) {\n            var that = this,\n                end = math.min(skip + take, that.total());\n\n            if (!that.options.serverPaging && that._data.length > 0) {\n                return true;\n            }\n\n            return that._findRange(skip, end).length > 0;\n        },\n\n        lastRange: function() {\n            var ranges = this._ranges;\n            return ranges[ranges.length - 1] || { start: 0, end: 0, data: [] };\n        },\n\n        firstItemUid: function() {\n            var ranges = this._ranges;\n            return ranges.length && ranges[0].data.length && ranges[0].data[0].uid;\n        },\n\n        enableRequestsInProgress: function() {\n            this._skipRequestsInProgress = false;\n        },\n\n        _timeStamp: function() {\n            return new Date().getTime();\n        },\n\n        range: function(skip, take, callback, action) {\n            this._currentRequestTimeStamp = this._timeStamp();\n            this._skipRequestsInProgress = true;\n            var total = this._isGroupPaged() ? this.groupsTotal(true) : this.total();\n\n            if (action === \"expandGroup\" || action === \"collapseGroup\") {\n                this._updateOuterRangesLength();\n            }\n\n            skip = math.min(skip || 0, total);\n            callback = isFunction(callback) ? callback : noop;\n\n            var that = this,\n                pageSkip = math.max(math.floor(skip / take), 0) * take,\n                size = math.min(pageSkip + take, total),\n                data;\n\n            data = that._findRange(skip, math.min(skip + take, total), callback);\n\n            if ((data.length || total === 0) && !that._fetchingGroupItems) {\n                that._processRangeData(data, skip, take, that._originalPageSkip || pageSkip, that._originalSize || size, {\n                    action: action\n                });\n                that._originalPageSkip = null;\n                that._originalSize = null;\n                callback();\n                return;\n            }\n\n            if (that._isGroupPaged()) {\n                that._originalPageSkip = pageSkip;\n                that._originalSize = size;\n\n                pageSkip = math.max(math.floor(that._adjustPageSkip(skip, take) / take), 0) * take;\n                size = math.min(pageSkip + take, total);\n            }\n\n            if (take !== undefined && !that._fetchingGroupItems) {\n                if ((that._isGroupPaged() && !that._groupRangeExists(pageSkip, take)) || !that._rangeExists(pageSkip, size)) {\n                    that.prefetch(pageSkip, take, function() {\n                        if (skip > pageSkip && size < that.total() && !that._rangeExists(size, math.min(size + take, that.total()))) {\n                            that.prefetch(size, take, function() {\n                                that.range(skip, take, callback );\n                            });\n                        } else {\n                            that.range(skip, take, callback);\n                        }\n                    });\n                } else if (pageSkip < skip) {\n                    that.prefetch(size, take, function() {\n                        that.range(skip, take, callback );\n                    });\n                }\n            }\n        },\n\n        _findRange: function(start, end, callback) {\n            var that = this,\n                ranges = that._ranges,\n                range,\n                data = [],\n                skipIdx,\n                takeIdx,\n                startIndex,\n                endIndex,\n                rangeData,\n                rangeEnd,\n                processed,\n                options = that.options,\n                remote = options.serverSorting || options.serverPaging || options.serverFiltering || options.serverGrouping || options.serverAggregates,\n                flatData,\n                count,\n                length,\n                groupMapOptions = {\n                        take: end - start,\n                        skip: start,\n                        skipped: 0,\n                        taken: 0,\n                        includeParents: true\n                    },\n                prevRangeEnd,\n                isGroupPaged = that._isGroupPaged(),\n                startField = isGroupPaged ? \"outerStart\" : \"start\",\n                endField = isGroupPaged ? \"outerEnd\" : \"end\",\n                currentDataLength;\n\n            for (skipIdx = 0, length = ranges.length; skipIdx < length; skipIdx++) {\n                range = ranges[skipIdx];\n\n                if (isGroupPaged) {\n                    if (range.outerStart >= end) {\n                        return [];\n                    }\n\n                    if (start > range.outerEnd) {\n                        groupMapOptions.skipped += range.outerEnd - (prevRangeEnd || 0);\n                        prevRangeEnd = range.outerEnd;\n                        continue;\n                    }\n\n                    if (typeof prevRangeEnd !== \"undefined\" && prevRangeEnd != range.outerStart) {\n                        groupMapOptions.skipped += range.outerStart - prevRangeEnd;\n                    }\n\n                    if (groupMapOptions.skipped > groupMapOptions.skip) {\n                        return [];\n                    }\n\n                    if (typeof prevRangeEnd === \"undefined\" && start > 0 && range.start > 0) {\n                        groupMapOptions.skipped = range.outerStart;\n                    }\n\n                    takeIdx = skipIdx;\n                    while (true) {\n                        this._findGroupedRange(range.data, data, groupMapOptions, null, callback);\n                        currentDataLength = that._calculateGroupsTotal(data, true, \"currentItems\");\n\n                        if (currentDataLength >= groupMapOptions.take) {\n                            return data;\n                        }\n\n                        if (that._fetchingGroupItems) {\n                            return [];\n                        }\n                        takeIdx++;\n\n                        if (ranges[takeIdx] && ranges[takeIdx].outerStart === range.outerEnd) {\n                            range = ranges[takeIdx];\n                        } else {\n                            break;\n                        }\n                    }\n                } else if (start >= range[startField] && start <= range[endField]) {\n                    count = 0;\n\n                    for (takeIdx = skipIdx; takeIdx < length; takeIdx++) {\n                        range = ranges[takeIdx];\n                        flatData = that._flatData(range.data, true);\n\n                        if (flatData.length && start + count >= range.start) {\n                            rangeData = range.data;\n                            rangeEnd = range.end;\n\n                            if (!remote) {\n                                if (options.inPlaceSort) {\n                                    processed = that._queryProcess(range.data, { filter: that.filter() });\n                                } else {\n                                    var sort = normalizeGroupWithoutCompare(that.group() || []).concat(normalizeSort(that.sort() || []));\n                                    processed = that._queryProcess(range.data, { sort: sort, filter: that.filter() });\n                                }\n                                flatData = rangeData = processed.data;\n\n                                if (processed.total !== undefined) {\n                                    rangeEnd = processed.total;\n                                }\n                            }\n\n                            startIndex = 0;\n                            if (start + count > range.start) {\n                                startIndex = (start + count) - range.start;\n                            }\n                            endIndex = flatData.length;\n                            if (rangeEnd > end) {\n                                endIndex = endIndex - (rangeEnd - end);\n                            }\n                            count += endIndex - startIndex;\n                            data = that._mergeGroups(data, rangeData, startIndex, endIndex);\n\n                            if (end <= range.end && count == end - start) {\n                                return data;\n                            }\n                        }\n                    }\n                    break;\n                }\n                prevRangeEnd = range.outerEnd;\n            }\n            return [];\n        },\n\n        _getRangesMismatch: function (pageSkip) {\n            var that = this;\n            var ranges = that._ranges;\n            var mismatch = 0;\n            var i = 0;\n\n            while (true) {\n                var range = ranges[i];\n                if (!range || range.outerStart > pageSkip) {\n                    break;\n                }\n\n                if (range.outerEnd != range.end) {\n                    mismatch = range.outerEnd - range.end;\n                }\n                i++;\n            }\n\n            return mismatch;\n        },\n\n        _mergeGroups: function(data, range, skip, take) {\n            if (this._isServerGrouped()) {\n                var temp = range.toJSON(),\n                    prevGroup;\n\n                if (data.length) {\n                    prevGroup = data[data.length - 1];\n                }\n\n                mergeGroups(prevGroup, temp, skip, take);\n\n                return data.concat(temp);\n            }\n            return data.concat(range.slice(skip, take));\n        },\n\n        _processRangeData: function(data, skip, take, pageSkip, size, eventData) {\n            var that = this;\n\n            that._pending = undefined;\n\n            that._skip = skip > that.skip() && !that._omitPrefetch ? math.min(size, (that.totalPages() - 1) * that.take()) : pageSkip;\n\n            that._currentRangeStart = skip;\n\n            that._take = take;\n\n            var paging = that.options.serverPaging;\n            var sorting = that.options.serverSorting;\n            var filtering = that.options.serverFiltering;\n            var aggregates = that.options.serverAggregates;\n            try {\n                that.options.serverPaging = true;\n                if (!that._isServerGrouped() && !(that.group() && that.group().length)) {\n                    that.options.serverSorting = true;\n                }\n                that.options.serverFiltering = true;\n                that.options.serverPaging = true;\n                that.options.serverAggregates = true;\n\n                if (paging) {\n                    that._detachObservableParents();\n                    that._data = data = that._observe(data);\n                }\n                that._process(data, eventData);\n            } finally {\n                that.options.serverPaging = paging;\n                that.options.serverSorting = sorting;\n                that.options.serverFiltering = filtering;\n                that.options.serverAggregates = aggregates;\n            }\n        },\n\n        skip: function() {\n            var that = this;\n\n            if (that._skip === undefined) {\n                return (that._page !== undefined ? (that._page  - 1) * (that.take() || 1) : undefined);\n            }\n            return that._skip;\n        },\n\n        currentRangeStart: function() {\n            return this._currentRangeStart || 0;\n        },\n\n        take: function() {\n            return this._take || this._pageSize;\n        },\n\n        _prefetchSuccessHandler: function (skip, size, callback, force) {\n            var that = this;\n            var timestamp = that._timeStamp();\n\n            return function(data) {\n                var found = false,\n                    range = { start: skip, end: size, data: [], timestamp: that._timeStamp() },\n                    idx,\n                    length,\n                    temp;\n\n                that._dequeueRequest();\n\n                that.trigger(REQUESTEND, { response: data, type: \"read\" });\n\n                data = that.reader.parse(data);\n\n                temp = that._readData(data);\n\n                if (temp.length) {\n                    for (idx = 0, length = that._ranges.length; idx < length; idx++) {\n                        if (that._ranges[idx].start === skip) {\n                            found = true;\n                            range = that._ranges[idx];\n\n                            if (!that._isGroupPaged()) {\n                                range.pristineData = temp;\n                                range.data = that._observe(temp);\n                                range.end = range.start + that._flatData(range.data, true).length;\n                                that._sortRanges();\n                            }\n\n                            break;\n                        }\n                    }\n\n                    if (!found) {\n                        that._addRange(that._observe(temp), skip);\n                    }\n                }\n\n                that._total = that.reader.total(data);\n\n                if (force || (timestamp >= that._currentRequestTimeStamp || !that._skipRequestsInProgress)) {\n                    if (callback && temp.length) {\n                        callback();\n                    } else {\n                        that.trigger(CHANGE, {});\n                    }\n                }\n            };\n        },\n\n        prefetch: function(skip, take, callback) {\n            var that = this,\n                size = math.min(skip + take, that.total()),\n                options = {\n                    take: take,\n                    skip: skip,\n                    page: skip / take + 1,\n                    pageSize: take,\n                    sort: that._sort,\n                    filter: that._filter,\n                    group: that._group,\n                    aggregate: that._aggregate\n                };\n\n\n            if ((that._isGroupPaged() && !that._isServerGrouped() && that._groupRangeExists(skip, size))) {\n                if (callback) {\n                    callback();\n                }\n                return;\n            }\n\n            if ((that._isServerGroupPaged() && !that._groupRangeExists(skip, size)) || !that._rangeExists(skip, size)) {\n                clearTimeout(that._timeout);\n\n                that._timeout = setTimeout(function() {\n                    that._queueRequest(options, function() {\n                        if (!that.trigger(REQUESTSTART, { type: \"read\" })) {\n                            if (that._omitPrefetch) {\n                                that.trigger(PROGRESS);\n                            }\n                            that.transport.read({\n                                data: that._params(options),\n                                success: that._prefetchSuccessHandler(skip, size, callback),\n                                error: function() {\n                                    var args = slice.call(arguments);\n                                    that.error.apply(that, args);\n                                }\n                            });\n                        } else {\n                            that._dequeueRequest();\n                        }\n                    });\n                }, 100);\n            } else if (callback) {\n                callback();\n            }\n        },\n\n        _multiplePrefetch: function(skip, take, callback) {\n            var that = this,\n                size = math.min(skip + take, that.total()),\n                options = {\n                    take: take,\n                    skip: skip,\n                    page: skip / take + 1,\n                    pageSize: take,\n                    sort: that._sort,\n                    filter: that._filter,\n                    group: that._group,\n                    aggregate: that._aggregate\n                };\n\n            if (!that._rangeExists(skip, size)) {\n                if (!that.trigger(REQUESTSTART, { type: \"read\" })) {\n                    that.transport.read({\n                        data: that._params(options),\n                        success: that._prefetchSuccessHandler(skip, size, callback, true)\n                    });\n                }\n            } else if (callback) {\n                callback();\n            }\n        },\n\n        _adjustPageSkip: function (start, take) {\n            var that = this;\n            var prevRange = that._getPrevRange(start);\n            var result;\n            var total = that.total();\n            var mismatch;\n\n            if (prevRange) {\n                mismatch = that._getRangesMismatch(start);\n\n                if (!mismatch) {\n                    return start;\n                }\n                start -= mismatch;\n            }\n            result = math.max(math.floor(start / take), 0) * take;\n\n            if (result > total) {\n                while (true) {\n                    result -= take;\n                    if (result < total) {\n                        break;\n                    }\n                }\n            }\n            return result;\n        },\n\n        _getNextRange: function (end) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                length;\n\n            for (idx = 0, length = ranges.length; idx < length; idx++) {\n                if (ranges[idx].start <= end && ranges[idx].end >= end) {\n                    return ranges[idx];\n                }\n            }\n        },\n\n        _getPrevRange: function (start) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                range,\n                length = ranges.length;\n\n            for (idx = length - 1; idx >= 0; idx--) {\n                if (ranges[idx].outerStart <= start) {\n                    range = ranges[idx];\n                    break;\n                }\n\n            }\n\n            return range;\n        },\n\n        _rangeExists: function(start, end) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                length;\n\n            for (idx = 0, length = ranges.length; idx < length; idx++) {\n                if (ranges[idx].start <= start && ranges[idx].end >= end) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        _groupRangeExists: function (start, end) {\n            var that = this,\n                ranges = that._ranges,\n                idx,\n                length,\n                availableItemsCount = 0,\n                total = that.groupsTotal(true);\n\n            if (end > total && !that._isServerGrouped()) {\n                end = total;\n            }\n\n            for (idx = 0, length = ranges.length; idx < length; idx++) {\n                var range = ranges[idx];\n                if (range.outerStart <= start && range.outerEnd >= start) {\n                    availableItemsCount += range.outerEnd - start;\n                } else if (range.outerStart <= end && range.outerEnd >= end) {\n                    availableItemsCount += end - range.outerStart;\n                }\n            }\n\n            return availableItemsCount >= end - start;\n        },\n\n        _getCurrentRangeSpan: function() {\n            var that = this;\n            var ranges = that._ranges;\n            var start = that.currentRangeStart();\n            var end = start + (that.take() || 0);\n            var rangeSpan = [];\n            var range;\n            var idx;\n            var length = ranges.length;\n\n            for (idx = 0; idx < length; idx++) {\n                range = ranges[idx];\n\n                if ((range.start <= start && range.end >= start) || (range.start >= start && range.start <= end)) {\n                    rangeSpan.push(range);\n                }\n            }\n\n            return rangeSpan;\n        },\n\n        _removeModelFromRanges: function(model) {\n            var that = this;\n            var range;\n\n            for (var idx = 0, length = this._ranges.length; idx < length; idx++) {\n                range = this._ranges[idx];\n\n                that._removeModelFromRange(range, model);\n            }\n\n            that._updateRangesLength();\n        },\n\n        _removeModelFromRange: function(range, model) {\n            this._eachItem(range.data, function(data) {\n                if (!data) {\n                    return;\n                }\n                for (var idx = 0; idx < data.length; idx++) {\n                    var dataItem = data[idx];\n\n                    if (dataItem.uid && dataItem.uid == model.uid) {\n                        [].splice.call(data, idx, 1);\n                        break;\n                    }\n                }\n            });\n        },\n\n        _insertModelInRange: function(index, model) {\n            var that = this;\n            var ranges = that._ranges || [];\n            var rangesLength = ranges.length;\n            var range;\n            var i;\n\n            for (i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n\n                if (range.start <= index && range.end >= index) {\n                    if (!that._getByUid(model.uid, range.data)) {\n                        if (that._isServerGrouped()) {\n                            range.data.splice(index, 0, that._wrapInEmptyGroup(model));\n                        } else {\n                            range.data.splice(index, 0, model);\n                        }\n                    }\n\n                    break;\n                }\n            }\n\n            that._updateRangesLength();\n        },\n\n        _updateRangesLength: function() {\n            var that = this;\n            var ranges = that._ranges || [];\n            var rangesLength = ranges.length;\n            var mismatchFound = false;\n            var mismatchLength = 0;\n            var lengthDifference = 0;\n            var rangeLength;\n            var range;\n            var i;\n\n            for (i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n                rangeLength = that._isGroupPaged() ? range.data.length : that._flatData(range.data, true).length;\n                lengthDifference = rangeLength - math.abs(range.end - range.start);\n\n                if (!mismatchFound && lengthDifference !== 0) {\n                    mismatchFound = true;\n                    mismatchLength = lengthDifference;\n                    range.end += mismatchLength;\n                    continue;\n                }\n\n                if (mismatchFound) {\n                    range.start += mismatchLength;\n                    range.end += mismatchLength;\n                }\n            }\n        },\n\n        _updateOuterRangesLength: function () {\n            var that = this;\n            var ranges = that._ranges || [];\n            var rangesLength = ranges.length;\n            var mismatchLength = 0;\n            var range;\n            var i;\n            var prevRange;\n            var rangeLength;\n\n            for (i = 0; i < rangesLength; i++) {\n                range = ranges[i];\n                rangeLength = that._isGroupPaged() ? that._calculateGroupsTotal(range.data, true, \"items\", true) : that._flatData(range.data, true).length;\n\n                if (prevRange) {\n                    if (prevRange.end != range.start) {\n                        mismatchLength = range.start - prevRange.end;\n                    }\n                    range.outerStart = prevRange.outerEnd + mismatchLength;\n                    mismatchLength = 0;\n                } else {\n                    range.outerStart = range.start;\n                }\n\n                range.outerEnd = range.outerStart + rangeLength;\n                prevRange = range;\n            }\n        }\n    });\n\n    var Transport = {};\n\n    Transport.create = function(options, data, dataSource) {\n        var transport,\n            transportOptions = options.transport ? $.extend({}, options.transport) : null;\n\n        if (transportOptions) {\n            transportOptions.read = typeof transportOptions.read === STRING ? { url: transportOptions.read } : transportOptions.read;\n\n            if (options.type === \"jsdo\") {\n                transportOptions.dataSource = dataSource;\n            }\n\n            if (options.type) {\n                kendo.data.transports = kendo.data.transports || {};\n                kendo.data.schemas = kendo.data.schemas || {};\n\n                if (!kendo.data.transports[options.type]) {\n                    kendo.logToConsole(\"Unknown DataSource transport type '\" + options.type + \"'.\\nVerify that registration scripts for this type are included after Kendo UI on the page.\", \"warn\");\n                } else if (!isPlainObject(kendo.data.transports[options.type])) {\n                    transport = new kendo.data.transports[options.type](extend(transportOptions, { data: data }));\n                } else {\n                    transportOptions = extend(true, {}, kendo.data.transports[options.type], transportOptions);\n                }\n\n                options.schema = extend(true, {}, kendo.data.schemas[options.type], options.schema);\n            }\n\n            if (!transport) {\n                transport = isFunction(transportOptions.read) ? transportOptions : new RemoteTransport(transportOptions);\n            }\n        } else {\n            transport = new LocalTransport({ data: options.data || [] });\n        }\n        return transport;\n    };\n\n    DataSource.create = function(options) {\n        if (isArray(options) || options instanceof ObservableArray) {\n           options = { data: options };\n        }\n\n        var dataSource = options || {},\n            data = dataSource.data,\n            fields = dataSource.fields,\n            table = dataSource.table,\n            select = dataSource.select,\n            idx,\n            length,\n            model = {},\n            field;\n\n        if (!data && fields && !dataSource.transport) {\n            if (table) {\n                data = inferTable(table, fields);\n            } else if (select) {\n                data = inferSelect(select, fields);\n\n                if (dataSource.group === undefined && data[0] && data[0].optgroup !== undefined) {\n                    dataSource.group = \"optgroup\";\n                }\n            }\n        }\n\n        if (kendo.data.Model && fields && (!dataSource.schema || !dataSource.schema.model)) {\n            for (idx = 0, length = fields.length; idx < length; idx++) {\n                field = fields[idx];\n                if (field.type) {\n                    model[field.field] = field;\n                }\n            }\n\n            if (!isEmptyObject(model)) {\n                dataSource.schema = extend(true, dataSource.schema, { model:  { fields: model } });\n            }\n        }\n\n        dataSource.data = data;\n\n        select = null;\n        dataSource.select = null;\n        table = null;\n        dataSource.table = null;\n\n        return dataSource instanceof DataSource ? dataSource : new DataSource(dataSource);\n    };\n\n    function inferSelect(select, fields) {\n        select = $(select)[0];\n        var options = select.options;\n        var firstField = fields[0];\n        var secondField = fields[1];\n\n        var data = [];\n        var idx, length;\n        var optgroup;\n        var option;\n        var record;\n        var value;\n\n        for (idx = 0, length = options.length; idx < length; idx++) {\n            record = {};\n            option = options[idx];\n            optgroup = option.parentNode;\n\n            if (optgroup === select) {\n                optgroup = null;\n            }\n\n            if (option.disabled || (optgroup && optgroup.disabled)) {\n                continue;\n            }\n\n            if (optgroup) {\n                record.optgroup = optgroup.label;\n            }\n\n            record[firstField.field] = option.text;\n\n            value = option.attributes.value;\n\n            if (value && value.specified) {\n                value = option.value;\n            } else {\n                value = option.text;\n            }\n\n            record[secondField.field] = value;\n\n            data.push(record);\n        }\n\n        return data;\n    }\n\n    function inferTable(table, fields) {\n        var tbody = $(table)[0].tBodies[0],\n        rows = tbody ? tbody.rows : [],\n        idx,\n        length,\n        fieldIndex,\n        fieldCount = fields.length,\n        data = [],\n        cells,\n        record,\n        cell,\n        empty;\n\n        for (idx = 0, length = rows.length; idx < length; idx++) {\n            record = {};\n            empty = true;\n            cells = rows[idx].cells;\n\n            for (fieldIndex = 0; fieldIndex < fieldCount; fieldIndex++) {\n                cell = cells[fieldIndex];\n                if(cell.nodeName.toLowerCase() !== \"th\") {\n                    empty = false;\n                    record[fields[fieldIndex].field] = cell.innerHTML;\n                }\n            }\n            if(!empty) {\n                data.push(record);\n            }\n        }\n\n        return data;\n    }\n\n    var Node = Model.define({\n        idField: \"id\",\n\n        init: function(value) {\n            var that = this,\n                hasChildren = that.hasChildren || value && value.hasChildren,\n                childrenField = \"items\",\n                childrenOptions = {};\n\n            kendo.data.Model.fn.init.call(that, value);\n\n            if (typeof that.children === STRING) {\n                childrenField = that.children;\n            }\n\n            childrenOptions = {\n                schema: {\n                    data: childrenField,\n                    model: {\n                        hasChildren: hasChildren,\n                        id: that.idField,\n                        fields: that.fields\n                    }\n                }\n            };\n\n            if (typeof that.children !== STRING) {\n                extend(childrenOptions, that.children);\n            }\n\n            childrenOptions.data = value;\n\n            if (!hasChildren) {\n                hasChildren = childrenOptions.schema.data;\n            }\n\n            if (typeof hasChildren === STRING) {\n                hasChildren = kendo.getter(hasChildren);\n            }\n\n            if (isFunction(hasChildren)) {\n                var hasChildrenObject = hasChildren.call(that, that);\n\n                if(hasChildrenObject && hasChildrenObject.length === 0){\n                    that.hasChildren = false;\n                } else{\n                    that.hasChildren = !!hasChildrenObject;\n                }\n            }\n\n            that._childrenOptions = childrenOptions;\n\n            if (that.hasChildren) {\n                that._initChildren();\n            }\n\n            that._loaded = !!(value && value._loaded);\n        },\n\n        _initChildren: function() {\n            var that = this;\n            var children, transport, parameterMap;\n\n            if (!(that.children instanceof HierarchicalDataSource)) {\n                children = that.children = new HierarchicalDataSource(that._childrenOptions);\n\n                transport = children.transport;\n                parameterMap = transport.parameterMap;\n\n                transport.parameterMap = function(data, type) {\n                    data[that.idField || \"id\"] = that.id;\n\n                    if (parameterMap) {\n                        data = parameterMap.call(that, data, type);\n                    }\n\n                    return data;\n                };\n\n                children.parent = function(){\n                    return that;\n                };\n\n                children.bind(CHANGE, function(e){\n                    e.node = e.node || that;\n                    that.trigger(CHANGE, e);\n                });\n\n                children.bind(ERROR, function(e){\n                    var collection = that.parent();\n\n                    if (collection) {\n                        e.node = e.node || that;\n                        collection.trigger(ERROR, e);\n                    }\n                });\n\n                children.bind(ITEMSLOADED, function (e) {\n                    var collection = that.parent();\n\n                    if (collection) {\n                        collection.trigger(ITEMSLOADED, e);\n                    }\n                });\n\n                that._updateChildrenField();\n            }\n        },\n\n        append: function(model) {\n            this._initChildren();\n            this.loaded(true);\n            this.children.add(model);\n        },\n\n        hasChildren: false,\n\n        level: function() {\n            var parentNode = this.parentNode(),\n                level = 0;\n\n            while (parentNode && parentNode.parentNode) {\n                level++;\n                parentNode = parentNode.parentNode ? parentNode.parentNode() : null;\n            }\n\n            return level;\n        },\n\n        _updateChildrenField: function() {\n            var fieldName = this._childrenOptions.schema.data;\n\n            this[fieldName || \"items\"] = this.children.data();\n        },\n\n        _childrenLoaded: function() {\n            this._loaded = true;\n\n            this._updateChildrenField();\n        },\n\n        load: function() {\n            var options = {};\n            var method = \"_query\";\n            var children, promise;\n\n            if (this.hasChildren) {\n                this._initChildren();\n\n                children = this.children;\n\n                options[this.idField || \"id\"] = this.id;\n\n                if (!this._loaded) {\n                    children._data = undefined;\n                    method = \"read\";\n                }\n\n                children.one(CHANGE, this._childrenLoaded.bind(this));\n\n                if(this._matchFilter){\n                    options.filter = { field: '_matchFilter', operator: 'eq', value: true };\n                }\n\n                promise = children[method](options);\n                if (!this._loaded) {\n                    this.trigger(ITEMLOAD, {promise: promise, node: this});\n                }\n            } else {\n                this.loaded(true);\n            }\n\n            return promise || $.Deferred().resolve().promise();\n        },\n\n        parentNode: function() {\n            var array = this.parent();\n\n            return array.parent();\n        },\n\n        loaded: function(value) {\n            if (value !== undefined) {\n                this._loaded = value;\n            } else {\n                return this._loaded;\n            }\n        },\n\n        shouldSerialize: function(field) {\n            return Model.fn.shouldSerialize.call(this, field) &&\n                    field !== \"children\" &&\n                    field !== \"_loaded\" &&\n                    field !== \"hasChildren\" &&\n                    field !== \"_childrenOptions\";\n        }\n    });\n\n    function dataMethod(name) {\n        return function() {\n            var data = this._data,\n                result = DataSource.fn[name].apply(this, slice.call(arguments));\n\n            if (this._data != data) {\n                this._attachBubbleHandlers();\n            }\n\n            return result;\n        };\n    }\n\n    var HierarchicalDataSource = DataSource.extend({\n        init: function(options) {\n            var node = Node.define({\n                children: options\n            });\n\n            if(options.filter && !options.serverFiltering){\n                this._hierarchicalFilter = options.filter;\n                options.filter = null;\n            }\n\n            DataSource.fn.init.call(this, extend(true, {}, { schema: { modelBase: node, model: node } }, options));\n\n            this._attachBubbleHandlers();\n        },\n\n        _attachBubbleHandlers: function() {\n            var that = this;\n\n            that._data.bind(ERROR, function(e) {\n                that.trigger(ERROR, e);\n            });\n\n            that._data.bind(ITEMSLOADED, function(e) {\n                that.trigger(ITEMSLOADED, e);\n            });\n        },\n\n        loading: function () {\n            if(this._data) {\n                return this._data.loading() || this._childrenLoading();\n            }\n            return false;\n        },\n\n        _childrenLoading: function () {\n            var isLoading = false;\n            this._data.forEach(function (node) {\n                if(node.hasChildren && node.children.loading()) {\n                    isLoading = true;\n                }\n            });\n            return isLoading;\n        },\n\n        read: function(data) {\n            var result = DataSource.fn.read.call(this, data);\n\n            if(this._hierarchicalFilter){\n                if(this._data && this._data.length > 0){\n                    this.filter(this._hierarchicalFilter);\n                }else{\n                    this.options.filter = this._hierarchicalFilter;\n                    this._filter = normalizeFilter(this.options.filter);\n                    this._hierarchicalFilter = null;\n                }\n            }\n\n            return result;\n        },\n\n        remove: function(node){\n            var parentNode = node.parentNode(),\n                dataSource = this,\n                result;\n\n            if (parentNode && parentNode._initChildren) {\n                dataSource = parentNode.children;\n            }\n\n            result = DataSource.fn.remove.call(dataSource, node);\n\n            if (parentNode && !dataSource.data().length) {\n                parentNode.hasChildren = false;\n            }\n\n            return result;\n        },\n\n        success: dataMethod(\"success\"),\n\n        data: dataMethod(\"data\"),\n\n        insert: function(index, model) {\n            var parentNode = this.parent();\n\n            if (parentNode && parentNode._initChildren) {\n                parentNode.hasChildren = true;\n                parentNode._initChildren();\n            }\n\n            return DataSource.fn.insert.call(this, index, model);\n        },\n\n        filter: function(val) {\n            if (val === undefined) {\n                 return this._filter;\n            }\n\n            if(!this.options.serverFiltering && this._markHierarchicalQuery(val)){\n                val = { logic: \"or\", filters: [val, {field:'_matchFilter', operator: 'equals', value: true }]};\n            }\n\n            this.trigger(\"reset\");\n            this._query({ filter: val, page: 1 });\n        },\n\n        _markHierarchicalQuery: function(expressions){\n            var compiled;\n            var predicate;\n            var fields;\n            var operators;\n            var filter;\n            var accentFoldingFiltering = this.options.accentFoldingFiltering;\n\n            expressions = accentFoldingFiltering ? $.extend({}, normalizeFilter(expressions), { accentFoldingFiltering: accentFoldingFiltering}) : normalizeFilter(expressions);\n\n            if (!expressions || expressions.filters.length === 0) {\n                this._updateHierarchicalFilter(function(){return true;});\n                return false;\n            }\n\n            compiled = Query.filterExpr(expressions);\n            fields = compiled.fields;\n            operators = compiled.operators;\n\n            predicate = filter = new Function(\"d, __f, __o\", \"return \" + compiled.expression);\n\n            if (fields.length || operators.length) {\n                filter = function(d) {\n                    return predicate(d, fields, operators);\n                };\n            }\n\n            this._updateHierarchicalFilter(filter);\n            return true;\n        },\n\n         _updateHierarchicalFilter: function(filter){\n            var current;\n            var data = this._data;\n            var result = false;\n\n            for (var idx = 0; idx < data.length; idx++) {\n                 current = data[idx];\n\n                 if(current.hasChildren){\n                     current._matchFilter = current.children._updateHierarchicalFilter(filter);\n                    if(!current._matchFilter){\n                        current._matchFilter = filter(current);\n                    }\n                }else{\n                    current._matchFilter = filter(current);\n                }\n\n                if(current._matchFilter){\n                    result = true;\n                }\n            }\n            return result;\n        },\n\n        _find: function(method, value) {\n            var idx, length, node, children;\n            var data = this._data;\n\n            if (!data) {\n                return;\n            }\n\n            node = DataSource.fn[method].call(this, value);\n\n            if (node) {\n                return node;\n            }\n\n            data = this._flatData(this._data);\n\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                children = data[idx].children;\n\n                if (!(children instanceof HierarchicalDataSource)) {\n                    continue;\n                }\n\n                node = children[method](value);\n\n                if (node) {\n                    return node;\n                }\n            }\n        },\n\n        get: function(id) {\n            return this._find(\"get\", id);\n        },\n\n        getByUid: function(uid) {\n            return this._find(\"getByUid\", uid);\n        }\n    });\n\n    function inferList(list, fields) {\n        var items = $(list).children(),\n            idx,\n            length,\n            data = [],\n            record,\n            textField = fields[0].field,\n            urlField = fields[1] && fields[1].field,\n            spriteCssClassField = fields[2] && fields[2].field,\n            imageUrlField = fields[3] && fields[3].field,\n            item,\n            id,\n            textChild,\n            className,\n            children;\n\n        function elements(collection, tagName) {\n            return collection.filter(tagName).add(collection.find(tagName));\n        }\n\n        for (idx = 0, length = items.length; idx < length; idx++) {\n            record = { _loaded: true };\n            item = items.eq(idx);\n\n            textChild = item[0].firstChild;\n            children = item.children();\n            list = children.filter(\"ul\");\n            children = children.filter(\":not(ul)\");\n\n            id = item.attr(\"data-id\");\n\n            if (id) {\n                record.id = id;\n            }\n\n            if (textChild) {\n                record[textField] = textChild.nodeType == 3 ? textChild.nodeValue : children.text();\n            }\n\n            if (urlField) {\n                record[urlField] = elements(children, \"a\").attr(\"href\");\n            }\n\n            if (imageUrlField) {\n                record[imageUrlField] = elements(children, \"img\").attr(\"src\");\n            }\n\n            if (spriteCssClassField) {\n                className = elements(children, \".k-sprite\").prop(\"className\");\n                record[spriteCssClassField] = className && kendo.trim(className.replace(\"k-sprite\", \"\"));\n            }\n\n            if (list.length) {\n                record.items = inferList(list.eq(0), fields);\n            }\n\n            if (item.attr(\"data-hasChildren\") == \"true\") {\n                record.hasChildren = true;\n            }\n\n            data.push(record);\n        }\n\n        return data;\n    }\n\n    HierarchicalDataSource.create = function(options) {\n        options = options && options.push ? { data: options } : options;\n\n        var dataSource = options || {},\n            data = dataSource.data,\n            fields = dataSource.fields,\n            list = dataSource.list;\n\n        if (data && data._dataSource) {\n            return data._dataSource;\n        }\n\n        if (!data && fields && !dataSource.transport) {\n            if (list) {\n                data = inferList(list, fields);\n            }\n        }\n\n        dataSource.data = data;\n\n        return dataSource instanceof HierarchicalDataSource ? dataSource : new HierarchicalDataSource(dataSource);\n    };\n\n    var Buffer = kendo.Observable.extend({\n        init: function(dataSource, viewSize, disablePrefetch) {\n            kendo.Observable.fn.init.call(this);\n\n            this._prefetching = false;\n            this.dataSource = dataSource;\n            this.prefetch = !disablePrefetch;\n\n            var buffer = this;\n\n            dataSource.bind(\"change\", function() {\n                buffer._change();\n            });\n\n            dataSource.bind(\"reset\", function() {\n                buffer._reset();\n            });\n\n            this._syncWithDataSource();\n\n            this.setViewSize(viewSize);\n        },\n\n        setViewSize: function(viewSize) {\n            this.viewSize = viewSize;\n            this._recalculate();\n        },\n\n        at: function(index)  {\n            var pageSize = this.pageSize,\n                itemPresent = true;\n\n            if (index >= this.total()) {\n                this.trigger(\"endreached\", {index: index });\n                return null;\n            }\n\n            if (!this.useRanges) {\n               return this.dataSource.view()[index];\n            }\n            if (this.useRanges) {\n                // out of range request\n                if (index < this.dataOffset || index >= this.skip + pageSize) {\n                    itemPresent = this.range(Math.floor(index / pageSize) * pageSize);\n                }\n\n                // prefetch\n                if (index === this.prefetchThreshold) {\n                    this._prefetch();\n                }\n\n                // mid-range jump - prefetchThreshold and nextPageThreshold may be equal, do not change to else if\n                if (index === this.midPageThreshold) {\n                    this.range(this.nextMidRange, true);\n                }\n                // next range jump\n                else if (index === this.nextPageThreshold) {\n                    this.range(this.nextFullRange);\n                }\n                // pull-back\n                else if (index === this.pullBackThreshold) {\n                    if (this.offset === this.skip) { // from full range to mid range\n                        this.range(this.previousMidRange);\n                    } else { // from mid range to full range\n                        this.range(this.previousFullRange);\n                    }\n                }\n\n                if (itemPresent) {\n                    return this.dataSource.at(index - this.dataOffset);\n                } else {\n                    this.trigger(\"endreached\", { index: index });\n                    return null;\n                }\n            }\n        },\n\n        indexOf: function(item) {\n            return this.dataSource.data().indexOf(item) + this.dataOffset;\n        },\n\n        total: function() {\n            return parseInt(this.dataSource.total(), 10);\n        },\n\n        next: function() {\n            var buffer = this,\n                pageSize = buffer.pageSize,\n                offset = buffer.skip - buffer.viewSize + pageSize,\n                pageSkip = math.max(math.floor(offset / pageSize), 0) * pageSize;\n\n            this.offset = offset;\n            this.dataSource.prefetch(pageSkip, pageSize, function() {\n                buffer._goToRange(offset, true);\n            });\n        },\n\n        range: function(offset, nextRange) {\n            if (this.offset === offset) {\n                return true;\n            }\n\n            var buffer = this,\n                pageSize = this.pageSize,\n                pageSkip = math.max(math.floor(offset / pageSize), 0) * pageSize,\n                dataSource = this.dataSource;\n\n            if (nextRange) {\n                pageSkip += pageSize;\n            }\n\n            if (dataSource.inRange(offset, pageSize)) {\n                this.offset = offset;\n                this._recalculate();\n                this._goToRange(offset);\n                return true;\n            } else if (this.prefetch) {\n                dataSource.prefetch(pageSkip, pageSize, function() {\n                    buffer.offset = offset;\n                    buffer._recalculate();\n                    buffer._goToRange(offset, true);\n                });\n                return false;\n            }\n\n            return true;\n        },\n\n        syncDataSource: function() {\n            var offset = this.offset;\n            this.offset = null;\n            this.range(offset);\n        },\n\n        destroy: function() {\n            this.unbind();\n        },\n\n        _prefetch: function() {\n            var buffer = this,\n                pageSize = this.pageSize,\n                prefetchOffset = this.skip + pageSize,\n                dataSource = this.dataSource;\n\n            if (!dataSource.inRange(prefetchOffset, pageSize) && !this._prefetching && this.prefetch) {\n                this._prefetching = true;\n                this.trigger(\"prefetching\", { skip: prefetchOffset, take: pageSize });\n\n                dataSource.prefetch(prefetchOffset, pageSize, function() {\n                    buffer._prefetching = false;\n                    buffer.trigger(\"prefetched\", { skip: prefetchOffset, take: pageSize });\n                });\n            }\n        },\n\n        _goToRange: function(offset, expanding) {\n            if (this.offset !== offset) {\n                return;\n            }\n\n            this.dataOffset = offset;\n            this._expanding = expanding;\n            this.dataSource.range(offset, this.pageSize);\n            this.dataSource.enableRequestsInProgress();\n        },\n\n        _reset: function() {\n            this._syncPending = true;\n        },\n\n        _change: function() {\n            var dataSource = this.dataSource;\n\n            this.length = this.useRanges ? dataSource.lastRange().end : dataSource.view().length;\n\n            if (this._syncPending) {\n                this._syncWithDataSource();\n                this._recalculate();\n                this._syncPending = false;\n                this.trigger(\"reset\", { offset: this.offset });\n            }\n\n            this.trigger(\"resize\");\n\n            if (this._expanding) {\n                this.trigger(\"expand\");\n            }\n\n            delete this._expanding;\n        },\n\n        _syncWithDataSource: function() {\n            var dataSource = this.dataSource;\n\n            this._firstItemUid = dataSource.firstItemUid();\n            this.dataOffset = this.offset = dataSource.skip() || 0;\n            this.pageSize = dataSource.pageSize();\n            this.useRanges = dataSource.options.serverPaging;\n        },\n\n        _recalculate: function() {\n            var pageSize = this.pageSize,\n                offset = this.offset,\n                viewSize = this.viewSize,\n                skip = Math.ceil(offset / pageSize) * pageSize;\n\n            this.skip = skip;\n            this.midPageThreshold = skip + pageSize - 1;\n            this.nextPageThreshold = skip + viewSize - 1;\n            this.prefetchThreshold = skip + Math.floor(pageSize / 3 * 2);\n            this.pullBackThreshold = this.offset - 1;\n\n            this.nextMidRange = skip + pageSize - viewSize;\n            this.nextFullRange = skip;\n            this.previousMidRange = offset - viewSize;\n            this.previousFullRange = skip - pageSize;\n        }\n    });\n\n    var BatchBuffer = kendo.Observable.extend({\n        init: function(dataSource, batchSize) {\n            var batchBuffer = this;\n\n            kendo.Observable.fn.init.call(batchBuffer);\n\n            this.dataSource = dataSource;\n            this.batchSize = batchSize;\n            this._total = 0;\n\n            this.buffer = new Buffer(dataSource, batchSize * 3);\n\n            this.buffer.bind({\n                \"endreached\": function (e) {\n                    batchBuffer.trigger(\"endreached\", { index: e.index });\n                },\n                \"prefetching\": function (e) {\n                    batchBuffer.trigger(\"prefetching\", { skip: e.skip, take: e.take });\n                },\n                \"prefetched\": function (e) {\n                    batchBuffer.trigger(\"prefetched\", { skip: e.skip, take: e.take });\n                },\n                \"reset\": function () {\n                    batchBuffer._total = 0;\n                    batchBuffer.trigger(\"reset\");\n                },\n                \"resize\": function () {\n                    batchBuffer._total = Math.ceil(this.length / batchBuffer.batchSize);\n                    batchBuffer.trigger(\"resize\", { total: batchBuffer.total(), offset: this.offset });\n                }\n            });\n        },\n\n        syncDataSource: function() {\n            this.buffer.syncDataSource();\n        },\n\n        at: function(index) {\n            var buffer = this.buffer,\n                skip = index * this.batchSize,\n                take = this.batchSize,\n                view = [],\n                item;\n\n            if (buffer.offset > skip) {\n                buffer.at(buffer.offset - 1);\n            }\n\n            for (var i = 0; i < take; i++) {\n                item = buffer.at(skip + i);\n\n                if (item === null) {\n                    break;\n                }\n\n                view.push(item);\n            }\n\n            return view;\n        },\n\n        total: function() {\n            return this._total;\n        },\n\n        destroy: function() {\n            this.buffer.destroy();\n            this.unbind();\n        }\n    });\n\n    extend(true, kendo.data, {\n        readers: {\n            json: DataReader\n        },\n        Query: Query,\n        DataSource: DataSource,\n        HierarchicalDataSource: HierarchicalDataSource,\n        Node: Node,\n        Comparer: Comparer,\n        ObservableObject: ObservableObject,\n        ObservableArray: ObservableArray,\n        LazyObservableArray: LazyObservableArray,\n        LocalTransport: LocalTransport,\n        RemoteTransport: RemoteTransport,\n        Cache: Cache,\n        DataReader: DataReader,\n        Model: Model,\n        Buffer: Buffer,\n        BatchBuffer: BatchBuffer\n    });\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.data.signalr',[ \"./kendo.data\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"data.signalr\",\r\n    name: \"SignalR\",\r\n    category: \"framework\",\r\n    depends: [ \"data\" ],\r\n    hidden: true\r\n};\r\n\r\n(function($) {\r\n    var kendo = window.kendo;\r\n    var isFunction = kendo.isFunction;\r\n\r\n    function isJQueryPromise(promise) {\r\n        return promise && isFunction(promise.done) && isFunction(promise.fail);\r\n    }\r\n\r\n    function isNativePromise(promise) {\r\n        return promise && isFunction(promise.then) && isFunction(promise.catch); // jshint ignore:line\r\n    }\r\n\r\n    var transport = kendo.data.RemoteTransport.extend({\r\n        init: function (options) {\r\n            var signalr = options && options.signalr ? options.signalr : {};\r\n\r\n            var promise = signalr.promise;\r\n\r\n            if (!promise) {\r\n                throw new Error('The \"promise\" option must be set.');\r\n            }\r\n\r\n            if (!isJQueryPromise(promise) && !isNativePromise(promise)) {\r\n                throw new Error('The \"promise\" option must be a Promise.');\r\n            }\r\n\r\n            this.promise = promise;\r\n\r\n            var hub = signalr.hub;\r\n\r\n            if (!hub) {\r\n                throw new Error('The \"hub\" option must be set.');\r\n            }\r\n\r\n            if (typeof hub.on != \"function\" || typeof hub.invoke != \"function\") {\r\n                throw new Error('The \"hub\" option is not a valid SignalR hub proxy.');\r\n            }\r\n\r\n            this.hub = hub;\r\n\r\n            kendo.data.RemoteTransport.fn.init.call(this, options);\r\n        },\r\n\r\n        push: function(callbacks) {\r\n            var client = this.options.signalr.client || {};\r\n\r\n            if (client.create) {\r\n                this.hub.on(client.create, callbacks.pushCreate);\r\n            }\r\n\r\n            if (client.update) {\r\n                this.hub.on(client.update, callbacks.pushUpdate);\r\n            }\r\n\r\n            if (client.destroy) {\r\n                this.hub.on(client.destroy, callbacks.pushDestroy);\r\n            }\r\n        },\r\n\r\n        _crud: function(options, type) {\r\n            var hub = this.hub;\r\n            var promise = this.promise;\r\n            var server = this.options.signalr.server;\r\n\r\n            if (!server || !server[type]) {\r\n                throw new Error(kendo.format('The \"server.{0}\" option must be set.', type));\r\n            }\r\n\r\n            var args = [server[type]];\r\n\r\n            var data = this.parameterMap(options.data, type);\r\n\r\n            if (!$.isEmptyObject(data)) {\r\n                args.push(data);\r\n            }\r\n\r\n            if (isJQueryPromise(promise)) {\r\n                promise.done(function() {\r\n                    hub.invoke.apply(hub, args)\r\n                              .done(options.success)\r\n                              .fail(options.error);\r\n                });\r\n            } else if (isNativePromise(promise)) {\r\n                promise.then(function() {\r\n                    hub.invoke.apply(hub, args)\r\n                              .then(options.success)\r\n                              .catch(options.error); // jshint ignore:line\r\n                });\r\n            }\r\n        },\r\n\r\n        read: function(options) {\r\n            this._crud(options, \"read\");\r\n        },\r\n\r\n        create: function(options) {\r\n            this._crud(options, \"create\");\r\n        },\r\n\r\n        update: function(options) {\r\n            this._crud(options, \"update\");\r\n        },\r\n\r\n        destroy: function(options) {\r\n            this._crud(options, \"destroy\");\r\n        }\r\n    });\r\n\r\n    $.extend(true, kendo.data, {\r\n        transports: {\r\n            signalr: transport\r\n        }\r\n    });\r\n\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\n    define('kendo.binder',[ \"./kendo.core\", \"./kendo.data\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"binder\",\n    name: \"MVVM\",\n    category: \"framework\",\n    description: \"Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).\",\n    depends: [ \"core\", \"data\" ]\n};\n\n/*jshint eqnull: true */\n(function ($, undefined) {\n    var kendo = window.kendo,\n        Observable = kendo.Observable,\n        ObservableObject = kendo.data.ObservableObject,\n        ObservableArray = kendo.data.ObservableArray,\n        toString = {}.toString,\n        binders = {},\n        Class = kendo.Class,\n        VALUE = \"value\",\n        SOURCE = \"source\",\n        EVENTS = \"events\",\n        CHECKED = \"checked\",\n        CSS = \"css\",\n        deleteExpando = true,\n        FUNCTION = \"function\",\n        CHANGE = \"change\";\n\n    (function() {\n        var a = document.createElement(\"a\");\n\n        try {\n            delete a.test;\n        } catch(e) {\n            deleteExpando = false;\n        }\n    })();\n\n    var Binding = Observable.extend( {\n        init: function(parents, path) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.source = parents[0];\n            that.parents = parents;\n            that.path = path;\n            that.dependencies = {};\n            that.dependencies[path] = true;\n            that.observable = that.source instanceof Observable;\n\n            that._access = function(e) {\n                that.dependencies[e.field] = true;\n            };\n\n            if (that.observable) {\n                that._change = function(e) {\n                    that.change(e);\n                };\n\n                that.source.bind(CHANGE, that._change);\n            }\n        },\n\n        _parents: function() {\n            var parents = this.parents;\n            var value = this.get();\n\n            if (value && typeof value.parent == \"function\") {\n                var parent = value.parent();\n\n                if ($.inArray(parent, parents) < 0) {\n                    parents = [parent].concat(parents);\n                }\n            }\n\n            return parents;\n        },\n\n        change: function(e) {\n            var dependency,\n                ch,\n                field = e.field,\n                that = this;\n\n            if (that.path === \"this\") {\n                that.trigger(CHANGE, e);\n            } else {\n                for (dependency in that.dependencies) {\n                    if (dependency.indexOf(field) === 0) {\n                       ch = dependency.charAt(field.length);\n\n                       if (!ch || ch === \".\" || ch === \"[\") {\n                            that.trigger(CHANGE, e);\n                            break;\n                       }\n                    }\n                }\n            }\n        },\n\n        start: function(source) {\n            source.bind(\"get\", this._access);\n        },\n\n        stop: function(source) {\n            source.unbind(\"get\", this._access);\n        },\n\n        get: function() {\n\n            var that = this,\n                source = that.source,\n                index = 0,\n                path = that.path,\n                result = source;\n\n            if (!that.observable) {\n                return result;\n            }\n\n            that.start(that.source);\n\n            result = source.get(path);\n\n            // Traverse the observable hierarchy if the binding is not resolved at the current level.\n            while (result === undefined && source) {\n\n                source = that.parents[++index];\n\n                if (source instanceof ObservableObject) {\n                    result = source.get(path);\n                }\n            }\n\n            // second pass try to get the parent from the object hierarchy\n            if (result === undefined) {\n                source = that.source; //get the initial source\n\n                while (result === undefined && source) {\n                    source = source.parent();\n\n                    if (source instanceof ObservableObject) {\n                        result = source.get(path);\n                    }\n                }\n            }\n\n            // If the result is a function - invoke it\n            if (typeof result === \"function\") {\n                index = path.lastIndexOf(\".\");\n\n                // If the function is a member of a nested observable object make that nested observable the context (this) of the function\n                if (index > 0) {\n                    source = source.get(path.substring(0, index));\n                }\n\n                // Invoke the function\n                that.start(source);\n\n                if (source !== that.source) {\n                    result = result.call(source, that.source);\n                } else {\n                    result = result.call(source);\n                }\n\n                that.stop(source);\n            }\n\n            // If the binding is resolved by a parent object\n            if (source && source !== that.source) {\n\n                that.currentSource = source; // save parent object\n\n                // Listen for changes in the parent object\n                source.unbind(CHANGE, that._change)\n                      .bind(CHANGE, that._change);\n            }\n\n            that.stop(that.source);\n\n            return result;\n        },\n\n        set: function(value) {\n            var source = this.currentSource || this.source;\n\n            var field = kendo.getter(this.path)(source);\n\n            if (typeof field === \"function\") {\n                if (source !== this.source) {\n                    field.call(source, this.source, value);\n                } else {\n                    field.call(source, value);\n                }\n            } else {\n                source.set(this.path, value);\n            }\n        },\n\n        destroy: function() {\n            if (this.observable) {\n                this.source.unbind(CHANGE, this._change);\n                if(this.currentSource) {\n                    this.currentSource.unbind(CHANGE, this._change);\n                }\n            }\n\n            this.unbind();\n        }\n    });\n\n    var EventBinding = Binding.extend( {\n        get: function() {\n            var source = this.source,\n                path = this.path,\n                index = 0,\n                handler;\n\n            handler = source.get(path);\n\n            while (!handler && source) {\n                source = this.parents[++index];\n\n                if (source instanceof ObservableObject) {\n                    handler = source.get(path);\n                }\n            }\n\n            if (!handler) {\n                return;\n            }\n\n            return handler.bind(source);\n        }\n    });\n\n    var TemplateBinding = Binding.extend( {\n        init: function(source, path, template) {\n            var that = this;\n\n            Binding.fn.init.call(that, source, path);\n\n            that.template = template;\n        },\n\n        render: function(value) {\n            var html;\n\n            this.start(this.source);\n\n            html = kendo.render(this.template, value);\n\n            this.stop(this.source);\n\n            return html;\n        }\n    });\n\n    var Binder = Class.extend({\n        init: function(element, bindings, options) {\n            this.element = element;\n            this.bindings = bindings;\n            this.options = options;\n        },\n\n        bind: function(binding, attribute) {\n            var that = this;\n\n            binding = attribute ? binding[attribute] : binding;\n\n            binding.bind(CHANGE, function(e) {\n                that.refresh(attribute || e);\n            });\n\n            that.refresh(attribute);\n        },\n\n        destroy: function() {\n        }\n    });\n\n    var TypedBinder = Binder.extend({\n        dataType: function() {\n            var dataType = this.element.getAttribute(\"data-\" + kendo.ns + \"type\") || this.element.type || \"text\";\n            return dataType.toLowerCase();\n        },\n\n        parsedValue: function() {\n            return this._parseValue(this.element.value, this.dataType());\n        },\n\n        _parseValue: function (value, dataType){\n            if (dataType == \"date\") {\n                value = kendo.parseDate(value, \"yyyy-MM-dd\");\n            } else if (dataType == \"datetime-local\") {\n                value = kendo.parseDate(value, [\"yyyy-MM-ddTHH:mm:ss\", \"yyyy-MM-ddTHH:mm\"] );\n            } else if (dataType == \"number\") {\n                value = kendo.parseFloat(value);\n            } else if (dataType == \"boolean\"){\n                value = value.toLowerCase();\n                if(kendo.parseFloat(value) !== null){\n                    value = Boolean(kendo.parseFloat(value));\n                }else{\n                    value = (value.toLowerCase() === \"true\");\n                }\n            }\n            return value;\n        }\n    });\n\n    binders.attr = Binder.extend({\n        refresh: function(key) {\n            this.element.setAttribute(key, this.bindings.attr[key].get());\n        }\n    });\n\n    binders.css = Binder.extend({\n        init: function(element, bindings, options) {\n            Binder.fn.init.call(this, element, bindings, options);\n            this.classes = {};\n        },\n        refresh: function(className) {\n            var element = $(this.element),\n                binding = this.bindings.css[className],\n                hasClass = this.classes[className] = binding.get();\n            if(hasClass){\n                element.addClass(className);\n            }else{\n                element.removeClass(className);\n            }\n        }\n    });\n\n    binders.style = Binder.extend({\n        refresh: function(key) {\n            this.element.style[key] = this.bindings.style[key].get() || \"\";\n        }\n    });\n\n    binders.enabled = Binder.extend({\n        refresh: function() {\n            if (this.bindings.enabled.get()) {\n                this.element.removeAttribute(\"disabled\");\n            } else {\n                this.element.setAttribute(\"disabled\", \"disabled\");\n            }\n        }\n    });\n\n    binders.readonly = Binder.extend({\n       refresh: function() {\n            if (this.bindings.readonly.get()) {\n                this.element.setAttribute(\"readonly\", \"readonly\");\n            } else {\n                this.element.removeAttribute(\"readonly\");\n            }\n       }\n    });\n\n    binders.disabled = Binder.extend({\n        refresh: function() {\n            if (this.bindings.disabled.get()) {\n                this.element.setAttribute(\"disabled\", \"disabled\");\n            } else {\n                this.element.removeAttribute(\"disabled\");\n            }\n        }\n    });\n\n    binders.events = Binder.extend({\n        init: function(element, bindings, options) {\n            Binder.fn.init.call(this, element, bindings, options);\n            this.handlers = {};\n        },\n\n        refresh: function(key) {\n            var element = $(this.element),\n                binding = this.bindings.events[key],\n                handler = this.handlers[key];\n\n            if (handler) {\n                element.off(key, handler);\n            }\n\n            handler = this.handlers[key] = binding.get();\n\n            element.on(key, binding.source, handler);\n        },\n\n        destroy: function() {\n            var element = $(this.element),\n                handler;\n\n            for (handler in this.handlers) {\n                element.off(handler, this.handlers[handler]);\n            }\n        }\n    });\n\n    binders.text = Binder.extend({\n        refresh: function() {\n            var text = this.bindings.text.get();\n            var dataFormat = this.element.getAttribute(\"data-\" + kendo.ns + \"format\") || \"\";\n            if (text == null) {\n                text = \"\";\n            }\n\n            $(this.element).text(kendo.toString(text, dataFormat));\n        }\n    });\n\n    binders.visible = Binder.extend({\n        refresh: function() {\n            if (this.bindings.visible.get()) {\n                this.element.style.display = \"\";\n            } else {\n                this.element.style.display = \"none\";\n            }\n        }\n    });\n\n    binders.invisible = Binder.extend({\n        refresh: function() {\n            if (!this.bindings.invisible.get()) {\n                this.element.style.display = \"\";\n            } else {\n                this.element.style.display = \"none\";\n            }\n        }\n  });\n\n    binders.html = Binder.extend({\n        refresh: function() {\n            this.element.innerHTML = this.bindings.html.get();\n        }\n    });\n\n    binders.value = TypedBinder.extend({\n        init: function(element, bindings, options) {\n            TypedBinder.fn.init.call(this, element, bindings, options);\n\n            this._change = this.change.bind(this);\n            this.eventName = options.valueUpdate || CHANGE;\n\n            $(this.element).on(this.eventName, this._change);\n\n            this._initChange = false;\n        },\n\n        change: function() {\n            this._initChange = this.eventName != CHANGE;\n\n            this.bindings[VALUE].set(this.parsedValue());\n\n            this._initChange = false;\n        },\n\n        refresh: function() {\n            if (!this._initChange) {\n                var value = this.bindings[VALUE].get();\n\n                if (value == null) {\n                    value = \"\";\n                }\n\n                var type = this.dataType();\n\n                if (type == \"date\") {\n                    value = kendo.toString(value, \"yyyy-MM-dd\");\n                } else if (type == \"datetime-local\") {\n                    value = kendo.toString(value, \"yyyy-MM-ddTHH:mm:ss\");\n                }\n\n                this.element.value = value;\n            }\n\n            this._initChange = false;\n        },\n\n        destroy: function() {\n            $(this.element).off(this.eventName, this._change);\n        }\n    });\n\n    binders.source = Binder.extend({\n        init: function(element, bindings, options) {\n            Binder.fn.init.call(this, element, bindings, options);\n\n            var source = this.bindings.source.get();\n\n            if (source instanceof kendo.data.DataSource && options.autoBind !== false) {\n                source.fetch();\n            }\n        },\n\n        refresh: function(e) {\n            var that = this,\n                source = that.bindings.source.get();\n\n            if (source instanceof ObservableArray || source instanceof kendo.data.DataSource) {\n                e = e || {};\n\n                if (e.action == \"add\") {\n                    that.add(e.index, e.items);\n                } else if (e.action == \"remove\") {\n                    that.remove(e.index, e.items);\n                } else if (e.action != \"itemchange\") {\n                    that.render();\n                }\n            } else {\n                that.render();\n            }\n        },\n\n        container: function() {\n            var element = this.element;\n\n            if (element.nodeName.toLowerCase() == \"table\") {\n                if (!element.tBodies[0]) {\n                    element.appendChild(document.createElement(\"tbody\"));\n                }\n                element = element.tBodies[0];\n            }\n\n            return element;\n        },\n\n        template: function() {\n            var options = this.options,\n                template = options.template,\n                nodeName = this.container().nodeName.toLowerCase();\n\n            if (!template) {\n                if (nodeName == \"select\") {\n                    if (options.valueField || options.textField) {\n                        template = kendo.format('<option value=\"#:{0}#\">#:{1}#</option>',\n                            options.valueField || options.textField, options.textField || options.valueField);\n                    } else {\n                        template = \"<option>#:data#</option>\";\n                    }\n                } else if (nodeName == \"tbody\") {\n                    template = \"<tr><td>#:data#</td></tr>\";\n                } else if (nodeName == \"ul\" || nodeName == \"ol\") {\n                    template = \"<li>#:data#</li>\";\n                } else {\n                    template = \"#:data#\";\n                }\n                template = kendo.template(template);\n            }\n\n            return template;\n        },\n\n        add: function(index, items) {\n            var element = this.container(),\n                parents,\n                idx,\n                length,\n                child,\n                clone = element.cloneNode(false),\n                reference = element.children[index];\n\n            $(clone).html(kendo.render(this.template(), items));\n\n            if (clone.children.length) {\n                parents = this.bindings.source._parents();\n\n                for (idx = 0, length = items.length; idx < length; idx++) {\n                    child = clone.children[0];\n                    element.insertBefore(child, reference || null);\n                    bindElement(child, items[idx], this.options.roles, [items[idx]].concat(parents));\n                }\n            }\n        },\n\n        remove: function(index, items) {\n            var idx, element = this.container();\n\n            for (idx = 0; idx < items.length; idx++) {\n                var child = element.children[index];\n                unbindElementTree(child, true);\n                if (child.parentNode == element) {\n                    element.removeChild(child);\n                }\n            }\n        },\n\n        render: function() {\n            var source = this.bindings.source.get(),\n                parents,\n                idx,\n                length,\n                element = this.container(),\n                template = this.template();\n\n            if (source == null) {\n                return;\n            }\n\n            if (source instanceof kendo.data.DataSource) {\n                source = source.view();\n            }\n\n            if (!(source instanceof ObservableArray) && toString.call(source) !== \"[object Array]\") {\n                source = [source];\n            }\n\n            if (this.bindings.template) {\n                unbindElementChildren(element, true);\n\n                $(element).html(this.bindings.template.render(source));\n\n                if (element.children.length) {\n                    parents = this.bindings.source._parents();\n\n                    for (idx = 0, length = source.length; idx < length; idx++) {\n                        bindElement(element.children[idx], source[idx], this.options.roles, [source[idx]].concat(parents));\n                    }\n                }\n            } else {\n                $(element).html(kendo.render(template, source));\n            }\n        }\n    });\n\n    binders.input = {\n        checked: TypedBinder.extend({\n            init: function(element, bindings, options) {\n                TypedBinder.fn.init.call(this, element, bindings, options);\n                this._change = this.change.bind(this);\n\n                $(this.element).change(this._change);\n            },\n\n            change: function() {\n                var element = this.element;\n                var value = this.value();\n\n                if (element.type == \"radio\") {\n                    value = this.parsedValue();\n                    this.bindings[CHECKED].set(value);\n                } else if (element.type == \"checkbox\") {\n                    var source = this.bindings[CHECKED].get();\n                    var index;\n\n                    if (source instanceof ObservableArray) {\n                        value = this.parsedValue();\n                        if (value instanceof Date) {\n                            for(var i = 0; i < source.length; i++){\n                                if(source[i] instanceof Date && +source[i] === +value){\n                                    index = i;\n                                    break;\n                                }\n                            }\n                        }else{\n                            index = source.indexOf(value);\n                        }\n                        if (index > -1) {\n                            source.splice(index, 1);\n                        } else {\n                            source.push(value);\n                        }\n                    } else {\n                        this.bindings[CHECKED].set(value);\n                    }\n                }\n            },\n\n            refresh: function() {\n                var value = this.bindings[CHECKED].get(),\n                    source = value,\n                    type = this.dataType(),\n                    element = this.element;\n\n                if (element.type == \"checkbox\") {\n                    if (source instanceof ObservableArray) {\n                        var index = -1;\n                        value = this.parsedValue();\n                        if(value instanceof Date){\n                            for(var i = 0; i < source.length; i++){\n                                if(source[i] instanceof Date && +source[i] === +value){\n                                    index = i;\n                                    break;\n                                }\n                            }\n                        }else{\n                            index = source.indexOf(value);\n                        }\n                        element.checked = (index >= 0);\n                    }else{\n                        element.checked = source;\n                    }\n                } else if (element.type == \"radio\") {\n                    if (type == \"date\") {\n                        value = kendo.toString(value, \"yyyy-MM-dd\");\n                    } else if (type == \"datetime-local\") {\n                        value = kendo.toString(value, \"yyyy-MM-ddTHH:mm:ss\");\n                    }\n\n                    if (value !== null && typeof(value) !== \"undefined\" && element.value === value.toString()) {\n                        element.checked = true;\n                    } else {\n                        element.checked = false;\n                    }\n                }\n            },\n\n            value: function() {\n                var element = this.element,\n                    value = element.value;\n\n                if (element.type == \"checkbox\") {\n                    value = element.checked;\n                }\n\n                return value;\n            },\n            destroy: function() {\n                $(this.element).off(CHANGE, this._change);\n            }\n        })\n    };\n\n    binders.select = {\n        source: binders.source.extend({\n            refresh: function(e) {\n                var that = this,\n                    source = that.bindings.source.get();\n\n                if (source instanceof ObservableArray || source instanceof kendo.data.DataSource) {\n                    e = e || {};\n                    if (e.action == \"add\") {\n                        that.add(e.index, e.items);\n                    } else if (e.action == \"remove\") {\n                        that.remove(e.index, e.items);\n                    } else if (e.action == \"itemchange\" || e.action === undefined) {\n                        that.render();\n                        if(that.bindings.value){\n                            if (that.bindings.value) {\n                                var val = retrievePrimitiveValues(that.bindings.value.get(), $(that.element).data(\"valueField\"));\n                                if(val === null) {\n                                    that.element.selectedIndex = -1;\n                                } else {\n                                    that.element.value = val;\n                                }\n                            }\n                        }\n                    }\n                } else {\n                    that.render();\n                }\n            }\n        }),\n        value: TypedBinder.extend({\n            init: function(target, bindings, options) {\n                TypedBinder.fn.init.call(this, target, bindings, options);\n\n                this._change = this.change.bind(this);\n                $(this.element).change(this._change);\n            },\n\n            parsedValue : function() {\n                var dataType = this.dataType();\n                var values = [];\n                var value, option, idx, length;\n                for (idx = 0, length = this.element.options.length; idx < length; idx++) {\n                    option = this.element.options[idx];\n\n                    if (option.selected) {\n                        value = option.attributes.value;\n\n                        if (value && value.specified) {\n                            value = option.value;\n                        } else {\n                            value = option.text;\n                        }\n\n                        values.push(this._parseValue(value, dataType));\n                    }\n                }\n                return values;\n            },\n\n            change: function() {\n                var values = [],\n                    element = this.element,\n                    source,\n                    field = this.options.valueField || this.options.textField,\n                    valuePrimitive = this.options.valuePrimitive,\n                    option,\n                    valueIndex,\n                    value,\n                    idx,\n                    length;\n\n                for (idx = 0, length = element.options.length; idx < length; idx++) {\n                    option = element.options[idx];\n\n                    if (option.selected) {\n                        value = option.attributes.value;\n\n                        if (value && value.specified) {\n                            value = option.value;\n                        } else {\n                            value = option.text;\n                        }\n\n                        if (field) {\n                            values.push(value);\n                        } else {\n                            values.push(this._parseValue(value, this.dataType()));\n                        }\n\n                    }\n                }\n\n                if (field) {\n                    source = this.bindings.source.get();\n                    if (source instanceof kendo.data.DataSource) {\n                        source = source.view();\n                    }\n\n                    for (valueIndex = 0; valueIndex < values.length; valueIndex++) {\n                        for (idx = 0, length = source.length; idx < length; idx++) {\n                            var sourceValue = source[idx].get(field);\n                            var match = (String(sourceValue) === values[valueIndex]);\n                            if (match) {\n                                values[valueIndex] = source[idx];\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                value = this.bindings[VALUE].get();\n                if (value instanceof ObservableArray) {\n                    value.splice.apply(value, [0, value.length].concat(values));\n                } else if (!valuePrimitive && (value instanceof ObservableObject || value === null || value === undefined || !field)) {\n                    this.bindings[VALUE].set(values[0]);\n                } else {\n                    this.bindings[VALUE].set(values[0].get(field));\n                }\n            },\n            refresh: function() {\n                var optionIndex,\n                    element = this.element,\n                    options = element.options,\n                    value = this.bindings[VALUE].get(),\n                    values = value,\n                    field = this.options.valueField || this.options.textField,\n                    found = false,\n                    type = this.dataType(),\n                    optionValue;\n\n                if (!(values instanceof ObservableArray)) {\n                    values = new ObservableArray([value]);\n                }\n\n                element.selectedIndex = -1;\n\n                for (var valueIndex = 0; valueIndex < values.length; valueIndex++) {\n                    value = values[valueIndex];\n\n\n                    if (field && value instanceof ObservableObject) {\n                        value = value.get(field);\n                    }\n\n                    if (type == \"date\") {\n                        value = kendo.toString(values[valueIndex], \"yyyy-MM-dd\");\n                    } else if (type == \"datetime-local\") {\n                        value = kendo.toString(values[valueIndex], \"yyyy-MM-ddTHH:mm:ss\");\n                    }\n\n                    for (optionIndex = 0; optionIndex < options.length; optionIndex++) {\n                        optionValue = options[optionIndex].value;\n\n                        if (optionValue === \"\" && value !== \"\") {\n                            optionValue = options[optionIndex].text;\n                        }\n\n                        if (value != null && optionValue == value.toString()) {\n                            options[optionIndex].selected = true;\n                            found = true;\n                        }\n                    }\n                }\n            },\n            destroy: function() {\n                $(this.element).off(CHANGE, this._change);\n            }\n        })\n    };\n\n    function dataSourceBinding(bindingName, fieldName, setter) {\n        return Binder.extend({\n            init: function(widget, bindings, options) {\n                var that = this;\n\n                Binder.fn.init.call(that, widget.element[0], bindings, options);\n\n                that.widget = widget;\n                that._dataBinding = that.dataBinding.bind(that);\n                that._dataBound = that.dataBound.bind(that);\n                that._itemChange = that.itemChange.bind(that);\n            },\n\n            itemChange: function(e) {\n                bindElement(e.item[0], e.data, this._ns(e.ns), [e.data].concat(this.bindings[bindingName]._parents()));\n            },\n\n            dataBinding: function(e) {\n                var idx,\n                    length,\n                    widget = this.widget,\n                    items = e.removedItems || widget.items();\n\n                for (idx = 0, length = items.length; idx < length; idx++) {\n                    unbindElementTree(items[idx], false);\n                }\n            },\n\n            _ns: function(ns) {\n                ns = ns || kendo.ui;\n                var all = [ kendo.ui, kendo.dataviz.ui, kendo.mobile.ui ];\n                all.splice($.inArray(ns, all), 1);\n                all.unshift(ns);\n\n                return kendo.rolesFromNamespaces(all);\n            },\n\n            dataBound: function(e) {\n                var idx,\n                    length,\n                    widget = this.widget,\n                    items = e.addedItems || widget.items(),\n                    dataSource = widget[fieldName],\n                    view,\n                    parents,\n                    hds = kendo.data.HierarchicalDataSource;\n\n                if (hds && dataSource instanceof hds) {\n                    // suppress binding of HDS items, because calling view() on root\n                    // will return only root items, and widget.items() returns all items\n                    return;\n                }\n\n                if (items.length) {\n                    view = e.addedDataItems || dataSource.flatView();\n                    parents = this.bindings[bindingName]._parents();\n\n                    for (idx = 0, length = view.length; idx < length; idx++) {\n                        if (items[idx]) {\n                            bindElement(items[idx], view[idx], this._ns(e.ns), [view[idx]].concat(parents));\n                        }\n                    }\n                }\n            },\n\n            refresh: function(e) {\n                var that = this,\n                    source,\n                    widget = that.widget,\n                    select, multiselect, dropdowntree;\n\n                e = e || {};\n\n                if (!e.action) {\n                    that.destroy();\n\n                    widget.bind(\"dataBinding\", that._dataBinding);\n                    widget.bind(\"dataBound\", that._dataBound);\n                    widget.bind(\"itemChange\", that._itemChange);\n\n                    source = that.bindings[bindingName].get();\n\n                    if (widget[fieldName] instanceof kendo.data.DataSource && widget[fieldName] != source) {\n                        if (source instanceof kendo.data.DataSource) {\n                            widget[setter](source);\n                        } else if (source && source._dataSource) {\n                            widget[setter](source._dataSource);\n                        } else {\n                            select = kendo.ui.Select && widget instanceof kendo.ui.Select;\n                            multiselect = kendo.ui.MultiSelect && widget instanceof kendo.ui.MultiSelect;\n                            dropdowntree = kendo.ui.DropDownTree && widget instanceof kendo.ui.DropDownTree;\n\n                            if(!dropdowntree){\n                                widget[fieldName].data(source);\n                            }else{\n                                widget.treeview[fieldName].data(source);\n                            }\n\n                            if (that.bindings.value && (select || multiselect)) {\n                                widget.value(retrievePrimitiveValues(that.bindings.value.get(), widget.options.dataValueField));\n                            }\n                        }\n                    }\n                }\n            },\n\n            destroy: function() {\n                var widget = this.widget;\n\n                widget.unbind(\"dataBinding\", this._dataBinding);\n                widget.unbind(\"dataBound\", this._dataBound);\n                widget.unbind(\"itemChange\", this._itemChange);\n            }\n        });\n    }\n\n    binders.widget = {\n        events : Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this.widget = widget;\n                this.handlers = {};\n            },\n\n            refresh: function(key) {\n                var binding = this.bindings.events[key],\n                    handler = this.handlers[key];\n\n                if (handler) {\n                    this.widget.unbind(key, handler);\n                }\n\n                handler = binding.get();\n\n                this.handlers[key] = function(e) {\n                    e.data = binding.source;\n\n                    handler(e);\n\n                    if (e.data === binding.source) {\n                        delete e.data;\n                    }\n                };\n\n                this.widget.bind(key, this.handlers[key]);\n            },\n\n            destroy: function() {\n                var handler;\n\n                for (handler in this.handlers) {\n                    this.widget.unbind(handler, this.handlers[handler]);\n                }\n            }\n        }),\n\n        checked: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n                this._change = this.change.bind(this);\n                this.widget.bind(CHANGE, this._change);\n            },\n            change: function() {\n                this.bindings[CHECKED].set(this.value());\n            },\n\n            refresh: function() {\n                if (this.element.type === \"radio\") {\n                    this.widget.check(this.bindings[CHECKED].get().toString() === this.value());\n                } else {\n                    this.widget.check(this.bindings[CHECKED].get() === true);\n                }\n            },\n\n            value: function() {\n                var element = this.element,\n                    value = element.value;\n\n                if (value == \"on\" || value == \"off\" || this.element.type == \"checkbox\") {\n                    value = element.checked;\n                }\n\n                return value;\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n\n        start: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this._change = this.change.bind(this);\n                this.widget = widget;\n                this.widget.bind(CHANGE, this._change);\n            },\n\n            change: function() {\n                this.bindings.start.set(this.widget.range().start);\n            },\n\n            refresh: function() {\n                var that = this;\n                var start = this.bindings.start.get();\n                var end = that.widget._range ? that.widget._range.end: null;\n                this.widget.range({start: start, end: end});\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n\n        end: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n                this._change = this.change.bind(this);\n                this.widget = widget;\n                this.widget.bind(CHANGE, this._change);\n            },\n\n            change: function() {\n                this.bindings.end.set(this.widget.range().end);\n            },\n\n            refresh: function() {\n                var that = this;\n                var end = this.bindings.end.get();\n                var start = that.widget._range ? that.widget._range.start: null;\n                this.widget.range({start: start, end: end});\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n\n        visible: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                var visible = this.bindings.visible.get();\n                this.widget.wrapper[0].style.display = visible ? \"\" : \"none\";\n            }\n        }),\n\n        invisible: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                var invisible = this.bindings.invisible.get();\n                this.widget.wrapper[0].style.display = invisible ? \"none\" : \"\";\n            }\n        }),\n\n        floatingLabel: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                if (!widget.floatingLabel) {\n                    return;\n                }\n\n                widget.floatingLabel.refresh();\n            }\n        }),\n\n        enabled: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                if (this.widget.enable) {\n                    this.widget.enable(this.bindings.enabled.get());\n                }\n            }\n        }),\n\n        disabled: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n            },\n\n            refresh: function() {\n                if (this.widget.enable) {\n                    this.widget.enable(!this.bindings.disabled.get());\n                }\n            }\n        }),\n\n        source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\"),\n\n        value: Binder.extend({\n            init: function(widget, bindings, options) {\n                Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                this.widget = widget;\n                this._change = this.change.bind(this);\n                this.widget.first(CHANGE, this._change);\n\n                var value = this.bindings.value.get();\n\n                this._valueIsObservableObject = !options.valuePrimitive && (value == null || value instanceof ObservableObject);\n                this._valueIsObservableArray = value instanceof ObservableArray;\n                this._initChange = false;\n            },\n\n            _source: function() {\n                var source;\n\n                if (this.widget.dataItem) {\n                    source = this.widget.dataItem();\n                    if (source && source instanceof ObservableObject) {\n                        return [source];\n                    }\n                }\n\n                if (this.bindings.source) {\n                    source = this.bindings.source.get();\n                }\n\n                if (!source || source instanceof kendo.data.DataSource) {\n                    source = this.widget.dataSource.flatView();\n                }\n\n                return source;\n            },\n\n            change: function() {\n                var value = this.widget.value(),\n                    field = this.options.dataValueField || this.options.dataTextField,\n                    isArray = toString.call(value) === \"[object Array]\",\n                    isObservableObject = this._valueIsObservableObject,\n                    valueIndex, valueLength, values = [],\n                    sourceItem, sourceValue,\n                    idx, length, source;\n\n                this._initChange = true;\n\n                if (field) {\n\n                    if (value === \"\" && (isObservableObject || this.options.valuePrimitive)) {\n                        value = null;\n                    } else {\n                        source = this._source();\n\n                        if (isArray) {\n                            valueLength = value.length;\n                            values = value.slice(0);\n                        }\n\n                        for (idx = 0, length = source.length; idx < length; idx++) {\n                            sourceItem = source[idx];\n                            sourceValue = sourceItem.get(field);\n\n                            if (isArray) {\n                                for (valueIndex = 0; valueIndex < valueLength; valueIndex++) {\n                                    if (sourceValue == values[valueIndex]) {\n                                        values[valueIndex] = sourceItem;\n                                        break;\n                                    }\n                                }\n                            } else if (sourceValue == value) {\n                                value = isObservableObject ? sourceItem : sourceValue;\n                                break;\n                            }\n                        }\n\n                        if (values[0]) {\n                            if (this._valueIsObservableArray) {\n                                value = values;\n                            } else if (isObservableObject || !field) {\n                                value = values[0];\n                            } else {\n                                value = values[0].get(field);\n                            }\n                        }\n                    }\n                }\n\n                this.bindings.value.set(value);\n                this._initChange = false;\n            },\n\n            refresh: function() {\n                if (!this._initChange) {\n                    var widget = this.widget;\n                    var options = widget.options;\n                    var textField = options.dataTextField;\n                    var valueField = options.dataValueField || textField;\n                    var value = this.bindings.value.get();\n                    var text = options.text || \"\";\n                    var idx = 0, length;\n                    var values = [];\n\n                    if (value === undefined) {\n                        value = null;\n                    }\n\n                    if (valueField) {\n                        if (value instanceof ObservableArray) {\n                            for (length = value.length; idx < length; idx++) {\n                                values[idx] = value[idx].get(valueField);\n                            }\n                            value = values;\n                        } else if (value instanceof ObservableObject) {\n                            text = value.get(textField);\n                            value = value.get(valueField);\n                        }\n                    }\n\n                    if (options.autoBind === false && !options.cascadeFrom && widget.listView && !widget.listView.bound()) {\n                        if (textField === valueField && !text) {\n                            text = value;\n                        }\n\n                        if (!text && (value || value === 0) && options.valuePrimitive) {\n                            widget.value(value);\n                        } else {\n                            widget._preselect(value, text);\n                        }\n                    } else {\n                        widget.value(value);\n                    }\n                }\n\n                this._initChange = false;\n            },\n\n            destroy: function() {\n                this.widget.unbind(CHANGE, this._change);\n            }\n        }),\n        dropdowntree: {\n            value: Binder.extend({\n                init: function(widget, bindings, options) {\n                    Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                    this.widget = widget;\n                    this._change = this.change.bind(this);\n                    this.widget.first(CHANGE, this._change);\n                    this._initChange = false;\n                },\n\n                change: function() {\n                    var that = this,\n                        oldValues = that.bindings[VALUE].get(),\n                        valuePrimitive = that.options.valuePrimitive,\n                        selectedNode = that.widget.treeview.select(),\n                        nonPrimitiveValues = that.widget._isMultipleSelection() ? that.widget._getAllChecked(): (that.widget.treeview.dataItem(selectedNode) || that.widget.value()),\n                        newValues = (valuePrimitive || that.widget.options.autoBind === false) ? that.widget.value() : nonPrimitiveValues;\n\n                    var field = this.options.dataValueField || this.options.dataTextField;\n\n                    newValues = newValues.slice ? newValues.slice(0): newValues;\n\n                    that._initChange = true;\n\n                    if (oldValues instanceof ObservableArray) {\n                        var remove = [];\n                        var newLength = newValues.length;\n                        var i = 0, j = 0;\n                        var old = oldValues[i];\n                        var same = false;\n                        var removeIndex;\n                        var newValue;\n                        var found;\n\n                        while (old !== undefined) {\n                            found = false;\n                            for (j = 0; j < newLength; j++) {\n                                if (valuePrimitive) {\n                                    same = newValues[j] == old;\n                                } else {\n                                    newValue = newValues[j];\n\n                                    newValue = newValue.get ? newValue.get(field) : newValue;\n                                    same = newValue == (old.get ? old.get(field) : old);\n                                }\n\n                                if (same) {\n                                    newValues.splice(j, 1);\n                                    newLength -= 1;\n                                    found = true;\n                                    break;\n                                }\n                            }\n\n                            if (!found) {\n                                remove.push(old);\n                                arraySplice(oldValues, i, 1);\n                                removeIndex = i;\n                            } else {\n                                i += 1;\n                            }\n\n                            old = oldValues[i];\n                        }\n\n                        arraySplice(oldValues, oldValues.length, 0, newValues);\n\n                        if (remove.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"remove\",\n                                items: remove,\n                                index: removeIndex\n                            });\n                        }\n\n                        if (newValues.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"add\",\n                                items: newValues,\n                                index: oldValues.length - 1\n                            });\n                        }\n                    } else {\n                        that.bindings[VALUE].set(newValues);\n                    }\n\n                    that._initChange = false;\n                },\n\n                refresh: function() {\n                    if (!this._initChange) {\n                        var options = this.options,\n                            widget = this.widget,\n                            field = options.dataValueField || options.dataTextField,\n                            value = this.bindings.value.get(),\n                            data = value,\n                            idx = 0, length,\n                            values = [],\n                            selectedValue;\n\n                        if (field) {\n                            if (value instanceof ObservableArray) {\n                                for (length = value.length; idx < length; idx++) {\n                                    selectedValue = value[idx];\n                                    values[idx] = selectedValue.get ? selectedValue.get(field) : selectedValue;\n                                }\n                                value = values;\n                            } else if (value instanceof ObservableObject) {\n                                value = value.get(field);\n                            }\n                        }\n                        if (options.autoBind === false && options.valuePrimitive !== true) {\n                            widget._preselect(data, value);\n                        } else {\n                            widget.value(value);\n                        }\n                   }\n                },\n\n                destroy: function() {\n                    this.widget.unbind(CHANGE, this._change);\n                }\n            })\n        },\n        gantt: {\n            dependencies: dataSourceBinding(\"dependencies\", \"dependencies\", \"setDependenciesDataSource\")\n        },\n\n        multiselect: {\n            value: Binder.extend({\n                init: function(widget, bindings, options) {\n                    Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                    this.widget = widget;\n                    this._change = this.change.bind(this);\n                    this.widget.first(CHANGE, this._change);\n                    this._initChange = false;\n                },\n\n                change: function() {\n                    var that = this,\n                        oldValues = that.bindings[VALUE].get(),\n                        valuePrimitive = that.options.valuePrimitive,\n                        newValues = valuePrimitive ? that.widget.value() : that.widget.dataItems();\n\n                    var field = this.options.dataValueField || this.options.dataTextField;\n\n                    newValues = newValues.slice(0);\n\n                    that._initChange = true;\n\n                    if (oldValues instanceof ObservableArray) {\n                        var remove = [];\n\n                        var newLength = newValues.length;\n\n                        var i = 0, j = 0;\n                        var old = oldValues[i];\n                        var same = false;\n                        var removeIndex;\n                        var newValue;\n                        var found;\n\n                        while (old !== undefined) {\n                            found = false;\n                            for (j = 0; j < newLength; j++) {\n                                if (valuePrimitive) {\n                                    same = newValues[j] == old;\n                                } else {\n                                    newValue = newValues[j];\n\n                                    newValue = newValue.get ? newValue.get(field) : newValue;\n                                    same = newValue == (old.get ? old.get(field) : old);\n                                }\n\n                                if (same) {\n                                    newValues.splice(j, 1);\n                                    newLength -= 1;\n                                    found = true;\n                                    break;\n                                }\n                            }\n\n                            if (!found) {\n                                remove.push(old);\n                                arraySplice(oldValues, i, 1);\n                                removeIndex = i;\n                            } else {\n                                i += 1;\n                            }\n\n                            old = oldValues[i];\n                        }\n\n                        arraySplice(oldValues, oldValues.length, 0, newValues);\n\n                        if (remove.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"remove\",\n                                items: remove,\n                                index: removeIndex\n                            });\n                        }\n\n                        if (newValues.length) {\n                            oldValues.trigger(\"change\", {\n                                action: \"add\",\n                                items: newValues,\n                                index: oldValues.length - 1\n                            });\n                        }\n                    } else {\n                        that.bindings[VALUE].set(newValues);\n                    }\n\n                    that._initChange = false;\n                },\n\n                refresh: function() {\n                    if (!this._initChange) {\n                        var options = this.options,\n                            widget = this.widget,\n                            field = options.dataValueField || options.dataTextField,\n                            value = this.bindings.value.get(),\n                            data = value,\n                            idx = 0, length,\n                            values = [],\n                            selectedValue;\n\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        if (field) {\n                            if (value instanceof ObservableArray) {\n                                for (length = value.length; idx < length; idx++) {\n                                    selectedValue = value[idx];\n                                    values[idx] = selectedValue.get ? selectedValue.get(field) : selectedValue;\n                                }\n                                value = values;\n                            } else if (value instanceof ObservableObject) {\n                                value = value.get(field);\n                            }\n                        }\n\n                        if (options.autoBind === false && options.valuePrimitive !== true && !widget._isBound()) {\n                            widget._preselect(data, value);\n                        } else {\n                            widget.value(value);\n                        }\n                    }\n                },\n\n                destroy: function() {\n                    this.widget.unbind(CHANGE, this._change);\n                }\n\n            })\n        },\n        scheduler: {\n            source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\").extend({\n                dataBound: function(e) {\n                    var idx;\n                    var length;\n                    var widget = this.widget;\n                    var elements = e.addedItems || widget.items();\n                    var data, parents;\n\n                    if (elements.length) {\n                        data = e.addedDataItems || widget.dataItems();\n                        parents = this.bindings.source._parents();\n\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            bindElement(elements[idx], data[idx], this._ns(e.ns), [data[idx]].concat(parents));\n                        }\n                    }\n                }\n            })\n        },\n\n        grid: {\n            source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\").extend({\n                dataBound: function(e) {\n                    var idx,\n                    length,\n                    widget = this.widget,\n                    elements = e.addedItems || widget.items(),\n                    parents,\n                    data;\n\n                    if (elements.length) {\n                        data = e.addedDataItems || widget.dataItems();\n                        parents = this.bindings.source._parents();\n\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            bindElement(elements[idx], data[idx], this._ns(e.ns), [data[idx]].concat(parents));\n                        }\n                    }\n                }\n            })\n        },\n\n        badge: {\n            text: Binder.extend({\n                init: function(widget, bindings, options) {\n                    Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                    this.widget = widget;\n                },\n                refresh: function() {\n                    var text = this.bindings.text.get();\n\n                    if (text == null) {\n                        text = \"\";\n                    }\n                    this.widget.text(text);\n                }\n            })\n        }\n    };\n\n    var arraySplice = function(arr, idx, remove, add) {\n        add = add || [];\n        remove = remove || 0;\n\n        var addLength = add.length;\n        var oldLength = arr.length;\n\n        var shifted = [].slice.call(arr, idx + remove);\n        var shiftedLength = shifted.length;\n        var index;\n\n        if (addLength) {\n            addLength = idx + addLength;\n            index = 0;\n\n            for (; idx < addLength; idx++) {\n                arr[idx] = add[index];\n                index++;\n            }\n\n            arr.length = addLength;\n        } else if (remove) {\n            arr.length = idx;\n\n            remove += idx;\n            while (idx < remove) {\n                delete arr[--remove];\n            }\n        }\n\n        if (shiftedLength) {\n            shiftedLength = idx + shiftedLength;\n            index = 0;\n\n            for (; idx < shiftedLength; idx++) {\n                arr[idx] = shifted[index];\n                index++;\n            }\n\n            arr.length = shiftedLength;\n        }\n\n        idx = arr.length;\n\n        while (idx < oldLength) {\n            delete arr[idx];\n            idx++;\n        }\n    };\n\n    var BindingTarget = Class.extend( {\n        init: function(target, options) {\n            this.target = target;\n            this.options = options;\n            this.toDestroy = [];\n        },\n\n        bind: function(bindings) {\n            var key,\n                hasValue,\n                hasSource,\n                hasEvents,\n                hasChecked,\n                hasCss,\n                widgetBinding = this instanceof WidgetBindingTarget,\n                specificBinders = this.binders();\n\n            for (key in bindings) {\n                if (key == VALUE) {\n                    hasValue = true;\n                } else if (key == SOURCE) {\n                    hasSource = true;\n                } else if (key == EVENTS && !widgetBinding) {\n                    hasEvents = true;\n                } else if (key == CHECKED) {\n                    hasChecked = true;\n                } else if (key == CSS) {\n                    hasCss = true;\n                } else {\n                    this.applyBinding(key, bindings, specificBinders);\n                }\n            }\n            if (hasSource) {\n                this.applyBinding(SOURCE, bindings, specificBinders);\n            }\n\n            if (hasValue) {\n                this.applyBinding(VALUE, bindings, specificBinders);\n            }\n\n            if (hasChecked) {\n                this.applyBinding(CHECKED, bindings, specificBinders);\n            }\n\n            if (hasEvents && !widgetBinding) {\n                this.applyBinding(EVENTS, bindings, specificBinders);\n            }\n\n            if (hasCss && !widgetBinding) {\n                this.applyBinding(CSS, bindings, specificBinders);\n            }\n\n            if (widgetBinding && this.target && this.target.floatingLabel) {\n                this.applyBinding(\"floatingLabel\", bindings, specificBinders);\n            }\n        },\n\n        binders: function() {\n            return binders[this.target.nodeName.toLowerCase()] || {};\n        },\n\n        applyBinding: function(name, bindings, specificBinders) {\n            var binder = specificBinders[name] || binders[name],\n                toDestroy = this.toDestroy,\n                attribute,\n                binding = bindings[name];\n\n            if (binder) {\n                binder = new binder(this.target, bindings, this.options);\n\n                toDestroy.push(binder);\n\n                if (binding instanceof Binding) {\n                    binder.bind(binding);\n                    toDestroy.push(binding);\n                } else {\n                    for (attribute in binding) {\n                        binder.bind(binding, attribute);\n                        toDestroy.push(binding[attribute]);\n                    }\n                }\n            } else if (name !== \"template\") {\n                throw new Error(\"The \" + name + \" binding is not supported by the \" + this.target.nodeName.toLowerCase() + \" element\");\n            }\n        },\n\n        destroy: function() {\n            var idx,\n                length,\n                toDestroy = this.toDestroy;\n\n            for (idx = 0, length = toDestroy.length; idx < length; idx++) {\n                toDestroy[idx].destroy();\n            }\n        }\n    });\n\n    var WidgetBindingTarget = BindingTarget.extend( {\n        binders: function() {\n            return binders.widget[this.target.options.name.toLowerCase()] || {};\n        },\n\n        applyBinding: function(name, bindings, specificBinders) {\n            var binder = specificBinders[name] || binders.widget[name],\n                toDestroy = this.toDestroy,\n                attribute,\n                binding = bindings[name];\n\n            if (binder) {\n                binder = new binder(this.target, bindings, this.target.options);\n\n                toDestroy.push(binder);\n\n\n                if (binding instanceof Binding) {\n                    binder.bind(binding);\n                    toDestroy.push(binding);\n                } else {\n                    for (attribute in binding) {\n                        binder.bind(binding, attribute);\n                        toDestroy.push(binding[attribute]);\n                    }\n                }\n            } else {\n                throw new Error(\"The \" + name + \" binding is not supported by the \" + this.target.options.name + \" widget\");\n            }\n        }\n    });\n\n    function bindingTargetForRole(element, roles) {\n        var widget = kendo.initWidget(element, {}, roles);\n\n        if (widget) {\n            return new WidgetBindingTarget(widget);\n        }\n    }\n\n    var keyValueRegExp = /[A-Za-z0-9_\\-]+:(\\{([^}]*)\\}|[^,}]+)/g,\n        whiteSpaceRegExp = /\\s/g;\n\n    function parseBindings(bind) {\n        var result = {},\n            idx,\n            length,\n            token,\n            colonIndex,\n            key,\n            value,\n            tokens;\n\n        tokens = bind.match(keyValueRegExp);\n\n        for (idx = 0, length = tokens.length; idx < length; idx++) {\n            token = tokens[idx];\n            colonIndex = token.indexOf(\":\");\n\n            key = token.substring(0, colonIndex);\n            value = token.substring(colonIndex + 1);\n\n            if (value.charAt(0) == \"{\") {\n                value = parseBindings(value);\n            }\n\n            result[key] = value;\n        }\n\n        return result;\n    }\n\n    function createBindings(bindings, source, type) {\n        var binding,\n            result = {};\n\n        for (binding in bindings) {\n            result[binding] = new type(source, bindings[binding]);\n        }\n\n        return result;\n    }\n\n    function bindElement(element, source, roles, parents) {\n\n        if(!element || element.getAttribute(\"data-\" + kendo.ns + \"stop\")){\n            return;\n        }\n\n        var role = element.getAttribute(\"data-\" + kendo.ns + \"role\"),\n            idx,\n            bind = element.getAttribute(\"data-\" + kendo.ns + \"bind\"),\n            childrenCopy = [],\n            deep = true,\n            bindings,\n            options = {},\n            target;\n\n        parents = parents || [source];\n\n        if (role || bind) {\n            unbindElement(element, false);\n        }\n\n        if (role) {\n            target = bindingTargetForRole(element, roles);\n        }\n\n        if (bind) {\n            bind = parseBindings(bind.replace(whiteSpaceRegExp, \"\"));\n\n            if (!target) {\n                options = kendo.parseOptions(element, {textField: \"\", valueField: \"\", template: \"\", valueUpdate: CHANGE, valuePrimitive: false, autoBind: true}, source);\n                options.roles = roles;\n                target = new BindingTarget(element, options);\n            }\n\n            target.source = source;\n\n            bindings = createBindings(bind, parents, Binding);\n\n            if (options.template) {\n                bindings.template = new TemplateBinding(parents, \"\", options.template);\n            }\n\n            if (bindings.click) {\n                bind.events = bind.events || {};\n                bind.events.click = bind.click;\n                bindings.click.destroy();\n                delete bindings.click;\n            }\n\n            if (bindings.source) {\n                deep = false;\n            }\n\n            if (bind.attr) {\n                bindings.attr = createBindings(bind.attr, parents, Binding);\n            }\n\n            if (bind.style) {\n                bindings.style = createBindings(bind.style, parents, Binding);\n            }\n\n            if (bind.events) {\n                bindings.events = createBindings(bind.events, parents, EventBinding);\n            }\n\n            if (bind.css) {\n                bindings.css = createBindings(bind.css, parents, Binding);\n            }\n\n            target.bind(bindings);\n        }\n\n        if (target) {\n            element.kendoBindingTarget = target;\n        }\n\n        var children = element.children;\n        if (deep && children && !element.getAttribute(\"data-\" + kendo.ns + \"stop\")) {\n            // https://github.com/telerik/kendo/issues/1240 for the weirdness.\n            for (idx = 0; idx < children.length; idx++) {\n                childrenCopy[idx] = children[idx];\n            }\n\n            for (idx = 0; idx < childrenCopy.length; idx++) {\n                bindElement(childrenCopy[idx], source, roles, parents);\n            }\n        }\n    }\n\n    function bind(dom, object) {\n        var idx,\n            length,\n            node,\n            roles = kendo.rolesFromNamespaces([].slice.call(arguments, 2));\n\n        object = kendo.observable(object);\n        dom = $(dom);\n\n        for (idx = 0, length = dom.length; idx < length; idx++) {\n            node = dom[idx];\n            if (node.nodeType === 1) {\n                bindElement(node, object, roles);\n            }\n        }\n    }\n\n    function unbindElement(element, destroyWidget) {\n        var bindingTarget = element.kendoBindingTarget;\n\n        if (bindingTarget) {\n            bindingTarget.destroy();\n\n            if (deleteExpando) {\n                delete element.kendoBindingTarget;\n            } else if (element.removeAttribute) {\n                element.removeAttribute(\"kendoBindingTarget\");\n            } else {\n                element.kendoBindingTarget = null;\n            }\n        }\n\n        if(destroyWidget) {\n            var widget = kendo.widgetInstance($(element));\n            if (widget && typeof widget.destroy === FUNCTION) {\n                widget.destroy();\n            }\n        }\n    }\n\n    function unbindElementTree(element, destroyWidgets) {\n        unbindElement(element, destroyWidgets);\n\n        unbindElementChildren(element, destroyWidgets);\n    }\n\n    function unbindElementChildren(element, destroyWidgets) {\n        var children = element.children;\n\n        if (children) {\n            for (var idx = 0, length = children.length; idx < length; idx++) {\n                unbindElementTree(children[idx], destroyWidgets);\n            }\n        }\n    }\n\n    function unbind(dom) {\n        var idx, length;\n\n        dom = $(dom);\n\n        for (idx = 0, length = dom.length; idx < length; idx++ ) {\n            unbindElementTree(dom[idx], false);\n        }\n    }\n\n    function notify(widget, namespace) {\n        var element = widget.element,\n            bindingTarget = element[0].kendoBindingTarget;\n\n        if (bindingTarget) {\n            bind(element, bindingTarget.source, namespace);\n        }\n    }\n\n    function retrievePrimitiveValues(value, valueField) {\n        var values = [];\n        var idx = 0;\n        var length;\n        var item;\n\n        if (!valueField) {\n            return value;\n        }\n\n        if (value instanceof ObservableArray) {\n            for (length = value.length; idx < length; idx++) {\n                item = value[idx];\n                values[idx] = item.get ? item.get(valueField) : item[valueField];\n            }\n            value = values;\n        } else if (value instanceof ObservableObject) {\n            value = value.get(valueField);\n        }\n\n        return value;\n    }\n\n    kendo.unbind = unbind;\n    kendo.bind = bind;\n    kendo.data.binders = binders;\n    kendo.data.Binder = Binder;\n    kendo.notify = notify;\n\n    kendo.observable = function(object) {\n        if (!(object instanceof ObservableObject)) {\n            object = new ObservableObject(object);\n        }\n\n        return object;\n    };\n\n    kendo.observableHierarchy = function(array) {\n        var dataSource = kendo.data.HierarchicalDataSource.create(array);\n\n        function recursiveRead(data) {\n            var i, children;\n\n            for (i = 0; i < data.length; i++) {\n                data[i]._initChildren();\n\n                children = data[i].children;\n\n                children.fetch();\n\n                data[i].items = children.data();\n\n                recursiveRead(data[i].items);\n            }\n        }\n\n        dataSource.fetch();\n\n        recursiveRead(dataSource.data());\n\n        dataSource._data._dataSource = dataSource;\n\n        return dataSource._data;\n    };\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.validator',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"validator\",\n    name: \"Validator\",\n    category: \"web\",\n    description: \"The Validator offers an easy way to do a client-side form validation.\",\n    depends: [ \"core\" ]\n};\n\n/* jshint eqnull: true */\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        NS = \".kendoValidator\",\n        INVALIDMSG = \"k-invalid-msg\",\n        invalidMsgRegExp = new RegExp(INVALIDMSG,'i'),\n        INVALIDINPUT = \"k-invalid\",\n        VALIDINPUT = \"k-valid\",\n        VALIDATIONSUMMARY = \"k-validation-summary\",\n        INVALIDLABEL = \"k-text-error\",\n        MESSAGEBOX = \"k-messagebox k-messagebox-error\",\n        INPUTINNER = \".k-input-inner\",\n        INPUTWRAPPER = \".k-input\",\n        ARIAINVALID = \"aria-invalid\",\n        ARIADESCRIBEDBY = \"aria-describedby\",\n        emailRegExp = /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,\n        urlRegExp = /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i,\n        INPUTSELECTOR = \":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])\",\n        CHECKBOXSELECTOR = \":checkbox:not([disabled],[readonly])\",\n        NUMBERINPUTSELECTOR = \"[type=number],[type=range]\",\n        BLUR = \"blur\",\n        NAME = \"name\",\n        FORM = \"form\",\n        NOVALIDATE = \"novalidate\",\n        //events\n        VALIDATE = \"validate\",\n        CHANGE = \"change\",\n        VALIDATE_INPUT = \"validateInput\",\n\n        patternMatcher = function(value, pattern) {\n            if (typeof pattern === \"string\") {\n                pattern = new RegExp('^(?:' + pattern + ')$');\n            }\n            return pattern.test(value);\n        },\n        matcher = function(input, selector, pattern) {\n            var value = input.val();\n\n            if (input.filter(selector).length && value !== \"\") {\n                return patternMatcher(value, pattern);\n            }\n            return true;\n        },\n        hasAttribute = function(input, name) {\n            if (input.length)  {\n                return input[0].attributes[name] != null;\n            }\n            return false;\n        };\n\n    if (!kendo.ui.validator) {\n        kendo.ui.validator = { rules: {}, messages: {}, allowSubmit: $.noop, validateOnInit: $.noop };\n    }\n\n    function resolveRules(element) {\n        var resolvers = kendo.ui.validator.ruleResolvers || {},\n            rules = {},\n            name;\n\n        for (name in resolvers) {\n            $.extend(true, rules, resolvers[name].resolve(element));\n        }\n        return rules;\n    }\n\n    function decode(value) {\n        return value.replace(/&amp/g, '&amp;')\n            .replace(/&quot;/g, '\"')\n            .replace(/&#39;/g, \"'\")\n            .replace(/&lt;/g, '<')\n            .replace(/&gt;/g, '>');\n    }\n\n    function numberOfDecimalDigits(value) {\n        value = (value + \"\").split('.');\n        if (value.length > 1) {\n            return value[1].length;\n        }\n        return 0;\n    }\n\n    function parseHtml(text) {\n        if ($.parseHTML) {\n            return $($.parseHTML(text));\n        }\n        return $(text);\n    }\n\n    function searchForMessageContainer(elements, fieldName) {\n        var containers = $(),\n            element,\n            attr;\n\n        for (var idx = 0, length = elements.length; idx < length; idx++) {\n            element = elements[idx];\n            if (invalidMsgRegExp.test(element.className)) {\n                attr = element.getAttribute(kendo.attr(\"for\"));\n                if (attr === fieldName) {\n                    containers = containers.add(element);\n                }\n            }\n        }\n        return containers;\n    }\n\n    function isLabelFor(label, element) {\n        if (!label) {\n            return false;\n        }\n        if (typeof label.nodeName !== 'string' || label.nodeName !== 'LABEL') {\n            return false;\n        }\n        if (typeof label.getAttribute('for') !== 'string' || typeof element.getAttribute('id') !== 'string') {\n            return false;\n        }\n        if (label.getAttribute('for') !== element.getAttribute('id')) {\n            return false;\n        }\n\n        return true;\n    }\n\n    var SUMMARYTEMPLATE = '<ul>' +\n        '#for(var i = 0; i < errors.length; i += 1){#' +\n            '<li><a data-field=\"#=errors[i].field#\" href=\"\\\\#\">#= errors[i].message #</a></li>' +\n        '# } #' +\n    '</ul>';\n\n    var Validator = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                resolved = resolveRules(element),\n                validateAttributeSelector = \"[\" + kendo.attr(\"validate\") + \"!=false]\";\n\n            options = options || {};\n\n            options.rules = $.extend({}, kendo.ui.validator.rules, resolved.rules, options.rules);\n            options.messages = $.extend({}, kendo.ui.validator.messages, resolved.messages, options.messages);\n\n            Widget.fn.init.call(that, element, options);\n\n            that._errorTemplate = kendo.template(that.options.errorTemplate);\n            that._summaryTemplate = kendo.template(that.options.validationSummary.template || SUMMARYTEMPLATE);\n\n            if (that.element.is(FORM)) {\n                that.element.attr(NOVALIDATE, NOVALIDATE);\n            }\n\n            that._inputSelector = INPUTSELECTOR + validateAttributeSelector;\n            that._checkboxSelector = CHECKBOXSELECTOR + validateAttributeSelector;\n\n            that._errors = {};\n            that._attachEvents();\n            that._isValidated = false;\n\n            if (that._validateOnInit()) {\n                that.validate();\n            }\n        },\n\n        events: [ VALIDATE, CHANGE, VALIDATE_INPUT ],\n\n        options: {\n            name: \"Validator\",\n            errorTemplate: '<span class=\"k-form-error\">#= message #</span>',\n            messages: {\n                required: \"{0} is required\",\n                pattern: \"{0} is not valid\",\n                min: \"{0} should be greater than or equal to {1}\",\n                max: \"{0} should be smaller than or equal to {1}\",\n                step: \"{0} is not valid\",\n                email: \"{0} is not valid email\",\n                url: \"{0} is not valid URL\",\n                date: \"{0} is not valid date\",\n                dateCompare: \"End date should be greater than or equal to the start date\",\n                captcha: \"The text you entered doesn't match the image.\"\n            },\n            rules: {\n                required: function(input) {\n                    var noNameCheckbox = !input.attr(\"name\") && !input.is(\":checked\"),\n                        name = input.attr(\"name\"),\n                        quote = !!name && name.indexOf(\"'\") > -1 ? '\\\"' : \"'\",\n                        namedCheckbox = input.attr(\"name\") && !this.element.find(\"input[name=\" + quote + input.attr(\"name\") + quote + \"]:checked\").length,\n                        checkbox = input.filter(\"[type=checkbox]\").length && (noNameCheckbox || namedCheckbox),\n                        radio = input.filter(\"[type=radio]\").length && !this.element.find(\"input[name=\"  + quote + input.attr(\"name\") + quote + \"]:checked\").length,\n                        value = input.val();\n\n                    return !(hasAttribute(input, \"required\") && (!value || value === \"\" || value.length === 0 || checkbox || radio));\n                },\n                pattern: function(input) {\n                    if (input.filter(\"[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]\").filter(\"[pattern]\").length && input.val() !== \"\") {\n                        return patternMatcher(input.val(), input.attr(\"pattern\"));\n                    }\n                    return true;\n                },\n                min: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[min]\").length && input.val() !== \"\") {\n                        var min = parseFloat(input.attr(\"min\")) || 0,\n                            val = kendo.parseFloat(input.val());\n\n                        return min <= val;\n                    }\n                    return true;\n                },\n                max: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[max]\").length && input.val() !== \"\") {\n                        var max = parseFloat(input.attr(\"max\")) || 0,\n                            val = kendo.parseFloat(input.val());\n\n                        return max >= val;\n                    }\n                    return true;\n                },\n                step: function(input) {\n                    if (input.filter(NUMBERINPUTSELECTOR + \",[\" + kendo.attr(\"type\") + \"=number]\").filter(\"[step]\").length && input.val() !== \"\") {\n                        var min = parseFloat(input.attr(\"min\")) || 0,\n                            step = parseFloat(input.attr(\"step\")) || 1,\n                            val = parseFloat(input.val()),\n                            decimals = numberOfDecimalDigits(step),\n                            raise;\n\n                        if (decimals) {\n                            raise = Math.pow(10, decimals);\n                            return ((Math.floor((val-min)*raise))%(step*raise)) / Math.pow(100, decimals) === 0;\n                        }\n                        return ((val-min)%step) === 0;\n                    }\n                    return true;\n                },\n                email: function(input) {\n                    return matcher(input, \"[type=email],[\" + kendo.attr(\"type\") + \"=email]\", emailRegExp);\n                },\n                url: function(input) {\n                    return matcher(input, \"[type=url],[\" + kendo.attr(\"type\") + \"=url]\", urlRegExp);\n                },\n                date: function(input) {\n                    if (input.filter(\"[type^=date],[\" + kendo.attr(\"type\") + \"=date]\").length && input.val() !== \"\") {\n                        return kendo.parseDate(input.val(), input.attr(kendo.attr(\"format\"))) !== null;\n                    }\n                    return true;\n                },\n                captcha: function (input) {\n                    if (input.filter(\"[\" + kendo.attr(\"role\") + \"=captcha]\").length) {\n                        var that = this,\n                            captcha = kendo.widgetInstance(input),\n                            isValidated = function(isValid){\n                                return typeof(isValid) !== 'undefined' && isValid !== null;\n                            };\n\n                        if (!input.data(\"captcha_validating\") && !isValidated(captcha.isValid()) && !!captcha.getCaptchaId()) {\n                            input.data(\"captcha_validating\", true);\n                            that._validating = true;\n                            captcha.validate().done(function(){\n                                that._validating = false;\n                                that._checkElement(input);\n                            }).fail(function(data){\n                                that._validating = false;\n                                if(data.error && data.error === \"handler_not_defined\") {\n                                    window.console.warn(\"Captcha's validationHandler is not defined! You should either define a proper validation endpoint or declare a callback function to ensure the required behavior.\");\n                                }\n                            });\n                        }\n\n                        if (isValidated(captcha.isValid())){\n                            input.removeData(\"captcha_validating\");\n                            return captcha.isValid();\n                        }\n                    }\n                    return true;\n                }\n            },\n            validateOnBlur: true,\n            validationSummary: false\n        },\n\n        _allowSubmit: function() {\n            return kendo.ui.validator.allowSubmit(this.element, this.errors());\n        },\n\n        _validateOnInit: function() {\n            return kendo.ui.validator.validateOnInit(this.element);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this.element.off(NS);\n\n            if (this.validationSummary) {\n                this.validationSummary.off(NS);\n                this.validationSummary = null;\n            }\n        },\n\n        value: function() {\n            if (!this._isValidated) {\n                return false;\n            }\n\n            return this.errors().length === 0;\n        },\n\n        _submit: function(e) {\n            if ((!this.validate() && !this._allowSubmit()) || this._validating) {\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                e.preventDefault();\n                return false;\n            }\n            return true;\n        },\n\n        _checkElement: function(element) {\n            var state = this.value();\n\n            this.validateInput(element);\n\n            if (this.value() !== state) {\n                this.trigger(CHANGE);\n            }\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            if (that.element.is(FORM)) {\n                that.element.on(\"submit\" + NS, that._submit.bind(that));\n            }\n\n            if (that.options.validateOnBlur) {\n                if (!that.element.is(INPUTSELECTOR)) {\n                    that.element.on(BLUR + NS, that._inputSelector, function() {\n                        that._checkElement($(this));\n                    });\n\n                    that.element.on(\"click\" + NS, that._checkboxSelector, function() {\n                        that._checkElement($(this));\n                    });\n                } else {\n                    that.element.on(BLUR + NS, function() {\n                        that._checkElement(that.element);\n                    });\n\n                    if (that.element.is(CHECKBOXSELECTOR)) {\n                        that.element.on(\"click\" + NS, function() {\n                            that._checkElement(that.element);\n                        });\n                    }\n                }\n            }\n        },\n\n        validate: function() {\n            var inputs;\n            var idx;\n            var result = false;\n            var length;\n\n            var isValid = this.value();\n\n            this._errors = {};\n\n            if (!this.element.is(INPUTSELECTOR)) {\n                var invalid = false;\n\n                inputs = this.element.find(this._inputSelector);\n\n                for (idx = 0, length = inputs.length; idx < length; idx++) {\n                    if (!this.validateInput(inputs.eq(idx))) {\n                        invalid = true;\n                    }\n                }\n\n                result = !invalid;\n            } else {\n                result = this.validateInput(this.element);\n            }\n\n            if (this.options.validationSummary && !isValid) {\n                this.showValidationSummary();\n            }\n\n            this.trigger(VALIDATE, { valid: result, errors: this.errors() });\n\n            if (isValid !== result) {\n                this.trigger(CHANGE);\n            }\n\n            return result;\n        },\n\n        validateInput: function(input) {\n            input = $(input);\n\n\n            this._isValidated = true;\n\n            var that = this,\n                template = that._errorTemplate,\n                result = that._checkValidity(input),\n                valid = result.valid,\n                widgetInstance,\n                className = \".\" + INVALIDMSG,\n                fieldName = (input.attr(NAME) || \"\"),\n                lbl = that._findMessageContainer(fieldName).add(input.next(className).filter(function() {\n                    var element = $(this);\n                    if (element.filter(\"[\" + kendo.attr(\"for\") + \"]\").length) {\n                        return element.attr(kendo.attr(\"for\")) === fieldName;\n                    }\n\n                    return true;\n\n                })).addClass(\"k-hidden\"),\n                messageText = !valid ? that._extractMessage(input, result.key) : \"\",\n                messageLabel = !valid ? parseHtml(template({ message: decode(messageText), field: fieldName })) : \"\",\n                wasValid = !input.attr(ARIAINVALID),\n                isInputInner = input.is(INPUTINNER),\n                inputWrapper = input.parent(INPUTWRAPPER);\n\n            input.removeAttr(ARIAINVALID);\n\n            if (!valid && !input.data(\"captcha_validating\")) {\n                that._errors[fieldName] = messageText;\n                var lblId = lbl.attr('id');\n\n                that._decorateMessageContainer(messageLabel, fieldName);\n\n\n                if (lblId) {\n                    messageLabel.attr('id', lblId);\n                }\n\n                if (lbl.length !== 0) {\n                    lbl.replaceWith(messageLabel);\n                } else {\n                    widgetInstance = kendo.widgetInstance(input);\n                    var parentElement = input.parent().get(0);\n                    var nextElement = input.next().get(0);\n                    var prevElement = input.prev().get(0);\n\n                    // Get the instance of the RadioGroup which is not initialized on the input element\n                    if(!widgetInstance && input.is(\"[type=radio]\")) {\n                        widgetInstance = kendo.widgetInstance(input.closest(\".k-radio-list\"));\n                    }\n\n                    // Get the instance of the CheckBoxGroup which is not initialized on the input element\n                    if(!widgetInstance && input.is(\"[type=checkbox]\")) {\n                        widgetInstance = kendo.widgetInstance(input.closest(\".k-checkbox-list\"));\n                    }\n\n                    if (widgetInstance && widgetInstance.wrapper) {\n                        messageLabel.insertAfter(widgetInstance.wrapper);\n                    } else if (parentElement && parentElement.nodeName === \"LABEL\") {\n                        // Input inside label\n                        messageLabel.insertAfter(parentElement);\n                    } else if (nextElement && isLabelFor(nextElement, input[0])) {\n                        // Input before label\n                        messageLabel.insertAfter(nextElement);\n                    } else if (prevElement && isLabelFor(prevElement, input[0])) {\n                        // Input after label\n                        messageLabel.insertAfter(input);\n                    } else if (isInputInner && inputWrapper.length) {\n                        // Input after input wrapper\n                        messageLabel.insertAfter(inputWrapper);\n                    } else {\n                        messageLabel.insertAfter(input);\n                    }\n                }\n\n                messageLabel.removeClass(\"k-hidden\");\n\n                input.attr(ARIAINVALID, true);\n            } else {\n                delete that._errors[fieldName];\n            }\n\n            if (wasValid !== valid) {\n                this.trigger(VALIDATE_INPUT, { valid: valid, input: input, error: messageText, field: fieldName });\n            }\n\n            widgetInstance = kendo.widgetInstance(input);\n            if (!widgetInstance || !(widgetInstance._inputWrapper || widgetInstance.wrapper)) {\n                input.toggleClass(INVALIDINPUT, !valid);\n                input.toggleClass(VALIDINPUT, valid);\n            }\n\n            if (widgetInstance) {\n                var widget = kendo.widgetInstance(input);\n                var inputWrap = widget._inputWrapper || widget.wrapper;\n                var inputLabel = widget._inputLabel;\n\n                if (inputWrap) {\n                    inputWrap.toggleClass(INVALIDINPUT, !valid);\n                    inputWrap.toggleClass(VALIDINPUT, valid);\n                }\n                if (inputLabel) {\n                    inputLabel.toggleClass(INVALIDLABEL, !valid);\n                }\n            }\n\n            if (wasValid !== valid) {\n                var errorId = messageLabel ? messageLabel.attr(\"id\") : lbl.attr(\"id\");\n\n                that._associateMessageContainer(input, errorId);\n\n                if (this.options.validationSummary && this.options.validateOnBlur) {\n                    this.showValidationSummary();\n                }\n            }\n\n            return valid;\n        },\n\n        hideMessages: function() {\n            var that = this,\n                className = \".\" + INVALIDMSG,\n                element = that.element;\n\n            that._disassociateMessageContainers();\n\n            if (!element.is(INPUTSELECTOR)) {\n                element.find(className).addClass(\"k-hidden\");\n            } else {\n                element.next(className).addClass(\"k-hidden\");\n            }\n        },\n\n        reset: function() {\n            var that = this,\n                inputs = that.element.find(\".\" + INVALIDINPUT),\n                labels = that.element.find(\".\" + INVALIDLABEL);\n\n            that._errors = [];\n\n            that.hideMessages();\n\n            that.hideValidationSummary();\n\n            inputs.removeAttr(ARIAINVALID);\n            inputs.removeClass(INVALIDINPUT);\n            labels.removeClass(INVALIDLABEL);\n        },\n\n        _findMessageContainer: function(fieldName) {\n            var locators = kendo.ui.validator.messageLocators,\n                name,\n                containers = $();\n\n            for (var idx = 0, length = this.element.length; idx < length; idx++) {\n                containers = containers.add(searchForMessageContainer(this.element[idx].getElementsByTagName(\"*\"), fieldName));\n            }\n\n            for (name in locators) {\n                containers = containers.add(locators[name].locate(this.element, fieldName));\n            }\n\n            return containers;\n        },\n\n        _decorateMessageContainer: function(container, fieldName) {\n            var locators = kendo.ui.validator.messageLocators,\n                name;\n\n            container.addClass(INVALIDMSG)\n                .attr(kendo.attr(\"for\"), fieldName || \"\");\n\n            if (!container.attr(\"id\")) {\n                container.attr(\"id\", fieldName + \"-error\");\n            }\n\n            for (name in locators) {\n                locators[name].decorate(container, fieldName);\n            }\n        },\n\n        _extractMessage: function(input, ruleKey) {\n            var that = this,\n                customMessage = that.options.messages[ruleKey],\n                fieldName = input.attr(NAME),\n                nonDefaultMessage;\n\n            if (!kendo.ui.Validator.prototype.options.messages[ruleKey]) {\n                 nonDefaultMessage = kendo.isFunction(customMessage) ? customMessage(input) : customMessage;\n            }\n\n            customMessage = kendo.isFunction(customMessage) ? customMessage(input) : customMessage;\n\n            return kendo.format(input.attr(kendo.attr(ruleKey + \"-msg\")) || input.attr(\"validationMessage\") || nonDefaultMessage || customMessage || input.attr(\"title\") || \"\",\n                fieldName,\n                input.attr(ruleKey) || input.attr(kendo.attr(ruleKey)));\n        },\n\n        _checkValidity: function(input) {\n            var rules = this.options.rules,\n                rule;\n\n            for (rule in rules) {\n                if (!rules[rule].call(this, input)) {\n                    return { valid: false, key: rule };\n                }\n            }\n\n            return { valid: true };\n        },\n\n        errors: function() {\n            var results = [],\n                errors = this._errors,\n                error;\n\n            for (error in errors) {\n                results.push(errors[error]);\n            }\n            return results;\n        },\n\n        setOptions: function(options) {\n            if (options.validationSummary) {\n                this.hideValidationSummary();\n            }\n\n            kendo.deepExtend(this.options, options);\n\n            this.destroy();\n\n            this.init(this.element, this.options);\n\n            this._setEvents(this.options);\n        },\n\n        _getInputNames: function() {\n            var that = this,\n                inputs = that.element.find(that._inputSelector),\n                sorted = [];\n\n            for (var idx = 0, length = inputs.length; idx < length; idx++) {\n                var input = $(inputs[idx]);\n\n                if (hasAttribute(input, NAME)) {\n                    // Add current name if:\n                    // - not present so far;\n                    // - present but not part of CheckBoxGroup or RadioGroup.\n                    if(sorted.indexOf(input.attr(NAME)) === -1 ||\n                        (input.closest(\".k-checkbox-list\").length === 0 &&\n                        input.closest(\".k-radio-list\").length === 0)) {\n                            sorted.push(input.attr(NAME));\n                    }\n                }\n            }\n\n            return sorted;\n        },\n\n        _associateMessageContainer: function(input, errorId) {\n            var nextFocusable = kendo.getWidgetFocusableElement(input);\n\n            if (!nextFocusable || !errorId) {\n                return;\n            }\n\n            kendo.toggleAttribute(nextFocusable, ARIADESCRIBEDBY, errorId);\n        },\n\n        _disassociateMessageContainers: function() {\n            var that = this,\n                inputs = that.element.find(\".\" + INVALIDINPUT).addBack(),\n                input, errorId;\n\n            for (var i = 0; i < inputs.length; i += 1) {\n                input = $(inputs[i]);\n\n                if (input.is(\"input\")) {\n                    errorId = that._findMessageContainer(input.attr(NAME))\n                        .add(input.next(\".\" + INVALIDMSG))\n                        .attr(\"id\");\n\n                    that._associateMessageContainer(input, errorId);\n                }\n            }\n        },\n\n        _errorsByName: function() {\n            var that = this,\n                inputNames = that._getInputNames(),\n                sorted = [];\n\n            for (var i = 0; i < inputNames.length; i += 1) {\n                var name = inputNames[i];\n\n                if (that._errors[name]) {\n                    sorted.push({\n                        field: name,\n                        message: that._errors[name]\n                    });\n                }\n            }\n\n            return sorted;\n        },\n\n        _renderSummary: function() {\n            var that = this,\n                options = this.options.validationSummary,\n                element = this.element,\n                prevElement = element.prev(),\n                container;\n\n            if (options.container) {\n                container = $(options.container);\n            } else if (prevElement && prevElement.hasClass(VALIDATIONSUMMARY)) {\n                container = prevElement;\n            } else {\n                container = $(\"<div />\").insertBefore(that.element);\n            }\n\n            container.addClass([VALIDATIONSUMMARY, MESSAGEBOX].join(\" \"));\n            container.attr(\"role\", \"alert\");\n\n            container.on(\"click\" + NS, that._summaryClick.bind(that));\n\n            return container;\n        },\n\n        _summaryClick: function(e) {\n            e.preventDefault();\n\n            var that = this,\n                link = $(e.target),\n                target = that.element.find(\"[name='\" + link.data(\"field\") +  \"']\"),\n                nextFocusable;\n\n            if (!target.length) {\n                return;\n            }\n\n            nextFocusable = kendo.getWidgetFocusableElement(target);\n\n            if (nextFocusable) {\n                nextFocusable.trigger(\"focus\");\n            }\n        },\n\n        showValidationSummary: function() {\n            var that = this,\n                summary = that.validationSummary,\n                errors = that._errorsByName(),\n                errorsList;\n\n            if (!summary) {\n                summary = that.validationSummary = that._renderSummary();\n            }\n\n            errorsList = parseHtml(that._summaryTemplate({\n                errors: errors\n            }));\n\n            summary.html(errorsList);\n\n            summary.toggleClass(\"k-hidden\", !errors.length);\n        },\n\n        hideValidationSummary: function() {\n            var that = this,\n                summary = that.validationSummary;\n\n            if (!summary) {\n                return;\n            }\n\n            summary.addClass(\"k-hidden\");\n        }\n    });\n\n    kendo.ui.plugin(Validator);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)();  });\n\n(function(f, define){\n    define('kendo.router',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"router\",\n    name: \"Router\",\n    category: \"framework\",\n    description: \"The Router class is responsible for tracking the application state and navigating between the application states.\",\n    depends: [ \"core\" ],\n    hidden: false\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        CHANGE = \"change\",\n        BACK = \"back\",\n        SAME = \"same\",\n        support = kendo.support,\n        location = window.location,\n        history = window.history,\n        CHECK_URL_INTERVAL = 50,\n        BROKEN_BACK_NAV = kendo.support.browser.msie,\n        hashStrip = /^#*/,\n        document = window.document;\n\n    function absoluteURL(path, pathPrefix) {\n        if (!pathPrefix) {\n            return path;\n        }\n\n        if (path + \"/\" === pathPrefix) {\n            path = pathPrefix;\n        }\n\n        var regEx = new RegExp(\"^\" + pathPrefix, \"i\");\n\n        if (!regEx.test(path)) {\n            path = pathPrefix + \"/\" + path;\n        }\n\n        return location.protocol + '//' + (location.host + \"/\" + path).replace(/\\/\\/+/g, '/');\n    }\n\n    function hashDelimiter(bang) {\n        return bang ? \"#!\" : \"#\";\n    }\n\n    function locationHash(hashDelimiter) {\n        var href = location.href;\n\n        // ignore normal anchors if in hashbang mode - however, still return \"\" if no hash present\n        if (hashDelimiter === \"#!\" && href.indexOf(\"#\") > -1 && href.indexOf(\"#!\") < 0) {\n            return null;\n        }\n\n        return href.split(hashDelimiter)[1] || \"\";\n    }\n\n    function stripRoot(root, url) {\n        if (url.indexOf(root) === 0) {\n            return (url.substr(root.length)).replace(/\\/\\//g, '/');\n        } else {\n            return url;\n        }\n    }\n\n    var HistoryAdapter = kendo.Class.extend({\n        back: function() {\n            if (BROKEN_BACK_NAV) {\n                setTimeout(function() { history.back(); });\n            } else {\n                history.back();\n            }\n        },\n\n        forward: function() {\n            if (BROKEN_BACK_NAV) {\n                setTimeout(function() { history.forward(); });\n            } else {\n                history.forward();\n            }\n        },\n\n        length: function() {\n            return history.length;\n        },\n\n        replaceLocation: function(url) {\n            location.replace(url);\n        }\n    });\n\n    var PushStateAdapter = HistoryAdapter.extend({\n        init: function(root) {\n            this.root = root;\n        },\n\n        navigate: function(to) {\n            history.pushState({}, document.title, absoluteURL(to, this.root));\n        },\n\n        replace: function(to) {\n            history.replaceState({}, document.title, absoluteURL(to, this.root));\n        },\n\n        normalize: function(url) {\n            return stripRoot(this.root, url);\n        },\n\n        current: function() {\n            var current = location.pathname;\n\n            if (location.search) {\n                current += location.search;\n            }\n\n            return stripRoot(this.root, current);\n        },\n\n        change: function(callback) {\n            $(window).bind(\"popstate.kendo\", callback);\n        },\n\n        stop: function() {\n            $(window).unbind(\"popstate.kendo\");\n        },\n\n        normalizeCurrent: function(options) {\n            var fixedUrl,\n                root = options.root,\n                pathname = location.pathname,\n                hash = locationHash(hashDelimiter(options.hashBang));\n\n            if (root === pathname + \"/\") {\n                fixedUrl = root;\n            }\n\n            if (root === pathname && hash) {\n                fixedUrl = absoluteURL(hash.replace(hashStrip, ''), root);\n            }\n\n            if (fixedUrl) {\n                history.pushState({}, document.title, fixedUrl);\n            }\n        }\n    });\n\n    function fixHash(url) {\n        return url.replace(/^(#)?/, \"#\");\n    }\n\n    function fixBang(url) {\n        return url.replace(/^(#(!)?)?/, \"#!\");\n    }\n\n    var HashAdapter = HistoryAdapter.extend({\n        init: function(bang) {\n            this._id = kendo.guid();\n            this.prefix = hashDelimiter(bang);\n            this.fix = bang ? fixBang : fixHash;\n        },\n\n        navigate: function(to) {\n            location.hash = this.fix(to);\n        },\n\n        replace: function(to) {\n            this.replaceLocation(this.fix(to));\n        },\n\n        normalize: function(url) {\n            if (url.indexOf(this.prefix) < 0) {\n               return url;\n            } else {\n                return url.split(this.prefix)[1];\n            }\n        },\n\n        change: function(callback) {\n            if (support.hashChange) {\n                $(window).on(\"hashchange.\" + this._id, callback);\n            } else {\n                this._interval = setInterval(callback, CHECK_URL_INTERVAL);\n            }\n        },\n\n        stop: function() {\n            $(window).off(\"hashchange.\" + this._id);\n            clearInterval(this._interval);\n        },\n\n        current: function() {\n            return locationHash(this.prefix);\n        },\n\n        normalizeCurrent: function(options) {\n            var pathname = location.pathname,\n                root = options.root;\n\n            if (options.pushState && root !== pathname) {\n                this.replaceLocation(root + this.prefix + stripRoot(root, pathname));\n                return true; // browser will reload at this point.\n            }\n\n            return false;\n        }\n    });\n\n    var History = kendo.Observable.extend({\n        start: function(options) {\n            options = options || {};\n\n            this.bind([CHANGE, BACK, SAME], options);\n\n            if (this._started) {\n                return;\n            }\n\n            this._started = true;\n\n            options.root = options.root || \"/\";\n\n            var adapter = this.createAdapter(options),\n                current;\n\n            // adapter may reload the document\n            if (adapter.normalizeCurrent(options)) {\n                return;\n            }\n\n            current = adapter.current();\n\n            $.extend(this, {\n                adapter: adapter,\n                root: options.root,\n                historyLength: adapter.length(),\n                current: current,\n                locations: [current]\n            });\n\n            adapter.change(this._checkUrl.bind(this));\n        },\n\n        createAdapter:function(options) {\n           return support.pushState && options.pushState ? new PushStateAdapter(options.root) : new HashAdapter(options.hashBang);\n        },\n\n        stop: function() {\n            if (!this._started) {\n                return;\n            }\n            this.adapter.stop();\n            this.unbind(CHANGE);\n            this._started = false;\n        },\n\n        change: function(callback) {\n            this.bind(CHANGE, callback);\n        },\n\n        replace: function(to, silent) {\n\n            this._navigate(to, silent, function(adapter) {\n                adapter.replace(to);\n                this.locations[this.locations.length - 1] = this.current;\n            });\n        },\n\n        navigate: function(to, silent) {\n            if (to === \"#:back\") {\n                this.backCalled = true;\n                this.adapter.back();\n                return;\n            }\n\n            this._navigate(to, silent, function(adapter) {\n                adapter.navigate(to);\n                this.locations.push(this.current);\n            });\n        },\n\n        _navigate: function(to, silent, callback) {\n            var adapter = this.adapter;\n\n            to = adapter.normalize(to);\n\n            if (this.current === to || this.current === decodeURIComponent(to)) {\n                this.trigger(SAME);\n                return;\n            }\n\n            if (!silent) {\n                if (this.trigger(CHANGE, { url: to, decode: false })) {\n                    return;\n                }\n            }\n\n            this.current = to;\n\n            callback.call(this, adapter);\n\n            this.historyLength = adapter.length();\n        },\n\n        _checkUrl: function() {\n            var adapter = this.adapter,\n                current = adapter.current(),\n                newLength = adapter.length(),\n                navigatingInExisting = this.historyLength === newLength,\n                back = current === this.locations[this.locations.length - 2] && navigatingInExisting,\n                backCalled = this.backCalled,\n                prev = this.current;\n\n            if (current === null || this.current === current || this.current === decodeURIComponent(current)) {\n                return true;\n            }\n\n            this.historyLength = newLength;\n            this.backCalled = false;\n\n            this.current = current;\n\n            if (back && this.trigger(\"back\", { url: prev, to: current })) {\n                adapter.forward();\n                this.current = prev;\n                return;\n            }\n\n            if (this.trigger(CHANGE, { url: current, backButtonPressed: !backCalled })) {\n                if (back) {\n                    adapter.forward();\n                } else {\n                    adapter.back();\n                    this.historyLength --;\n                }\n                this.current = prev;\n                return;\n            }\n\n            if (back) {\n                this.locations.pop();\n            } else {\n                this.locations.push(current);\n            }\n        }\n    });\n\n    kendo.History = History;\n    kendo.History.HistoryAdapter = HistoryAdapter;\n    kendo.History.HashAdapter = HashAdapter;\n    kendo.History.PushStateAdapter = PushStateAdapter;\n    kendo.absoluteURL = absoluteURL;\n    kendo.history = new History();\n})(window.kendo.jQuery);\n\n(function() {\n    var kendo = window.kendo,\n        history = kendo.history,\n        Observable = kendo.Observable,\n        INIT = \"init\",\n        ROUTE_MISSING = \"routeMissing\",\n        CHANGE = \"change\",\n        BACK = \"back\",\n        SAME = \"same\",\n        optionalParam = /\\((.*?)\\)/g,\n        namedParam = /(\\(\\?)?:\\w+/g,\n        splatParam = /\\*\\w+/g,\n        escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n    function namedParamReplace(match, optional) {\n        return optional ? match : '([^\\/]+)';\n    }\n\n    function routeToRegExp(route, ignoreCase) {\n        return new RegExp('^' + route\n            .replace(escapeRegExp, '\\\\$&')\n            .replace(optionalParam, '(?:$1)?')\n            .replace(namedParam, namedParamReplace)\n            .replace(splatParam, '(.*?)') + '$', ignoreCase ? \"i\" : \"\");\n    }\n\n    function stripUrl(url) {\n        return url.replace(/(\\?.*)|(#.*)/g, \"\");\n    }\n\n    var Route = kendo.Class.extend({\n        init: function(route, callback, ignoreCase) {\n            if (!(route instanceof RegExp)) {\n                route = routeToRegExp(route, ignoreCase);\n            }\n\n            this.route = route;\n            this._callback = callback;\n        },\n\n        callback: function(url, back, decode) {\n            var params,\n                idx = 0,\n                length,\n                queryStringParams = kendo.parseQueryStringParams(url);\n                queryStringParams._back = back;\n\n            url = stripUrl(url);\n            params = this.route.exec(url).slice(1);\n            length = params.length;\n\n            if (decode) {\n                for (; idx < length; idx ++) {\n                    if (typeof params[idx] !== 'undefined') {\n                        params[idx] = decodeURIComponent(params[idx]);\n                    }\n                }\n            }\n\n            params.push(queryStringParams);\n\n            this._callback.apply(null, params);\n        },\n\n        worksWith: function(url, back, decode) {\n            if (this.route.test(stripUrl(url))) {\n                this.callback(url, back, decode);\n                return true;\n            } else {\n                return false;\n            }\n        }\n    });\n\n    var Router = Observable.extend({\n        init: function(options) {\n            if (!options) {\n                options = {};\n            }\n\n            Observable.fn.init.call(this);\n\n            this.routes = [];\n            this.pushState = options.pushState;\n            this.hashBang = options.hashBang;\n            this.root = options.root;\n            this.ignoreCase = options.ignoreCase !== false;\n\n            this.bind([INIT, ROUTE_MISSING, CHANGE, SAME, BACK], options);\n        },\n\n        destroy: function() {\n            history.unbind(CHANGE, this._urlChangedProxy);\n            history.unbind(SAME, this._sameProxy);\n            history.unbind(BACK, this._backProxy);\n            this.unbind();\n        },\n\n        start: function() {\n            var that = this,\n                sameProxy = function() { that._same(); },\n                backProxy = function(e) { that._back(e); },\n                urlChangedProxy = function(e) { that._urlChanged(e); };\n\n            history.start({\n                same: sameProxy,\n                change: urlChangedProxy,\n                back: backProxy,\n                pushState: that.pushState,\n                hashBang: that.hashBang,\n                root: that.root\n            });\n\n            var initEventObject = { url: history.current || \"/\", preventDefault: $.noop };\n\n            if (!that.trigger(INIT, initEventObject)) {\n                that._urlChanged(initEventObject);\n            }\n\n            this._urlChangedProxy = urlChangedProxy;\n            this._backProxy = backProxy;\n        },\n\n        route: function(route, callback) {\n            this.routes.push(new Route(route, callback, this.ignoreCase));\n        },\n\n        navigate: function(url, silent) {\n            kendo.history.navigate(url, silent);\n        },\n\n        replace: function(url, silent) {\n            kendo.history.replace(url, silent);\n        },\n\n        _back: function(e) {\n            if (this.trigger(BACK, { url: e.url, to: e.to })) {\n                e.preventDefault();\n            }\n        },\n\n        _same: function() {\n            this.trigger(SAME);\n        },\n\n        _urlChanged: function(e) {\n            var url = e.url;\n            var decode = !!e.decode;\n            var back = e.backButtonPressed;\n\n            if (!url) {\n                url = \"/\";\n            }\n\n            if (this.trigger(CHANGE, { url: e.url, params: kendo.parseQueryStringParams(e.url), backButtonPressed: back })) {\n                e.preventDefault();\n                return;\n            }\n\n            var idx = 0,\n                routes = this.routes,\n                route,\n                length = routes.length;\n\n            for (; idx < length; idx ++) {\n                 route = routes[idx];\n\n                 if (route.worksWith(url, back, decode)) {\n                    return;\n                 }\n            }\n\n            if (this.trigger(ROUTE_MISSING, { url: url, params: kendo.parseQueryStringParams(url), backButtonPressed: back })) {\n                e.preventDefault();\n            }\n        }\n    });\n\n    kendo.Router = Router;\n})();\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.view',[\n        \"./kendo.core\",\n        \"./kendo.binder\",\n        \"./kendo.fx\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"view\",\n    name: \"View\",\n    category: \"framework\",\n    description: \"The View class instantiates and handles the events of a certain screen from the application.\",\n    depends: [ \"core\", \"binder\", \"fx\" ],\n    hidden: false\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        attr =  kendo.attr,\n        ui = kendo.ui,\n        attrValue = kendo.attrValue,\n        directiveSelector = kendo.directiveSelector,\n        Observable = kendo.Observable,\n        Widget = kendo.ui.Widget,\n        roleSelector = kendo.roleSelector,\n\n        SCRIPT = \"SCRIPT\",\n        INIT = \"init\",\n        TRANSITION_START = \"transitionStart\",\n        TRANSITION_END = \"transitionEnd\",\n        SHOW = \"show\",\n        HIDE = \"hide\",\n        ATTACH = \"attach\",\n        DETACH = \"detach\",\n        sizzleErrorRegExp = /unrecognized expression/;\n\n    var bodyRegExp = /<body[^>]*>(([\\u000a\\u000d\\u2028\\u2029]|.)*)<\\/body>/i;\n    var LOAD_START = \"loadStart\";\n    var LOAD_COMPLETE = \"loadComplete\";\n    var SHOW_START = \"showStart\";\n    var SAME_VIEW_REQUESTED = \"sameViewRequested\";\n    var VIEW_SHOW = \"viewShow\";\n    var VIEW_TYPE_DETERMINED = \"viewTypeDetermined\";\n    var AFTER = \"after\";\n    var classNames = {\n        content: \"k-content\",\n        view: \"k-view\",\n        stretchedView: \"k-stretched-view\",\n        widget: \"k-widget\",\n        header: \"k-header\",\n        footer: \"k-footer\"\n    };\n\n    var View = kendo.ui.Widget.extend({\n        init: function(content, options) {\n            var that = this;\n            options = options || {};\n            that.id = kendo.guid();\n\n            Observable.fn.init.call(that);\n            this.options = $.extend({}, this.options, options);\n\n            that.content = content;\n\n            if (that.options.renderOnInit) {\n                Widget.fn.init.call(that, that._createElement(), options);\n            }\n\n            if (that.options.wrapInSections) {\n                that._renderSections();\n            }\n\n            that.tagName = options.tagName || \"div\";\n            that.model = options.model;\n            that._wrap = options.wrap !== false;\n            this._evalTemplate = options.evalTemplate || false;\n            this._useWithBlock = options.useWithBlock;\n            that._fragments = {};\n\n            that.bind([ INIT, SHOW, HIDE, TRANSITION_START, TRANSITION_END ], options);\n        },\n\n        options: {\n            name: \"View\",\n            renderOnInit: false,\n            wrapInSections: false,\n            detachOnHide: true,\n            detachOnDestroy: true\n        },\n\n        render: function(container) {\n            var that = this,\n                notInitialized = !that.element;\n\n            // The order below matters - kendo.bind should happen when the element is in the DOM, and show should be triggered after init.\n\n            if (notInitialized) {\n                that.element = that._createElement();\n            }\n\n            if (container) {\n                $(container).append(that.element);\n            }\n\n            if (notInitialized) {\n                kendo.bind(that.element, that.model);\n                that.trigger(INIT);\n            }\n\n            if (container) {\n                that._eachFragment(ATTACH);\n                that.trigger(SHOW);\n            }\n\n            return that.element;\n        },\n\n        clone: function() {\n            return new ViewClone(this);\n        },\n\n        triggerBeforeShow: function() {\n            return true;\n        },\n\n        triggerBeforeHide: function() {\n            return true;\n        },\n\n        showStart: function() {\n            var that = this;\n            var element = that.render();\n\n            if (element) {\n                element.css(\"display\", \"\");\n            }\n\n            this.trigger(SHOW_START, { view: this });\n        },\n\n        showEnd: function() {\n        },\n\n        hideEnd: function() {\n            this.hide();\n        },\n\n        beforeTransition: function(type){\n            this.trigger(TRANSITION_START, { type: type });\n        },\n\n        afterTransition: function(type){\n            this.trigger(TRANSITION_END, { type: type });\n        },\n\n        hide: function() {\n            if (this.options.detachOnHide) {\n                this._eachFragment(DETACH);\n                $(this.element).detach();\n            }\n\n            this.trigger(HIDE);\n        },\n\n        destroy: function() {\n            var that = this;\n            var element = that.element;\n\n            if (element) {\n                Widget.fn.destroy.call(that);\n\n                kendo.unbind(element);\n                kendo.destroy(element);\n\n                if (that.options.detachOnDestroy) {\n                    element.remove();\n                }\n            }\n        },\n\n        // ported from mobile view\n        purge: function() {\n            var that = this;\n\n            that.destroy();\n            $(that.element).add(that.content).add(that.wrapper).off().remove();\n        },\n\n        fragments: function(fragments) {\n            $.extend(this._fragments, fragments);\n        },\n\n        _eachFragment: function(methodName) {\n            for (var placeholder in this._fragments) {\n                this._fragments[placeholder][methodName](this, placeholder);\n            }\n        },\n\n        _createElement: function() {\n            var that = this,\n                wrapper = \"<\" + that.tagName + \">\",\n                element,\n                content;\n\n            try {\n                content = $(document.getElementById(that.content) || that.content); // support passing id without #\n\n                if (content[0].tagName === SCRIPT) {\n                    content = content.html();\n                }\n            } catch(e) {\n                if (sizzleErrorRegExp.test(e.message)) {\n                    content = that.content;\n                }\n            }\n            \n            if (typeof content === \"string\") {\n                content = content.replace(/^\\s+|\\s+$/g, '');\n                if (that._evalTemplate) {\n                    content = kendo.template(content, { useWithBlock: that._useWithBlock })(that.model || {});\n                }\n\n                element = $(wrapper).append(content);\n                // drop the wrapper if asked - this seems like the easiest (although not very intuitive) way to avoid messing up templates with questionable content, like this one for instance:\n                // <script id=\"my-template\">\n                // foo\n                // <span> Span </span>\n                // </script>\n                if (!that._wrap) {\n                   element = element.contents();\n                }\n            } else {\n                element = content;\n                if (that._evalTemplate) {\n                    var result = $(kendo.template($(\"<div />\").append(element.clone(true)).html(), { useWithBlock: that._useWithBlock })(that.model || {}));\n\n                    // template uses DOM\n                    if ($.contains(document, element[0])) {\n                        element.replaceWith(result);\n                    }\n\n                    element = result;\n                }\n                if (that._wrap) {\n                    element = element.wrapAll(wrapper).parent();\n                }\n            }\n\n            return element;\n        },\n\n        _renderSections: function() {\n            var that = this;\n\n            if (that.options.wrapInSections) {\n                that._wrapper();\n                that._createContent();\n                that._createHeader();\n                that._createFooter();\n            }\n        },\n\n        _wrapper: function() {\n            var that = this;\n            var content = that.content;\n\n            if (content.is(roleSelector(\"view\"))) {\n                that.wrapper = that.content;\n            } else {\n                that.wrapper = content\n                    .wrap('<div data-' + kendo.ns + 'stretch=\"true\" data-' + kendo.ns + 'role=\"view\" data-' + kendo.ns + 'init-widgets=\"false\"></div>')\n                    .parent();\n            }\n\n            var wrapper = that.wrapper;\n\n            wrapper.attr(\"id\", that.id);\n\n            wrapper.addClass(classNames.view);\n            wrapper.addClass(classNames.widget);\n            wrapper.attr(\"role\", \"view\");\n        },\n\n        _createContent: function() {\n            var that = this;\n            var wrapper = $(that.wrapper);\n            var contentSelector = roleSelector(\"content\");\n\n            if (!wrapper.children(contentSelector)[0]) {\n                var ccontentElements = wrapper.children().filter(function() {\n                    var child = $(this);\n                    if (!child.is(roleSelector(\"header\")) && !child.is(roleSelector(\"footer\"))) {\n                        return child;\n                    }\n                });\n\n                ccontentElements.wrap(\"<div \" + attr(\"role\") + '=\"content\"></div>');\n            }\n\n            // use contentElement instead of content as view.content can be a string\n            this.contentElement = wrapper.children(roleSelector(\"content\"));\n\n            this.contentElement\n                .addClass(classNames.stretchedView)\n                .addClass(classNames.content);\n        },\n\n        _createHeader: function() {\n            var that = this;\n            var wrapper = that.wrapper;\n\n            this.header = wrapper.children(roleSelector(\"header\")).addClass(classNames.header);\n        },\n\n        _createFooter: function() {\n            var that = this;\n            var wrapper = that.wrapper;\n\n            this.footer = wrapper.children(roleSelector(\"footer\")).addClass(classNames.footer);\n        }\n    });\n\n    var ViewClone = kendo.Class.extend({\n        init: function(view) {\n            $.extend(this, {\n                element: view.element.clone(true),\n                transition: view.transition,\n                id: view.id\n            });\n\n            view.element.parent().append(this.element);\n        },\n\n        hideEnd: function() {\n            this.element.remove();\n        },\n\n        beforeTransition: $.noop,\n        afterTransition: $.noop\n    });\n\n    var Layout = View.extend({\n        init: function(content, options) {\n            View.fn.init.call(this, content, options);\n            this.containers = {};\n        },\n\n        container: function(selector) {\n            var container = this.containers[selector];\n\n            if (!container) {\n                container = this._createContainer(selector);\n                this.containers[selector] = container;\n            }\n\n            return container;\n        },\n\n        showIn: function(selector, view, transition) {\n            this.container(selector).show(view, transition);\n        },\n\n        _createContainer: function(selector) {\n            var root = this.render(),\n                element = root.find(selector),\n                container;\n\n            if (!element.length && root.is(selector)) {\n                if (root.is(selector)) {\n                    element = root;\n                } else {\n\n                    throw new Error(\"can't find a container with the specified \" + selector + \" selector\");\n                }\n            }\n\n            container = new ViewContainer(element);\n\n            container.bind(\"accepted\", function(e) {\n                e.view.render(element);\n            });\n\n            return container;\n        }\n    });\n\n    var Fragment = View.extend({\n        attach: function(view, placeholder) {\n            view.element.find(placeholder).replaceWith(this.render());\n        },\n\n        detach: function() {\n        }\n    });\n\n    var transitionRegExp = /^(\\w+)(:(\\w+))?( (\\w+))?$/;\n\n    function parseTransition(transition) {\n        if (!transition){\n            return {};\n        }\n\n        var matches = transition.match(transitionRegExp) || [];\n\n        return {\n            type: matches[1],\n            direction: matches[3],\n            reverse: matches[5] === \"reverse\"\n        };\n    }\n\n    var ViewContainer = Observable.extend({\n        init: function(container) {\n            Observable.fn.init.call(this);\n            this.container = container;\n            this.history = [];\n            this.view = null;\n            this.running = false;\n        },\n\n        after: function() {\n            this.running = false;\n            this.trigger(\"complete\", {view: this.view});\n            this.trigger(\"after\");\n        },\n\n        end: function() {\n            this.view.showEnd();\n            this.previous.hideEnd();\n            this.after();\n        },\n\n        show: function(view, transition, locationID) {\n            if (!view.triggerBeforeShow() || (this.view && !this.view.triggerBeforeHide())) {\n                this.trigger(\"after\");\n                return false;\n            }\n\n            locationID = locationID || view.id;\n\n            var that = this,\n                current = (view === that.view) ? view.clone() : that.view,\n                history = that.history,\n                previousEntry = history[history.length - 2] || {},\n                back = previousEntry.id === locationID,\n                // If explicit transition is set, it will be with highest priority\n                // Next we will try using the history record transition or the view transition configuration\n                theTransition = transition || ( back ? history[history.length - 1].transition : view.transition ),\n                transitionData = parseTransition(theTransition);\n\n            if (that.running) {\n                that.effect.stop();\n            }\n\n            if (theTransition === \"none\") {\n                theTransition = null;\n            }\n\n            that.trigger(\"accepted\", { view: view });\n            that.view = view;\n            that.previous = current;\n            that.running = true;\n\n            if (!back) {\n                history.push({ id: locationID, transition: theTransition });\n            } else {\n                history.pop();\n            }\n\n            if (!current) {\n                view.showStart();\n                view.showEnd();\n                that.after();\n                return true;\n            }\n\n            if (!theTransition || !kendo.effects.enabled) {\n                view.showStart();\n                that.end();\n            } else {\n                // hide the view element before init/show - prevents blinks on iPad\n                // the replace effect will remove this class\n                view.element.addClass(\"k-fx-hidden\");\n                view.showStart();\n                // do not reverse the explicit transition\n                if (back && !transition) {\n                    transitionData.reverse = !transitionData.reverse;\n                }\n\n                that.effect = kendo.fx(view.element).replace(current.element, transitionData.type)\n                    .beforeTransition(function() {\n                        view.beforeTransition(\"show\");\n                        current.beforeTransition(\"hide\");\n                    })\n                    .afterTransition(function() {\n                        view.afterTransition(\"show\");\n                        current.afterTransition(\"hide\");\n                    })\n                    .direction(transitionData.direction)\n                    .setReverse(transitionData.reverse);\n\n                that.effect.run().then(function() { that.end(); });\n            }\n\n            return true;\n        },\n\n        destroy: function() {\n            var that = this;\n            var view = that.view;\n\n            if (view && view.destroy) {\n                view.destroy();\n            }\n        }\n    });\n\n    var ViewEngine = Observable.extend({\n        init: function(options) {\n            var that = this,\n                views,\n                container;\n\n            Observable.fn.init.call(that);\n            that.options = options;\n\n            $.extend(that, options);\n            that.sandbox = $(\"<div />\");\n            container = that.container;\n\n            views = that._hideViews(container);\n            that.rootView = views.first();\n            that.layouts = {};\n\n            that.viewContainer = new kendo.ViewContainer(that.container);\n\n            that.viewContainer.bind(\"accepted\", function(e) {\n                e.view.params = that.params;\n            });\n\n            that.viewContainer.bind(\"complete\", function(e) {\n                that.trigger(VIEW_SHOW, { view: e.view });\n            });\n\n            that.viewContainer.bind(AFTER, function() {\n                that.trigger(AFTER);\n            });\n\n            this.bind(this.events, options);\n        },\n\n        events: [\n            SHOW_START,\n            AFTER,\n            VIEW_SHOW,\n            LOAD_START,\n            LOAD_COMPLETE,\n            SAME_VIEW_REQUESTED,\n            VIEW_TYPE_DETERMINED\n        ],\n\n        destroy: function() {\n            var that = this;\n            var viewContainer = that.viewContainer;\n\n            kendo.destroy(that.container);\n\n            for (var id in that.layouts) {\n                this.layouts[id].destroy();\n            }\n\n            if (viewContainer) {\n                viewContainer.destroy();\n            }\n        },\n\n        view: function() {\n            return this.viewContainer.view;\n        },\n\n        showView: function(url, transition, params) {\n            url = url.replace(new RegExp(\"^\" + this.remoteViewURLPrefix), \"\");\n            if (url === \"\" && this.remoteViewURLPrefix) {\n                url = \"/\";\n            }\n\n            if (url.replace(/^#/, \"\") === this.url) {\n                this.trigger(SAME_VIEW_REQUESTED);\n                return false;\n            }\n\n            this.trigger(SHOW_START);\n\n            var that = this,\n                element = that._findViewElement(url),\n                view = kendo.widgetInstance(element);\n\n            that.url = url.replace(/^#/, \"\");\n\n            that.params = params;\n\n            if (view && view.reload) {\n                view.purge();\n                element = [];\n            }\n\n            this.trigger(VIEW_TYPE_DETERMINED, { remote: element.length === 0, url: url });\n\n            if (element[0]) {\n                if (!view) {\n                    view = that._createView(element);\n                }\n\n                return that.viewContainer.show(view, transition, url);\n            } else {\n                return true;\n            }\n        },\n\n        append: function(html, url) {\n            var sandbox = this.sandbox,\n                urlPath = (url || \"\").split(\"?\")[0],\n                container = this.container,\n                views,\n                view;\n\n            if (bodyRegExp.test(html)) {\n                html = RegExp.$1;\n            }\n\n            sandbox[0].innerHTML = html;\n\n            container.append(sandbox.children(\"script, style\"));\n\n            views = this._hideViews(sandbox);\n            view = views.first();\n\n            // Generic HTML content found as remote view - no remote view markers\n            if (!view.length) {\n                views = view = sandbox.wrapInner(\"<div data-role=view />\").children(); // one element\n            }\n\n            if (urlPath) {\n                view.hide().attr(attr(\"url\"), urlPath);\n            }\n\n            container.append(views);\n\n            return this._createView(view);\n        },\n\n        _locate: function(selectors) {\n            return this.$angular ? directiveSelector(selectors) : roleSelector(selectors);\n        },\n\n        _findViewElement: function(url) {\n            var element,\n                urlPath = url.split(\"?\")[0];\n\n            if (!urlPath) {\n                return this.rootView;\n            }\n\n            element = this.container.children(\"[\" + attr(\"url\") + \"='\" + urlPath + \"']\");\n\n            // do not try to search for \"#/foo/bar\" id, jQuery throws error\n            if (!element[0] && urlPath.indexOf(\"/\") === -1) {\n                element = this.container.children(urlPath.charAt(0) === \"#\" ? urlPath : \"#\" + urlPath);\n            }\n\n            if (!element[0]) {\n                element = this._findViewElementById(url);\n            }\n\n            return element;\n        },\n\n        _findViewElementById: function(id) {\n            var element = this.container.children(\"[id='\" + id + \"']\");\n            return element;\n        },\n\n        _createView: function(element) {\n            //return this._createMobileView(element);\n            return this._createSpaView(element);\n        },\n\n        _createMobileView: function(element) {\n            return kendo.initWidget(element, {\n                defaultTransition: this.transition,\n                loader: this.loader,\n                container: this.container,\n                getLayout: this.getLayoutProxy,\n                modelScope: this.modelScope,\n                reload: attrValue(element, \"reload\")\n            }, ui.roles);\n        },\n\n        _createSpaView: function(element) {\n            var viewOptions = (this.options || {}).viewOptions || {};\n            return new kendo.View(element, {\n                renderOnInit: viewOptions.renderOnInit,\n                wrap: viewOptions.wrap || false,\n                wrapInSections: viewOptions.wrapInSections,\n                detachOnHide: viewOptions.detachOnHide,\n                detachOnDestroy: viewOptions.detachOnDestroy\n            });\n        },\n\n        _hideViews: function(container) {\n            return container.children(this._locate(\"view\")).hide();\n        }\n    });\n\n    kendo.ViewEngine = ViewEngine;\n\n    kendo.ViewContainer = ViewContainer;\n    kendo.Fragment = Fragment;\n    kendo.Layout = Layout;\n    kendo.View = View;\n    kendo.ViewClone = ViewClone;\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.userevents',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"userevents\",\n    name: \"User Events\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    hidden: true\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        Class = kendo.Class,\n        Observable = kendo.Observable,\n        now = Date.now,\n        extend = $.extend,\n        OS = support.mobileOS,\n        invalidZeroEvents = OS && OS.android,\n        DEFAULT_MIN_HOLD = 800,\n        CLICK_DELAY = 300,\n        DEFAULT_THRESHOLD = support.browser.msie ? 5 : 0, // WP8 and W8 are very sensitive and always report move.\n\n        // UserEvents events\n        PRESS = \"press\",\n        HOLD = \"hold\",\n        SELECT = \"select\",\n        START = \"start\",\n        MOVE = \"move\",\n        END = \"end\",\n        CANCEL = \"cancel\",\n        TAP = \"tap\",\n        DOUBLETAP = \"doubleTap\",\n        RELEASE = \"release\",\n        GESTURESTART = \"gesturestart\",\n        GESTURECHANGE = \"gesturechange\",\n        GESTUREEND = \"gestureend\",\n        GESTURETAP = \"gesturetap\";\n\n    var THRESHOLD = {\n        \"api\": 0,\n        \"touch\": 0,\n        \"mouse\": 9,\n        \"pointer\": 9\n    };\n\n    var ENABLE_GLOBAL_SURFACE = (!support.touch || support.mouseAndTouchPresent);\n\n    function touchDelta(touch1, touch2) {\n        var x1 = touch1.x.location,\n            y1 = touch1.y.location,\n            x2 = touch2.x.location,\n            y2 = touch2.y.location,\n            dx = x1 - x2,\n            dy = y1 - y2;\n\n        return {\n            center: {\n               x: (x1 + x2) / 2,\n               y: (y1 + y2) / 2\n            },\n\n            distance: Math.sqrt(dx*dx + dy*dy)\n        };\n    }\n\n    function getTouches(e) {\n        var touches = [],\n            originalEvent = e.originalEvent,\n            currentTarget = e.currentTarget,\n            idx = 0, length,\n            changedTouches,\n            touch;\n\n        if (e.api) {\n            touches.push({\n                id: 2,  // hardcoded ID for API call;\n                event: e,\n                target: e.target,\n                currentTarget: e.target,\n                location: e,\n                type: \"api\"\n            });\n        }\n        else if (e.type.match(/touch/)) {\n            changedTouches = originalEvent ? originalEvent.changedTouches : [];\n            for (length = changedTouches.length; idx < length; idx ++) {\n                touch = changedTouches[idx];\n                touches.push({\n                    location: touch,\n                    event: e,\n                    target: touch.target,\n                    currentTarget: currentTarget,\n                    id: touch.identifier,\n                    type: \"touch\"\n                });\n            }\n        }\n        else if (support.pointers || support.msPointers) {\n            touches.push({\n                location: originalEvent,\n                event: e,\n                target: e.target,\n                currentTarget: currentTarget,\n                id: originalEvent.pointerId,\n                type: \"pointer\"\n            });\n        } else {\n            touches.push({\n                id: 1, // hardcoded ID for mouse event;\n                event: e,\n                target: e.target,\n                currentTarget: currentTarget,\n                location: e,\n                type: \"mouse\"\n            });\n        }\n\n        return touches;\n    }\n\n    var TouchAxis = Class.extend({\n        init: function(axis, location) {\n            var that = this;\n\n            that.axis = axis;\n\n            that._updateLocationData(location);\n\n            that.startLocation = that.location;\n            that.velocity = that.delta = 0;\n            that.timeStamp = now();\n        },\n\n        move: function(location) {\n            var that = this,\n                offset = location[\"page\" + that.axis],\n                timeStamp = now(),\n                timeDelta = (timeStamp - that.timeStamp) || 1; // Firing manually events in tests can make this 0;\n\n            if (!offset && invalidZeroEvents) {\n                return;\n            }\n\n            that.delta = offset - that.location;\n\n            that._updateLocationData(location);\n\n            that.initialDelta = offset - that.startLocation;\n            that.velocity = that.delta / timeDelta;\n            that.timeStamp = timeStamp;\n        },\n\n        _updateLocationData: function(location) {\n            var that = this, axis = that.axis;\n\n            that.location = location[\"page\" + axis];\n            that.client = location[\"client\" + axis];\n            that.screen = location[\"screen\" + axis];\n        }\n    });\n\n    var Touch = Class.extend({\n        init: function(userEvents, target, touchInfo) {\n            extend(this, {\n                x: new TouchAxis(\"X\", touchInfo.location),\n                y: new TouchAxis(\"Y\", touchInfo.location),\n                type: touchInfo.type,\n                useClickAsTap: userEvents.useClickAsTap,\n                threshold: userEvents.threshold || THRESHOLD[touchInfo.type],\n                userEvents: userEvents,\n                target: target,\n                currentTarget: touchInfo.currentTarget,\n                initialTouch: touchInfo.target,\n                id: touchInfo.id,\n                pressEvent: touchInfo,\n                _clicks: userEvents._clicks,\n                supportDoubleTap: userEvents.supportDoubleTap,\n                _moved: false,\n                _finished: false\n            });\n        },\n\n        press: function() {\n            this._holdTimeout = setTimeout(this._hold.bind(this), this.userEvents.minHold);\n            this._trigger(PRESS, this.pressEvent);\n        },\n\n        _tap: function(touchInfo) {\n            var that = this;\n            that.userEvents._clicks++;\n            if (that.userEvents._clicks == 1) {\n                that._clickTimeout = setTimeout(function() {\n                    if (that.userEvents._clicks == 1) {\n                        that._trigger(TAP, touchInfo);\n                    }\n                    else {\n                        that._trigger(DOUBLETAP, touchInfo);\n                    }\n                    that.userEvents._clicks = 0;\n                }, CLICK_DELAY);\n            }\n        },\n\n        _hold: function() {\n            this._trigger(HOLD, this.pressEvent);\n        },\n\n        move: function(touchInfo) {\n            var that = this;\n            var preventMove = touchInfo.type !== \"api\" && that.userEvents._shouldNotMove;\n\n            if (that._finished || preventMove) { return; }\n\n            that.x.move(touchInfo.location);\n            that.y.move(touchInfo.location);\n\n            if (!that._moved) {\n                if (that._withinIgnoreThreshold()) {\n                    return;\n                }\n\n                if (!UserEvents.current || UserEvents.current === that.userEvents) {\n                    that._start(touchInfo);\n                } else {\n                    return that.dispose();\n                }\n            }\n\n            // Event handlers may cancel the drag in the START event handler, hence the double check for pressed.\n            if (!that._finished) {\n                that._trigger(MOVE, touchInfo);\n            }\n        },\n\n        end: function(touchInfo) {\n            this.endTime = now();\n\n            if (this._finished) { return; }\n\n            // Mark the object as finished if there are blocking operations in the event handlers (alert/confirm)\n            this._finished = true;\n\n            this._trigger(RELEASE, touchInfo); // Release should be fired before TAP (as click is after mouseup/touchend)\n\n            if (this._moved) {\n                this._trigger(END, touchInfo);\n            } else {\n                if (!this.useClickAsTap) {\n                    if (this.supportDoubleTap) {\n                        this._tap(touchInfo);\n                    }\n                    else {\n                        this._trigger(TAP, touchInfo);\n                    }\n                }\n            }\n\n            clearTimeout(this._holdTimeout);\n\n            this.dispose();\n        },\n\n        dispose: function() {\n            var userEvents = this.userEvents,\n                activeTouches = userEvents.touches;\n\n            this._finished = true;\n            this.pressEvent = null;\n            clearTimeout(this._holdTimeout);\n\n            activeTouches.splice($.inArray(this, activeTouches), 1);\n        },\n\n        skip: function() {\n            this.dispose();\n        },\n\n        cancel: function() {\n            this.dispose();\n        },\n\n        isMoved: function() {\n            return this._moved;\n        },\n\n        _start: function(touchInfo) {\n            clearTimeout(this._holdTimeout);\n\n            this.startTime = now();\n            this._moved = true;\n            this._trigger(START, touchInfo);\n        },\n\n        _trigger: function(name, touchInfo) {\n            var that = this,\n                jQueryEvent = touchInfo.event,\n                data = {\n                    touch: that,\n                    x: that.x,\n                    y: that.y,\n                    target: that.target,\n                    event: jQueryEvent\n                };\n\n            if(that.userEvents.notify(name, data)) {\n                jQueryEvent.preventDefault();\n            }\n        },\n\n        _withinIgnoreThreshold: function() {\n            var xDelta = this.x.initialDelta,\n                yDelta = this.y.initialDelta;\n\n            return Math.sqrt(xDelta * xDelta + yDelta * yDelta) <= this.threshold;\n        }\n    });\n\n    function withEachUpEvent(callback) {\n        var downEvents = kendo.eventMap.up.split(\" \"),\n            idx = 0,\n            length = downEvents.length;\n\n        for(; idx < length; idx ++) {\n            callback(downEvents[idx]);\n        }\n    }\n\n    var UserEvents = Observable.extend({\n        init: function(element, options) {\n            var that = this,\n                filter,\n                ns = kendo.guid();\n\n            options = options || {};\n            filter = that.filter = options.filter;\n            that.threshold = options.threshold || DEFAULT_THRESHOLD;\n            that.minHold = options.minHold || DEFAULT_MIN_HOLD;\n            that.touches = [];\n            that._maxTouches = options.multiTouch ? 2 : 1;\n            that.allowSelection = options.allowSelection;\n            that.captureUpIfMoved = options.captureUpIfMoved;\n            that.useClickAsTap = !options.fastTap && !support.delayedClick();\n            that.eventNS = ns;\n            that._clicks = 0;\n            that.supportDoubleTap = options.supportDoubleTap;\n\n            element = $(element).handler(that);\n            Observable.fn.init.call(that);\n\n            extend(that, {\n                element: element,\n                // the touch events lock to the element anyway, so no need for the global setting\n                surface: options.global && ENABLE_GLOBAL_SURFACE ? $(element[0].ownerDocument.documentElement) : $(options.surface || element),\n                stopPropagation: options.stopPropagation,\n                pressed: false\n            });\n\n            that.surface.handler(that)\n                .on(kendo.applyEventMap(\"move\", ns), \"_move\")\n                .on(kendo.applyEventMap(\"up cancel\", ns), \"_end\");\n\n            element.on(kendo.applyEventMap(\"down\", ns), filter, \"_start\");\n\n            if (that.useClickAsTap) {\n                element.on(kendo.applyEventMap(\"click\", ns), filter, \"_click\");\n            }\n\n            if (support.pointers || support.msPointers) {\n                //touch-action:none will not work for IE10\n                if (support.browser.version < 11) {\n                    var defaultAction = \"pinch-zoom double-tap-zoom\";\n                    element.css(\"-ms-touch-action\", options.touchAction && options.touchAction != \"none\" ? defaultAction + \" \" + options.touchAction : defaultAction);\n                } else {\n                    element.css(\"touch-action\", options.touchAction || \"none\");\n                }\n            }\n\n            if (options.preventDragEvent) {\n                element.on(kendo.applyEventMap(\"dragstart\", ns), kendo.preventDefault);\n            }\n\n            element.on(kendo.applyEventMap(\"mousedown\", ns), filter, { root: element }, \"_select\");\n\n            if (that.captureUpIfMoved && support.eventCapture) {\n                var surfaceElement = that.surface[0],\n                    preventIfMovingProxy = that.preventIfMoving.bind(that);\n\n                withEachUpEvent(function(eventName) {\n                    surfaceElement.addEventListener(eventName, preventIfMovingProxy, true);\n                });\n            }\n\n            that.bind([\n            PRESS,\n            HOLD,\n            TAP,\n            DOUBLETAP,\n            START,\n            MOVE,\n            END,\n            RELEASE,\n            CANCEL,\n            GESTURESTART,\n            GESTURECHANGE,\n            GESTUREEND,\n            GESTURETAP,\n            SELECT\n            ], options);\n        },\n\n        preventIfMoving: function(e) {\n            if (this._isMoved()) {\n                e.preventDefault();\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that._destroyed) {\n                return;\n            }\n\n            that._destroyed = true;\n\n            if (that.captureUpIfMoved && support.eventCapture) {\n                var surfaceElement = that.surface[0];\n                withEachUpEvent(function(eventName) {\n                    surfaceElement.removeEventListener(eventName, that.preventIfMoving);\n                });\n            }\n\n            that.element.kendoDestroy(that.eventNS);\n            that.surface.kendoDestroy(that.eventNS);\n            that.element.removeData(\"handler\");\n            that.surface.removeData(\"handler\");\n            that._disposeAll();\n\n            that.unbind();\n            delete that.surface;\n            delete that.element;\n            delete that.currentTarget;\n        },\n\n        capture: function() {\n            UserEvents.current = this;\n        },\n\n        cancel: function() {\n            this._disposeAll();\n            this.trigger(CANCEL);\n        },\n\n        notify: function(eventName, data) {\n            var that = this,\n                touches = that.touches;\n\n            if (this._isMultiTouch()) {\n                switch(eventName) {\n                    case MOVE:\n                        eventName = GESTURECHANGE;\n                        break;\n                    case END:\n                        eventName = GESTUREEND;\n                        break;\n                    case TAP:\n                        eventName = GESTURETAP;\n                        break;\n                }\n\n                extend(data, {touches: touches}, touchDelta(touches[0], touches[1]));\n            }\n\n            return this.trigger(eventName, extend(data, {type: eventName}));\n        },\n\n        // API\n        press: function(x, y, target) {\n            this._apiCall(\"_start\", x, y, target);\n        },\n\n        move: function(x, y) {\n            this._apiCall(\"_move\", x, y);\n        },\n\n        end: function(x, y) {\n            this._apiCall(\"_end\", x, y);\n        },\n\n        _isMultiTouch: function() {\n            return this.touches.length > 1;\n        },\n\n        _maxTouchesReached: function() {\n            return this.touches.length >= this._maxTouches;\n        },\n\n        _disposeAll: function() {\n            var touches = this.touches;\n            while (touches.length > 0) {\n                touches.pop().dispose();\n            }\n        },\n\n        _isMoved: function() {\n            return $.grep(this.touches, function(touch) {\n                return touch.isMoved();\n            }).length;\n        },\n\n        _select: function(e) {\n           if (!this.allowSelection || this.trigger(SELECT, { event: e })) {\n               e.preventDefault();\n           }\n        },\n\n        _start: function(e) {\n            var that = this,\n                idx = 0,\n                filter = that.filter,\n                target,\n                touches = getTouches(e),\n                length = touches.length,\n                touch,\n                which = e.which;\n\n            if ((which && which > 1) || (that._maxTouchesReached())){\n                return;\n            }\n\n            UserEvents.current = null;\n\n            that.currentTarget = e.currentTarget;\n\n            if (that.stopPropagation) {\n                e.stopPropagation();\n            }\n\n            for (; idx < length; idx ++) {\n                if (that._maxTouchesReached()) {\n                    break;\n                }\n\n                touch = touches[idx];\n\n                if (filter) {\n                    target = $(touch.currentTarget); // target.is(filter) ? target : target.closest(filter, that.element);\n                } else {\n                    target = that.element;\n                }\n\n                if (!target.length) {\n                    continue;\n                }\n\n                touch = new Touch(that, target, touch);\n                that.touches.push(touch);\n                touch.press();\n\n                if (that._isMultiTouch()) {\n                    that.notify(\"gesturestart\", {});\n                }\n            }\n        },\n\n        _move: function(e) {\n            this._eachTouch(\"move\", e);\n        },\n\n        _end: function(e) {\n            this._eachTouch(\"end\", e);\n        },\n\n        _click: function(e) {\n            var data = {\n                touch: {\n                    initialTouch: e.target,\n                    target: $(e.currentTarget),\n                    endTime: now(),\n                    x: {\n                        location: e.pageX,\n                        client: e.clientX\n                    },\n                    y: {\n                        location: e.pageY,\n                        client: e.clientY\n                    }\n                },\n                x: e.pageX,\n                y: e.pageY,\n                target: $(e.currentTarget),\n                event: e,\n                type: \"tap\"\n            };\n\n            if (this.trigger(\"tap\", data)) {\n                e.preventDefault();\n            }\n        },\n\n        _eachTouch: function(methodName, e) {\n            var that = this,\n                dict = {},\n                touches = getTouches(e),\n                activeTouches = that.touches,\n                idx,\n                touch,\n                touchInfo,\n                matchingTouch;\n\n            for (idx = 0; idx < activeTouches.length; idx ++) {\n                touch = activeTouches[idx];\n                dict[touch.id] = touch;\n            }\n\n            for (idx = 0; idx < touches.length; idx ++) {\n                touchInfo = touches[idx];\n                matchingTouch = dict[touchInfo.id];\n\n                if (matchingTouch) {\n                    matchingTouch[methodName](touchInfo);\n                }\n            }\n        },\n\n        _apiCall: function(type, x, y, target) {\n            this[type]({\n                api: true,\n                pageX: x,\n                pageY: y,\n                clientX: x,\n                clientY: y,\n                target: $(target || this.element)[0],\n                stopPropagation: $.noop,\n                preventDefault: $.noop\n            });\n        }\n    });\n\n    UserEvents.defaultThreshold = function(value) {\n        DEFAULT_THRESHOLD = value;\n    };\n\n    UserEvents.minHold = function(value) {\n        DEFAULT_MIN_HOLD = value;\n    };\n\n    kendo.getTouches = getTouches;\n    kendo.touchDelta = touchDelta;\n    kendo.UserEvents = UserEvents;\n })(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.draganddrop',[ \"./kendo.core\", \"./kendo.userevents\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"draganddrop\",\n    name: \"Drag & drop\",\n    category: \"framework\",\n    description: \"Drag & drop functionality for any DOM element.\",\n    depends: [ \"core\", \"userevents\" ]\n};\n\n(function ($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        document = window.document,\n        $window = $(window),\n        Class = kendo.Class,\n        Widget = kendo.ui.Widget,\n        Observable = kendo.Observable,\n        UserEvents = kendo.UserEvents,\n        extend = $.extend,\n        getOffset = kendo.getOffset,\n        draggables = {},\n        dropTargets = {},\n        dropAreas = {},\n        lastDropTarget,\n        elementUnderCursor = kendo.elementUnderCursor,\n        KEYUP = \"keyup\",\n        CHANGE = \"change\",\n\n        // Draggable events\n        DRAGSTART = \"dragstart\",\n        HOLD = \"hold\",\n        DRAG = \"drag\",\n        DRAGEND = \"dragend\",\n        DRAGCANCEL = \"dragcancel\",\n        HINTDESTROYED = \"hintDestroyed\",\n\n        // DropTarget events\n        DRAGENTER = \"dragenter\",\n        DRAGLEAVE = \"dragleave\",\n        DROP = \"drop\";\n\n    function contains(parent, child) {\n        try {\n            return $.contains(parent, child) || parent == child;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function numericCssPropery(element, property) {\n        return parseInt(element.css(property), 10) || 0;\n    }\n\n    function within(value, range) {\n        return Math.min(Math.max(value, range.min), range.max);\n    }\n\n    function containerBoundaries(container, element) {\n        var offset = getOffset(container),\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            minX = offset.left + numericCssPropery(container, \"borderLeftWidth\") + numericCssPropery(container, \"paddingLeft\"),\n            minY = offset.top + numericCssPropery(container, \"borderTopWidth\") + numericCssPropery(container, \"paddingTop\"),\n            maxX = minX + container.width() - outerWidth(element, true),\n            maxY = minY + container.height() - outerHeight(element, true);\n\n        return {\n            x: { min: minX, max: maxX },\n            y: { min: minY, max: maxY }\n        };\n    }\n\n    function checkTarget(target, targets, areas) {\n        var theTarget, theFilter, i = 0,\n            targetLen = targets && targets.length,\n            areaLen = areas && areas.length;\n\n        while (target && target.parentNode) {\n            for (i = 0; i < targetLen; i ++) {\n                theTarget = targets[i];\n                if (theTarget.element[0] === target) {\n                    return { target: theTarget, targetElement: target };\n                }\n            }\n\n            for (i = 0; i < areaLen; i ++) {\n                theFilter = areas[i];\n                if ($.contains(theFilter.element[0], target) && support.matchesSelector.call(target, theFilter.options.filter)) {\n                    return { target: theFilter, targetElement: target };\n                }\n            }\n\n            target = target.parentNode;\n        }\n\n        return undefined;\n    }\n\n    var TapCapture = Observable.extend({\n        init: function(element, options) {\n            var that = this,\n                domElement = element[0];\n\n            that.capture = false;\n\n            if (domElement.addEventListener) {\n                $.each(kendo.eventMap.down.split(\" \"), function() {\n                    domElement.addEventListener(this, that._press.bind(that), true);\n                });\n                $.each(kendo.eventMap.up.split(\" \"), function() {\n                    domElement.addEventListener(this, that._release.bind(that), true);\n                });\n            } else {\n                $.each(kendo.eventMap.down.split(\" \"), function() {\n                    domElement.attachEvent(this, that._press.bind(that));\n                });\n                $.each(kendo.eventMap.up.split(\" \"), function() {\n                    domElement.attachEvent(this, that._release.bind(that));\n                });\n            }\n\n            Observable.fn.init.call(that);\n\n            that.bind([\"press\", \"release\"], options || {});\n        },\n\n        captureNext: function() {\n            this.capture = true;\n        },\n\n        cancelCapture: function() {\n            this.capture = false;\n        },\n\n        _press: function(e) {\n            var that = this;\n            that.trigger(\"press\");\n            if (that.capture) {\n                e.preventDefault();\n            }\n        },\n\n        _release: function(e) {\n            var that = this;\n            that.trigger(\"release\");\n\n            if (that.capture) {\n                e.preventDefault();\n                that.cancelCapture();\n            }\n        }\n    });\n\n    var PaneDimension = Observable.extend({\n        init: function(options) {\n            var that = this;\n            Observable.fn.init.call(that);\n\n            that.forcedEnabled = false;\n\n            $.extend(that, options);\n\n            that.scale = 1;\n\n            if (that.horizontal) {\n                that.measure = \"offsetWidth\";\n                that.scrollSize = \"scrollWidth\";\n                that.axis = \"x\";\n            } else {\n                that.measure = \"offsetHeight\";\n                that.scrollSize = \"scrollHeight\";\n                that.axis = \"y\";\n            }\n        },\n\n        makeVirtual: function() {\n            $.extend(this, {\n                virtual: true,\n                forcedEnabled: true,\n                _virtualMin: 0,\n                _virtualMax: 0\n            });\n        },\n\n        virtualSize: function(min, max) {\n            if (this._virtualMin !== min || this._virtualMax !== max) {\n                this._virtualMin = min;\n                this._virtualMax = max;\n                this.update();\n            }\n        },\n\n        outOfBounds: function(offset) {\n            return offset > this.max || offset < this.min;\n        },\n\n        forceEnabled: function() {\n            this.forcedEnabled = true;\n        },\n\n        getSize: function() {\n            return this.container[0][this.measure];\n        },\n\n        getTotal: function() {\n            return this.element[0][this.scrollSize];\n        },\n\n        rescale: function(scale) {\n            this.scale = scale;\n        },\n\n        update: function(silent) {\n            var that = this,\n                total = that.virtual ? that._virtualMax : that.getTotal(),\n                scaledTotal = total * that.scale,\n                size = that.getSize();\n\n            if (total === 0 && !that.forcedEnabled) {\n                return; // we are not visible.\n            }\n\n            that.max = that.virtual ? -that._virtualMin : 0;\n            that.size = size;\n            that.total = scaledTotal;\n            that.min = Math.min(that.max, size - scaledTotal);\n            that.minScale = size / total;\n            that.centerOffset = (scaledTotal - size) / 2;\n\n            that.enabled = that.forcedEnabled || (scaledTotal > size);\n\n            if (!silent) {\n                that.trigger(CHANGE, that);\n            }\n        }\n    });\n\n    var PaneDimensions = Observable.extend({\n        init: function(options) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.x = new PaneDimension(extend({horizontal: true}, options));\n            that.y = new PaneDimension(extend({horizontal: false}, options));\n            that.container = options.container;\n            that.forcedMinScale = options.minScale;\n            that.maxScale = options.maxScale || 100;\n\n            that.bind(CHANGE, options);\n        },\n\n        rescale: function(newScale) {\n            this.x.rescale(newScale);\n            this.y.rescale(newScale);\n            this.refresh();\n        },\n\n        centerCoordinates: function() {\n            return { x: Math.min(0, -this.x.centerOffset), y: Math.min(0, -this.y.centerOffset) };\n        },\n\n        refresh: function() {\n            var that = this;\n            that.x.update();\n            that.y.update();\n            that.enabled = that.x.enabled || that.y.enabled;\n            that.minScale = that.forcedMinScale || Math.min(that.x.minScale, that.y.minScale);\n            that.fitScale = Math.max(that.x.minScale, that.y.minScale);\n            that.trigger(CHANGE);\n        }\n    });\n\n    var PaneAxis = Observable.extend({\n        init: function(options) {\n            var that = this;\n            extend(that, options);\n            Observable.fn.init.call(that);\n        },\n\n        outOfBounds: function() {\n            return this.dimension.outOfBounds(this.movable[this.axis]);\n        },\n\n        dragMove: function(delta) {\n            var that = this,\n                dimension = that.dimension,\n                axis = that.axis,\n                movable = that.movable,\n                position = movable[axis] + delta;\n\n            if (!dimension.enabled) {\n                return;\n            }\n\n            if ((position < dimension.min && delta < 0) || (position > dimension.max && delta > 0)) {\n                delta *= that.resistance;\n            }\n\n            movable.translateAxis(axis, delta);\n            that.trigger(CHANGE, that);\n        }\n    });\n\n    var Pane = Class.extend({\n\n        init: function(options) {\n            var that = this,\n                x,\n                y,\n                resistance,\n                movable;\n\n            extend(that, {elastic: true}, options);\n\n            resistance = that.elastic ? 0.5 : 0;\n            movable = that.movable;\n\n            that.x = x = new PaneAxis({\n                axis: \"x\",\n                dimension: that.dimensions.x,\n                resistance: resistance,\n                movable: movable\n            });\n\n            that.y = y = new PaneAxis({\n                axis: \"y\",\n                dimension: that.dimensions.y,\n                resistance: resistance,\n                movable: movable\n            });\n\n            that.userEvents.bind([\"press\", \"move\", \"end\", \"gesturestart\", \"gesturechange\"], {\n                gesturestart: function(e) {\n                    that.gesture = e;\n                    that.offset = that.dimensions.container.offset();\n                },\n\n                press: function(e) {\n                    if ($(e.event.target).closest(\"a\").is(\"[data-navigate-on-press=true]\")) {\n                        e.sender.cancel();\n                    }\n                },\n\n                gesturechange: function(e) {\n                    var previousGesture = that.gesture,\n                        previousCenter = previousGesture.center,\n\n                        center = e.center,\n\n                        scaleDelta = e.distance / previousGesture.distance,\n\n                        minScale = that.dimensions.minScale,\n                        maxScale = that.dimensions.maxScale,\n                        coordinates;\n\n                    if (movable.scale <= minScale && scaleDelta < 1) {\n                        // Resist shrinking. Instead of shrinking from 1 to 0.5, it will shrink to 0.5 + (1 /* minScale */ - 0.5) * 0.8 = 0.9;\n                        scaleDelta += (1 - scaleDelta) * 0.8;\n                    }\n\n                    if (movable.scale * scaleDelta >= maxScale) {\n                        scaleDelta = maxScale / movable.scale;\n                    }\n\n                    var offsetX = movable.x + that.offset.left,\n                        offsetY = movable.y + that.offset.top;\n\n                    coordinates = {\n                        x: (offsetX - previousCenter.x) * scaleDelta + center.x - offsetX,\n                        y: (offsetY - previousCenter.y) * scaleDelta + center.y - offsetY\n                    };\n\n                    movable.scaleWith(scaleDelta);\n\n                    x.dragMove(coordinates.x);\n                    y.dragMove(coordinates.y);\n\n                    that.dimensions.rescale(movable.scale);\n                    that.gesture = e;\n                    e.preventDefault();\n                },\n\n                move: function(e) {\n                    if (e.event.target.tagName.match(/textarea|input/i)) {\n                        return;\n                    }\n\n                    if (x.dimension.enabled || y.dimension.enabled) {\n                        x.dragMove(e.x.delta);\n                        y.dragMove(e.y.delta);\n                        e.preventDefault();\n                    } else {\n                        e.touch.skip();\n                    }\n                },\n\n                end: function(e) {\n                    e.preventDefault();\n                }\n            });\n        }\n    });\n\n    var TRANSFORM_STYLE = support.transitions.prefix + \"Transform\",\n        translate;\n\n\n    if (support.hasHW3D) {\n        translate = function(x, y, scale) {\n            return \"translate3d(\" + x + \"px,\" + y +\"px,0) scale(\" + scale + \")\";\n        };\n    } else {\n        translate = function(x, y, scale) {\n            return \"translate(\" + x + \"px,\" + y +\"px) scale(\" + scale + \")\";\n        };\n    }\n\n    var Movable = Observable.extend({\n        init: function(element) {\n            var that = this;\n\n            Observable.fn.init.call(that);\n\n            that.element = $(element);\n            that.element[0].style.webkitTransformOrigin = \"left top\";\n            that.x = 0;\n            that.y = 0;\n            that.scale = 1;\n            that._saveCoordinates(translate(that.x, that.y, that.scale));\n        },\n\n        translateAxis: function(axis, by) {\n            this[axis] += by;\n            this.refresh();\n        },\n\n        scaleTo: function(scale) {\n            this.scale = scale;\n            this.refresh();\n        },\n\n        scaleWith: function(scaleDelta) {\n            this.scale *= scaleDelta;\n            this.refresh();\n        },\n\n        translate: function(coordinates) {\n            this.x += coordinates.x;\n            this.y += coordinates.y;\n            this.refresh();\n        },\n\n        moveAxis: function(axis, value) {\n            this[axis] = value;\n            this.refresh();\n        },\n\n        moveTo: function(coordinates) {\n            extend(this, coordinates);\n            this.refresh();\n        },\n\n        refresh: function() {\n            var that = this,\n                x = that.x,\n                y = that.y,\n                newCoordinates;\n\n            if (that.round) {\n                x = Math.round(x);\n                y = Math.round(y);\n            }\n\n            newCoordinates = translate(x, y, that.scale);\n\n            if (newCoordinates != that.coordinates) {\n                if (kendo.support.browser.msie && kendo.support.browser.version < 10) {\n                    that.element[0].style.position = \"absolute\";\n                    that.element[0].style.left = that.x + \"px\";\n                    that.element[0].style.top = that.y + \"px\";\n\n                } else {\n                    that.element[0].style[TRANSFORM_STYLE] = newCoordinates;\n                }\n                that._saveCoordinates(newCoordinates);\n                that.trigger(CHANGE);\n            }\n        },\n\n        _saveCoordinates: function(coordinates) {\n            this.coordinates = coordinates;\n        }\n    });\n\n    function destroyDroppable(collection, widget) {\n        var groupName = widget.options.group,\n        droppables = collection[groupName],\n        i;\n\n        Widget.fn.destroy.call(widget);\n\n        if (droppables.length > 1) {\n            for (i = 0; i < droppables.length; i++) {\n                if (droppables[i] == widget) {\n                    droppables.splice(i, 1);\n                    break;\n                }\n            }\n        } else {\n            droppables.length = 0; // WTF, porting this from the previous destroyGroup\n            delete collection[groupName];\n        }\n    }\n\n    var DropTarget = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            var group = that.options.group;\n\n            if (!(group in dropTargets)) {\n                dropTargets[group] = [ that ];\n            } else {\n                dropTargets[group].push( that );\n            }\n        },\n\n        events: [\n            DRAGENTER,\n            DRAGLEAVE,\n            DROP\n        ],\n\n        options: {\n            name: \"DropTarget\",\n            group: \"default\"\n        },\n\n        destroy: function() {\n            destroyDroppable(dropTargets, this);\n        },\n\n        _trigger: function(eventName, e) {\n            var that = this,\n                draggable = draggables[that.options.group];\n\n            if (draggable) {\n                return that.trigger(eventName, extend({}, e.event, {\n                           draggable: draggable,\n                           dropTarget: e.dropTarget\n                       }));\n            }\n        },\n\n        _over: function(e) {\n            this._trigger(DRAGENTER, e);\n        },\n\n        _out: function(e) {\n            this._trigger(DRAGLEAVE, e);\n        },\n\n        _drop: function(e) {\n            var that = this,\n                draggable = draggables[that.options.group];\n\n            if (draggable) {\n                draggable.dropped = !that._trigger(DROP, e);\n            }\n        }\n    });\n\n    DropTarget.destroyGroup = function(groupName) {\n        var group = dropTargets[groupName] || dropAreas[groupName],\n            i;\n\n        if (group) {\n            for (i = 0; i < group.length; i++) {\n                Widget.fn.destroy.call(group[i]);\n            }\n\n            group.length = 0;\n            delete dropTargets[groupName];\n            delete dropAreas[groupName];\n        }\n    };\n\n    DropTarget._cache = dropTargets;\n\n    var DropTargetArea = DropTarget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            var group = that.options.group;\n\n            if (!(group in dropAreas)) {\n                dropAreas[group] = [ that ];\n            } else {\n                dropAreas[group].push( that );\n            }\n        },\n\n        destroy: function() {\n            destroyDroppable(dropAreas, this);\n        },\n\n        options: {\n            name: \"DropTargetArea\",\n            group: \"default\",\n            filter: null\n        }\n    });\n\n    var Draggable = Widget.extend({\n        init: function (element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._activated = false;\n\n            that.userEvents = new UserEvents(that.element, {\n                global: true,\n                allowSelection: true,\n                filter: that.options.filter,\n                threshold: that.options.distance,\n                start: that._start.bind(that),\n                hold: that._hold.bind(that),\n                move: that._drag.bind(that),\n                end: that._end.bind(that),\n                cancel: that._cancel.bind(that),\n                select: that._select.bind(that)\n            });\n\n            if (kendo.support.touch) {\n                that.element.find(that.options.filter).css('touch-action', 'none');\n            }\n\n            that._afterEndHandler = that._afterEnd.bind(that);\n            that._captureEscape = that._captureEscape.bind(that);\n        },\n\n        events: [\n            HOLD,\n            DRAGSTART,\n            DRAG,\n            DRAGEND,\n            DRAGCANCEL,\n            HINTDESTROYED\n        ],\n\n        options: {\n            name: \"Draggable\",\n            distance: ( kendo.support.touch ? 0 : 5),\n            group: \"default\",\n            cursorOffset: null,\n            axis: null,\n            container: null,\n            filter: null,\n            ignore: null,\n            holdToDrag: false,\n            autoScroll: false,\n            dropped: false\n        },\n\n        cancelHold: function() {\n            this._activated = false;\n        },\n\n        _captureEscape: function(e) {\n            var that = this;\n\n            if (e.keyCode === kendo.keys.ESC) {\n                that._trigger(DRAGCANCEL, { event: e });\n                that.userEvents.cancel();\n            }\n        },\n\n        _updateHint: function(e) {\n            var that = this,\n                coordinates,\n                options = that.options,\n                boundaries = that.boundaries,\n                axis = options.axis,\n                cursorOffset = that.options.cursorOffset;\n\n            if (cursorOffset) {\n               coordinates = { left: e.x.location + cursorOffset.left, top: e.y.location + cursorOffset.top };\n            } else {\n                that.hintOffset.left += e.x.delta;\n                that.hintOffset.top += e.y.delta;\n                coordinates = $.extend({}, that.hintOffset);\n            }\n\n            if (boundaries) {\n                coordinates.top = within(coordinates.top, boundaries.y);\n                coordinates.left = within(coordinates.left, boundaries.x);\n            }\n\n            if (axis === \"x\") {\n                delete coordinates.top;\n            } else if (axis === \"y\") {\n                delete coordinates.left;\n            }\n\n            that.hint.css(coordinates);\n        },\n\n        _shouldIgnoreTarget: function(target) {\n            var ignoreSelector = this.options.ignore;\n            return ignoreSelector && $(target).is(ignoreSelector);\n        },\n\n        _select: function(e) {\n            if (!this._shouldIgnoreTarget(e.event.target)) {\n                e.preventDefault();\n            }\n        },\n\n        _start: function(e) {\n            var that = this,\n                options = that.options,\n                container = options.container ? $(options.container): null,\n                hint = options.hint;\n\n            if (this._shouldIgnoreTarget(e.touch.initialTouch) || (options.holdToDrag && !that._activated)) {\n                that.userEvents.cancel();\n                return;\n            }\n\n            that.currentTarget = e.target;\n            that.currentTargetOffset = getOffset(that.currentTarget);\n\n            if (hint) {\n                if (that.hint) {\n                    that.hint.stop(true, true).remove();\n                }\n\n                that.hint = kendo.isFunction(hint) ? $(hint.call(that, that.currentTarget)) : hint;\n\n                var offset = getOffset(that.currentTarget);\n                that.hintOffset = offset;\n\n                that.hint.css( {\n                    position: \"absolute\",\n                    zIndex: 20000, // the Window's z-index is 10000 and can be raised because of z-stacking\n                    left: offset.left,\n                    top: offset.top\n                })\n                .appendTo(document.body);\n\n                that.angular(\"compile\", function(){\n                    that.hint.removeAttr(\"ng-repeat\");\n                    var scopeTarget = $(e.target);\n\n                    while (!scopeTarget.data(\"$$kendoScope\") && scopeTarget.length) {\n                        scopeTarget = scopeTarget.parent();\n                    }\n\n                    return {\n                        elements: that.hint.get(),\n                        scopeFrom: scopeTarget.data(\"$$kendoScope\")\n                    };\n                });\n            }\n\n            draggables[options.group] = that;\n\n            that.dropped = false;\n\n            if (container) {\n                that.boundaries = containerBoundaries(container, that.hint);\n            }\n\n            $(document).on(KEYUP, that._captureEscape);\n\n            if (that._trigger(DRAGSTART, e)) {\n                that.userEvents.cancel();\n                that._afterEnd();\n            }\n\n            that.userEvents.capture();\n        },\n\n        _hold: function(e) {\n            this.currentTarget = e.target;\n\n            if (this._trigger(HOLD, e)) {\n                this.userEvents.cancel();\n            } else {\n                this._activated = true;\n            }\n        },\n\n        _drag: function(e) {\n            e.preventDefault();\n\n            var cursorElement = this._elementUnderCursor(e);\n\n            if (this.options.autoScroll && this._cursorElement !== cursorElement) {\n                this._scrollableParent = findScrollableParent(cursorElement);\n                this._cursorElement = cursorElement;\n            }\n\n            this._lastEvent = e;\n            this._processMovement(e, cursorElement);\n\n            if (this.options.autoScroll) {\n                // chrome seems to trigger mousemove when mouse is moved outside of the window (over the Chrome), too.\n                if (this._scrollableParent[0]) {\n                    var velocity = autoScrollVelocity(e.x.location, e.y.location, scrollableViewPort(this._scrollableParent));\n\n\n                    this._scrollCompenstation = $.extend({}, this.hintOffset);\n                    this._scrollVelocity = velocity;\n\n                    if (velocity.y === 0 && velocity.x === 0) {\n                        clearInterval(this._scrollInterval);\n                        this._scrollInterval = null;\n                    } else if(!this._scrollInterval) {\n                        this._scrollInterval = setInterval(this._autoScroll.bind(this), 50);\n                    }\n                }\n            }\n\n            if (this.hint) {\n                this._updateHint(e);\n            }\n        },\n\n        _processMovement: function(e, cursorElement) {\n            this._withDropTarget(cursorElement, function(target, targetElement) {\n                if (!target) {\n                    if (lastDropTarget) {\n                        lastDropTarget._trigger(DRAGLEAVE, extend(e, { dropTarget: $(lastDropTarget.targetElement) }));\n                        lastDropTarget = null;\n                    }\n                    return;\n                }\n\n                if (lastDropTarget) {\n                    if (targetElement === lastDropTarget.targetElement) {\n                        return;\n                    }\n\n                    lastDropTarget._trigger(DRAGLEAVE, extend(e, { dropTarget: $(lastDropTarget.targetElement) }));\n                }\n\n                target._trigger(DRAGENTER, extend(e, { dropTarget: $(targetElement) }));\n                lastDropTarget = extend(target, { targetElement: targetElement });\n            });\n\n            this._trigger(DRAG, extend(e, { dropTarget: lastDropTarget, elementUnderCursor: cursorElement }));\n        },\n\n        _autoScroll: function() {\n            var parent = this._scrollableParent[0],\n                velocity = this._scrollVelocity,\n                compensation = this._scrollCompenstation;\n\n            if (!parent) {\n                return;\n            }\n\n            var cursorElement = this._elementUnderCursor(this._lastEvent);\n            this._processMovement(this._lastEvent, cursorElement);\n\n            var yIsScrollable, xIsScrollable;\n\n            var isRootNode = parent === scrollableRoot()[0];\n\n            if (isRootNode) {\n                yIsScrollable = document.body.scrollHeight > $window.height();\n                xIsScrollable = document.body.scrollWidth > $window.width();\n            } else {\n                yIsScrollable = parent.offsetHeight <= parent.scrollHeight;\n                xIsScrollable = parent.offsetWidth <= parent.scrollWidth;\n            }\n\n            var yDelta = parent.scrollTop + velocity.y;\n            var yInBounds = yIsScrollable && yDelta > 0 && yDelta < parent.scrollHeight;\n\n            var xDelta = parent.scrollLeft + velocity.x;\n            var xInBounds = xIsScrollable && xDelta > 0 && xDelta < parent.scrollWidth;\n\n            if (yInBounds) {\n                parent.scrollTop += velocity.y;\n            } else if (yIsScrollable && yDelta < 0) {\n                parent.scrollTop = 0;\n            }\n\n            if (xInBounds) {\n                parent.scrollLeft += velocity.x;\n            } else if (xIsScrollable && xDelta < 0) {\n                parent.scrollLeft = 0;\n            }\n\n            if (this.hint && isRootNode && (xInBounds || yInBounds)) {\n                if (yInBounds) {\n                    compensation.top += velocity.y;\n                }\n\n                if (xInBounds) {\n                    compensation.left += velocity.x;\n                }\n\n                this.hint.css(compensation);\n            }\n        },\n\n        _end: function(e) {\n            this._withDropTarget(this._elementUnderCursor(e), function(target, targetElement) {\n                if (target) {\n                    target._drop(extend({}, e, { dropTarget: $(targetElement) }));\n                    lastDropTarget = null;\n                }\n            });\n\n            clearInterval(this._scrollInterval);\n            this._scrollInterval = null;\n            this._cancel(this._trigger(DRAGEND, e));\n        },\n\n        _cancel: function(isDefaultPrevented) {\n            var that = this;\n\n            that._scrollableParent = null;\n            this._cursorElement = null;\n            clearInterval(this._scrollInterval);\n            that._activated = false;\n\n            if (that.hint && !that.dropped) {\n                setTimeout(function() {\n                    that.hint.stop(true, true);\n\n                    if (isDefaultPrevented) {\n                        that._afterEndHandler();\n                    } else {\n                        that.hint.animate(that.currentTargetOffset, \"fast\", that._afterEndHandler);\n                    }\n                }, 0);\n\n            } else {\n                that._afterEnd();\n            }\n        },\n\n        _trigger: function(eventName, e) {\n            var that = this;\n\n            return that.trigger(\n                eventName, extend(\n                {},\n                e.event,\n                {\n                    x: e.x,\n                    y: e.y,\n                    currentTarget: that.currentTarget,\n                    initialTarget: e.touch ? e.touch.initialTouch : null,\n                    dropTarget: e.dropTarget,\n                    elementUnderCursor: e.elementUnderCursor\n                }\n            ));\n        },\n\n        _elementUnderCursor: function(e) {\n            var target = elementUnderCursor(e),\n                hint = this.hint;\n\n            if (hint && contains(hint[0], target)) {\n                hint.hide();\n                target = elementUnderCursor(e);\n                // IE8 does not return the element in iframe from first attempt\n                if (!target) {\n                    target = elementUnderCursor(e);\n                }\n                hint.show();\n            }\n\n            return target;\n        },\n\n        _withDropTarget: function(element, callback) {\n            var result,\n                group = this.options.group,\n                targets = dropTargets[group],\n                areas = dropAreas[group];\n\n            if (targets && targets.length || areas && areas.length) {\n                result = checkTarget(element, targets, areas);\n\n                if (result) {\n                    callback(result.target, result.targetElement);\n                } else {\n                    callback();\n                }\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that._afterEnd();\n\n            that.userEvents.destroy();\n\n            this._scrollableParent = null;\n            this._cursorElement = null;\n            clearInterval(this._scrollInterval);\n\n            that.currentTarget = null;\n        },\n\n        _afterEnd: function() {\n            var that = this;\n\n            if (that.hint) {\n                that.hint.remove();\n            }\n\n            delete draggables[that.options.group];\n\n            that.trigger(\"destroy\");\n            that.trigger(HINTDESTROYED);\n            $(document).off(KEYUP, that._captureEscape);\n        }\n    });\n\n    kendo.ui.plugin(DropTarget);\n    kendo.ui.plugin(DropTargetArea);\n    kendo.ui.plugin(Draggable);\n    kendo.TapCapture = TapCapture;\n    kendo.containerBoundaries = containerBoundaries;\n\n    extend(kendo.ui, {\n        Pane: Pane,\n        PaneDimensions: PaneDimensions,\n        Movable: Movable\n    });\n\n    function scrollableViewPort(element) {\n        var root = scrollableRoot()[0],\n            offset,\n            top,\n            left;\n\n        if (element[0] === root) {\n            top = root.scrollTop;\n            left = root.scrollLeft;\n\n            return {\n                top: top,\n                left: left,\n                bottom: top + $window.height(),\n                right: left + $window.width()\n            };\n        } else {\n            offset = element.offset();\n            offset.bottom = offset.top + element.height();\n            offset.right =  offset.left + element.width();\n            return offset;\n        }\n    }\n\n    function scrollableRoot() {\n        return $(kendo.support.browser.edge || kendo.support.browser.safari ? document.body : document.documentElement);\n    }\n\n    function findScrollableParent(element) {\n        var root = scrollableRoot();\n\n        if (!element || element === document.body || element === document.documentElement) {\n            return root;\n        }\n\n        var parent = $(element)[0];\n\n        while (parent && !kendo.isScrollable(parent) && parent !== document.body) {\n            parent = parent.parentNode;\n        }\n\n        if (parent === document.body) {\n            return root;\n        }\n\n        return $(parent);\n    }\n\n    function autoScrollVelocity(mouseX, mouseY, rect) {\n        var velocity = { x: 0, y: 0 };\n\n        var AUTO_SCROLL_AREA = 50;\n\n        if (mouseX - rect.left < AUTO_SCROLL_AREA) {\n            velocity.x = -(AUTO_SCROLL_AREA - (mouseX - rect.left));\n        } else if (rect.right - mouseX < AUTO_SCROLL_AREA) {\n            velocity.x = AUTO_SCROLL_AREA - (rect.right - mouseX);\n        }\n\n        if (mouseY - rect.top < AUTO_SCROLL_AREA) {\n            velocity.y = -(AUTO_SCROLL_AREA - (mouseY - rect.top));\n        } else if (rect.bottom - mouseY < AUTO_SCROLL_AREA) {\n            velocity.y = AUTO_SCROLL_AREA - (rect.bottom - mouseY);\n        }\n\n        return velocity;\n    }\n\n    // export for testing\n    kendo.ui.Draggable.utils = {\n        autoScrollVelocity: autoScrollVelocity,\n        scrollableViewPort: scrollableViewPort,\n        findScrollableParent: findScrollableParent\n    };\n\n })(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.popup',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"popup\",\n    name: \"Pop-up\",\n    category: \"framework\",\n    depends: [ \"core\" ],\n    advanced: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        Class = kendo.Class,\n        support = kendo.support,\n        getOffset = kendo.getOffset,\n        outerWidth = kendo._outerWidth,\n        outerHeight = kendo._outerHeight,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        DEACTIVATE = \"deactivate\",\n        ACTIVATE = \"activate\",\n        CENTER = \"center\",\n        LEFT = \"left\",\n        RIGHT = \"right\",\n        TOP = \"top\",\n        BOTTOM = \"bottom\",\n        ABSOLUTE = \"absolute\",\n        HIDDEN = \"hidden\",\n        BODY = \"body\",\n        LOCATION = \"location\",\n        POSITION = \"position\",\n        VISIBLE = \"visible\",\n        EFFECTS = \"effects\",\n        ACTIVE = \"k-state-active\",\n        ACTIVEBORDER = \"k-state-border\",\n        ACTIVEBORDERREGEXP = /k-state-border-(\\w+)/,\n        ACTIVECHILDREN = \".k-picker-wrap, .k-dropdown-wrap, .k-link\",\n        MOUSEDOWN = \"down\",\n        DOCUMENT_ELEMENT = $(document.documentElement),\n        WINDOW = $(window),\n        SCROLL = \"scroll\",\n        cssPrefix = support.transitions.css,\n        TRANSFORM = cssPrefix + \"transform\",\n        extend = $.extend,\n        NS = \".kendoPopup\",\n        styles = [\"font-size\",\n                  \"font-family\",\n                  \"font-stretch\",\n                  \"font-style\",\n                  \"font-weight\",\n                  \"line-height\"];\n\n    function contains(container, target) {\n        if (!container || !target) {\n            return false;\n        }\n        return container === target || $.contains(container, target);\n    }\n\n    var Popup = Widget.extend({\n        init: function(element, options) {\n            var that = this, parentPopup;\n\n            options = options || {};\n\n            if (options.isRtl) {\n                options.origin = options.origin || BOTTOM + \" \" + RIGHT;\n                options.position = options.position || TOP + \" \" + RIGHT;\n            }\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            that.collisions = options.collision ? options.collision.split(\" \") : [];\n            that.downEvent = kendo.applyEventMap(MOUSEDOWN, kendo.guid());\n\n            if (that.collisions.length === 1) {\n                that.collisions.push(that.collisions[0]);\n            }\n\n            parentPopup = $(that.options.anchor).closest(\".k-popup,.k-group\").filter(\":not([class^=km-])\"); // When popup is in another popup, make it relative.\n\n            options.appendTo = $($(options.appendTo)[0] || parentPopup[0] || document.body);\n\n            that.element.hide()\n                .addClass(\"k-popup k-group k-reset\")\n                .toggleClass(\"k-rtl\", !!options.isRtl)\n                .css({ position : ABSOLUTE })\n                .appendTo(options.appendTo)\n                .attr(\"aria-hidden\", true)\n                .on(\"mouseenter\" + NS, function() {\n                    that._hovered = true;\n                })\n                .on(\"wheel\" + NS, function(e) {\n                    var list = $(e.target).find(\".k-list\");\n                    var scrollArea = list.parent();\n                    if (list.length && list.is(\":visible\") && ((scrollArea.scrollTop() === 0 && e.originalEvent.deltaY < 0) ||\n                        (scrollArea.scrollTop() === scrollArea.prop('scrollHeight') - scrollArea.prop('offsetHeight') && e.originalEvent.deltaY > 0))) {\n                           e.preventDefault();\n                    }\n                })\n                .on(\"mouseleave\" + NS, function() {\n                    that._hovered = false;\n                });\n\n            that.wrapper = $();\n\n            if (options.animation === false) {\n                options.animation = { open: { effects: {} }, close: { hide: true, effects: {} } };\n            }\n\n            extend(options.animation.open, {\n                complete: function() {\n                    that.wrapper.css({ overflow: VISIBLE }); // Forcing refresh causes flickering in mobile.\n                    that._activated = true;\n                    that._trigger(ACTIVATE);\n                }\n            });\n\n            extend(options.animation.close, {\n                complete: function() {\n                    that._animationClose();\n                }\n            });\n\n            that._mousedownProxy = function(e) {\n                that._mousedown(e);\n            };\n\n            if (support.mobileOS.android) {\n                that._resizeProxy = function(e) {\n                    setTimeout(function() {\n                        that._resize(e);\n                    }, 600); //Logic from kendo.onResize\n                };\n            } else {\n                that._resizeProxy = function(e) {\n                    that._resize(e);\n                };\n            }\n\n            if (options.toggleTarget) {\n                $(options.toggleTarget).on(options.toggleEvent + NS, that.toggle.bind(that));\n            }\n        },\n\n        events: [\n            OPEN,\n            ACTIVATE,\n            CLOSE,\n            DEACTIVATE\n        ],\n\n        options: {\n            name: \"Popup\",\n            toggleEvent: \"click\",\n            origin: BOTTOM + \" \" + LEFT,\n            position: TOP + \" \" + LEFT,\n            anchor: BODY,\n            appendTo: null,\n            collision: \"flip fit\",\n            viewport: window,\n            copyAnchorStyles: true,\n            autosize: false,\n            modal: false,\n            adjustSize: {\n                width: 0,\n                height: 0\n            },\n            animation: {\n                open: {\n                    effects: \"slideIn:down\",\n                    transition: true,\n                    duration: 200\n                },\n                close: { // if close animation effects are defined, they will be used instead of open.reverse\n                    duration: 100,\n                    hide: true\n                }\n            },\n            omitOriginOffsets: false\n        },\n\n        _animationClose: function() {\n            var that = this;\n            var location = that.wrapper.data(LOCATION);\n\n            that.wrapper.hide();\n\n            if (location) {\n                that.wrapper.css(location);\n            }\n\n            if (that.options.anchor != BODY) {\n                that._hideDirClass();\n            }\n\n            that._closing = false;\n            that._trigger(DEACTIVATE);\n        },\n\n        destroy: function() {\n            var that = this,\n                options = that.options,\n                element = that.element.off(NS),\n                parent;\n\n            Widget.fn.destroy.call(that);\n\n            if (options.toggleTarget) {\n                $(options.toggleTarget).off(NS);\n            }\n\n            if (!options.modal) {\n                DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy);\n                that._toggleResize(false);\n            }\n\n            kendo.destroy(that.element.children());\n            element.removeData();\n\n            if (options.appendTo[0] === document.body) {\n                parent = element.parent(\".k-animation-container\");\n\n                if (parent[0]) {\n                    parent.remove();\n                } else {\n                    element.remove();\n                }\n            }\n        },\n\n        open: function(x, y) {\n            var that = this,\n                fixed = { isFixed: !isNaN(parseInt(y,10)), x: x, y: y },\n                element = that.element,\n                options = that.options,\n                animation, wrapper,\n                anchor = $(options.anchor),\n                mobile = element[0] && element.hasClass(\"km-widget\"),\n                listbox = element.find(\"[role='listbox']\");\n\n            if (!that.visible()) {\n                if (options.copyAnchorStyles) {\n                    if (mobile && styles[0] == \"font-size\") {\n                        styles.shift();\n                    }\n                    element.css(kendo.getComputedStyles(anchor[0], styles));\n                }\n\n                if (element.data(\"animating\") || that._trigger(OPEN)) {\n                    return;\n                }\n\n                that._activated = false;\n\n                if (!options.modal) {\n                    DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy)\n                                .on(that.downEvent, that._mousedownProxy);\n\n                    // this binding hangs iOS in editor\n                    // all elements in IE7/8 fire resize event, causing mayhem\n                    that._toggleResize(false);\n                    that._toggleResize(true);\n                }\n\n                that.wrapper = wrapper = kendo.wrap(element, options.autosize)\n                    .css({\n                        overflow: HIDDEN,\n                        display: \"block\",\n                        position: ABSOLUTE\n                    })\n                    .attr(\"aria-hidden\", false);\n\n                if (listbox.attr(\"aria-label\")) {\n                    wrapper.attr(\"aria-label\", listbox.attr(\"aria-label\"));\n                } else if (listbox.attr(\"aria-labelledby\")) {\n                    wrapper.attr(\"aria-labelledby\", listbox.attr(\"aria-labelledby\"));\n                }\n\n                if (support.mobileOS.android) {\n                    wrapper.css(TRANSFORM, \"translatez(0)\"); // Android is VERY slow otherwise. Should be tested in other droids as well since it may cause blur.\n                }\n\n                wrapper.css(POSITION);\n\n                if ($(options.appendTo)[0] == document.body) {\n                    wrapper.css(TOP, \"-10000px\");\n                }\n\n                that.flipped = that._position(fixed);\n                animation = that._openAnimation();\n\n                if (options.anchor != BODY) {\n                    that._showDirClass(animation);\n                }\n\n                if (!element.is(\":visible\") && element.data(\"olddisplay\") === undefined) {\n                    element.show();\n                    element.data(\"olddisplay\", element.css(\"display\"));\n                    element.hide();\n                }\n\n                element.data(EFFECTS, animation.effects)\n                       .kendoStop(true)\n                       .kendoAnimate(animation)\n                       .attr(\"aria-hidden\", false);\n            }\n        },\n\n        _location: function(isFixed) {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                wrapper,\n                anchor = $(options.anchor),\n                mobile = element[0] && element.hasClass(\"km-widget\");\n\n            if (options.copyAnchorStyles) {\n                if (mobile && styles[0] == \"font-size\") {\n                    styles.shift();\n                }\n                element.css(kendo.getComputedStyles(anchor[0], styles));\n            }\n\n            that.wrapper = wrapper = kendo.wrap(element, options.autosize)\n                                    .css({\n                                        overflow: HIDDEN,\n                                        display: \"block\",\n                                        position: ABSOLUTE\n                                    });\n\n            if (support.mobileOS.android) {\n                wrapper.css(TRANSFORM, \"translatez(0)\"); // Android is VERY slow otherwise. Should be tested in other droids as well since it may cause blur.\n            }\n\n            wrapper.css(POSITION);\n\n            if ($(options.appendTo)[0] == document.body) {\n                wrapper.css(TOP, \"-10000px\");\n            }\n\n            that._position(isFixed || {});\n\n            var offset = wrapper.offset();\n            return {\n                width: kendo._outerWidth(wrapper),\n                height: kendo._outerHeight(wrapper),\n                left: offset.left,\n                top: offset.top\n            };\n        },\n\n        _openAnimation: function() {\n            var animation = extend(true, {}, this.options.animation.open);\n            animation.effects = kendo.parseEffects(animation.effects, this.flipped);\n\n            return animation;\n        },\n\n        _hideDirClass: function() {\n            var anchor = $(this.options.anchor);\n            var direction = ((anchor.attr(\"class\") || \"\").match(ACTIVEBORDERREGEXP) || [\"\", \"down\"])[1];\n            var dirClass = ACTIVEBORDER + \"-\" + direction;\n\n            anchor\n                .removeClass(dirClass)\n                .children(ACTIVECHILDREN)\n                .removeClass(ACTIVE)\n                .removeClass(dirClass);\n\n            this.element.removeClass(ACTIVEBORDER + \"-\" + kendo.directions[direction].reverse);\n        },\n\n        _showDirClass: function(animation) {\n            var direction = animation.effects.slideIn ? animation.effects.slideIn.direction : \"down\";\n            var dirClass = ACTIVEBORDER + \"-\" + direction;\n\n            $(this.options.anchor)\n                .addClass(dirClass)\n                .children(ACTIVECHILDREN)\n                .addClass(ACTIVE)\n                .addClass(dirClass);\n\n            this.element.addClass(ACTIVEBORDER + \"-\" + kendo.directions[direction].reverse);\n        },\n\n        position: function() {\n            if (this.visible()) {\n                this.flipped = this._position();\n                //this._hideDirClass();\n                //this._showDirClass(this._openAnimation());\n            }\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that[that.visible() ? CLOSE : OPEN]();\n        },\n\n        visible: function() {\n            return this.element.is(\":\" + VISIBLE);\n        },\n\n        close: function(skipEffects) {\n            var that = this,\n                options = that.options, wrap,\n                animation, openEffects, closeEffects;\n\n            if (that.visible()) {\n                wrap = (that.wrapper[0] ? that.wrapper : kendo.wrap(that.element).hide());\n\n                that._toggleResize(false);\n\n                if (that._closing || that._trigger(CLOSE)) {\n                    that._toggleResize(true);\n                    return;\n                }\n\n                // Close all inclusive popups.\n                that.element.find(\".k-popup\").each(function () {\n                    var that = $(this),\n                        popup = that.data(\"kendoPopup\");\n\n                    if (popup) {\n                        popup.close(skipEffects);\n                    }\n                });\n\n                DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy);\n\n                if (skipEffects) {\n                    animation = { hide: true, effects: {} };\n                } else {\n                    animation = extend(true, {}, options.animation.close);\n                    openEffects = that.element.data(EFFECTS);\n                    closeEffects = animation.effects;\n\n                    if (!closeEffects && !kendo.size(closeEffects) && openEffects && kendo.size(openEffects)) {\n                        animation.effects = openEffects;\n                        animation.reverse = true;\n                    }\n\n                    that._closing = true;\n                }\n\n                that.element\n                        .kendoStop(true)\n                        .attr(\"aria-hidden\", true);\n                wrap\n                    .css({ overflow: HIDDEN }) // stop callback will remove hidden overflow\n                    .attr(\"aria-hidden\", true);\n                that.element.kendoAnimate(animation);\n\n                if (skipEffects) {\n                    that._animationClose();\n                }\n            }\n        },\n\n        _trigger: function(ev) {\n            return this.trigger(ev, { type: ev });\n        },\n\n        _resize: function(e) {\n            var that = this;\n\n            if (support.resize.indexOf(e.type) !== -1) {\n                clearTimeout(that._resizeTimeout);\n                that._resizeTimeout = setTimeout(function() {\n                    that._position();\n                    that._resizeTimeout = null;\n                }, 50);\n            } else {\n                if (!that._hovered || (that._activated && that.element.find(\".k-list\").length > 0)) {\n                    that.close();\n                }\n            }\n        },\n\n        _toggleResize: function(toggle) {\n            var method = toggle ? \"on\" : \"off\";\n            var eventNames = support.resize;\n\n            if (!(support.mobileOS.ios || support.mobileOS.android || support.browser.safari)) {\n                eventNames += \" \" + SCROLL;\n            }\n\n            if (toggle && !this.scrollableParents) {\n                this.scrollableParents = this._scrollableParents();\n            }\n\n            if (this.scrollableParents && this.scrollableParents.length) {\n                this.scrollableParents[method](SCROLL, this._resizeProxy);\n            }\n\n            WINDOW[method](eventNames, this._resizeProxy);\n        },\n\n        _mousedown: function(e) {\n            var that = this,\n                container = that.element[0],\n                options = that.options,\n                anchor = $(options.anchor)[0],\n                toggleTarget = options.toggleTarget,\n                target = kendo.eventTarget(e),\n                popup = $(target).closest(\".k-popup\"),\n                mobile = popup.parent().parent(\".km-shim\").length;\n\n            popup = popup[0];\n            if (!mobile && popup && popup !== that.element[0]){\n                return;\n            }\n\n            // This MAY result in popup not closing in certain cases.\n            if ($(e.target).closest(\"a\").data(\"rel\") === \"popover\") {\n                return;\n            }\n\n            if (!contains(container, target) && !contains(anchor, target) && !(toggleTarget && contains($(toggleTarget)[0], target))) {\n                that.close();\n            }\n        },\n\n        _fit: function(position, size, viewPortSize) {\n            var output = 0;\n\n            if (position + size > viewPortSize) {\n                output = viewPortSize - (position + size);\n            }\n\n            if (position < 0) {\n                output = -position;\n            }\n\n            return output;\n        },\n\n        _flip: function(offset, size, anchorSize, viewPortSize, origin, position, boxSize) {\n            var output = 0;\n                boxSize = boxSize || size;\n\n            if (position !== origin && position !== CENTER && origin !== CENTER) {\n                if (offset + boxSize > viewPortSize) {\n                    output += -(anchorSize + size);\n                }\n\n                if (offset + output < 0) {\n                    output += anchorSize + size;\n                }\n            }\n            return output;\n        },\n\n        _scrollableParents: function() {\n            return $(this.options.anchor)\n                       .parentsUntil(\"body\")\n                       .filter(function(index, element) {\n                           return kendo.isScrollable(element);\n                       });\n        },\n\n        _position: function(fixed) {\n            var that = this,\n                //element = that.element.css(POSITION, \"\"), /* fixes telerik/kendo-ui-core#790, comes from telerik/kendo#615 */\n                element = that.element,\n                wrapper = that.wrapper,\n                options = that.options,\n                viewport = $(options.viewport),\n                zoomLevel = support.zoomLevel(),\n                isWindow = !!((viewport[0] == window) && window.innerWidth && (zoomLevel <= 1.02)),\n                anchor = $(options.anchor),\n                origins = options.origin.toLowerCase().split(\" \"),\n                positions = options.position.toLowerCase().split(\" \"),\n                collisions = that.collisions,\n                siblingContainer, parents,\n                parentZIndex, zIndex = 10002,\n                idx = 0,\n                docEl = document.documentElement,\n                length, viewportOffset, viewportWidth, viewportHeight;\n\n            if (options.viewport === window) {\n                viewportOffset = {\n                    top: (window.pageYOffset || document.documentElement.scrollTop || 0),\n                    left: (window.pageXOffset || document.documentElement.scrollLeft || 0)\n                };\n            } else {\n                viewportOffset = viewport.offset();\n            }\n\n            if (isWindow) {\n                viewportWidth = window.innerWidth;\n                viewportHeight = window.innerHeight;\n            } else {\n                viewportWidth = viewport.width();\n                viewportHeight = viewport.height();\n            }\n\n            if (isWindow && docEl.scrollHeight - docEl.clientHeight > 0) {\n                 var sign = options.isRtl ? -1 : 1;\n\n                 viewportWidth -= sign * kendo.support.scrollbar();\n            }\n\n            siblingContainer = anchor.parents().filter(wrapper.siblings());\n\n            if (siblingContainer[0]) {\n                parentZIndex = Math.max(Number(siblingContainer.css(\"zIndex\")), 0);\n\n                // set z-index to be more than that of the container/sibling\n                // compensate with more units for window z-stack\n                if (parentZIndex) {\n                    zIndex = parentZIndex + 10;\n                } else {\n                    parents = anchor.parentsUntil(siblingContainer);\n                    for (length = parents.length; idx < length; idx++) {\n                        parentZIndex = Number($(parents[idx]).css(\"zIndex\"));\n                        if (parentZIndex && zIndex < parentZIndex) {\n                            zIndex = parentZIndex + 10;\n                        }\n                    }\n                }\n            }\n\n            wrapper.css(\"zIndex\", zIndex);\n\n            if (fixed && fixed.isFixed) {\n                wrapper.css({ left: fixed.x, top: fixed.y });\n            } else {\n                wrapper.css(that._align(origins, positions));\n            }\n\n            var pos = getOffset(wrapper, POSITION, anchor[0] === wrapper.offsetParent()[0]),\n                offset = getOffset(wrapper),\n                anchorParent = anchor.offsetParent().parent(\".k-animation-container,.k-popup,.k-group\"); // If the parent is positioned, get the current positions\n\n            if (anchorParent.length) {\n                pos = getOffset(wrapper, POSITION, true);\n                offset = getOffset(wrapper);\n            }\n\n            offset.top -= viewportOffset.top;\n            offset.left -= viewportOffset.left;\n\n            if (!that.wrapper.data(LOCATION)) { // Needed to reset the popup location after every closure - fixes the resize bugs.\n                wrapper.data(LOCATION, extend({}, pos));\n            }\n\n            var offsets = extend({}, offset),\n                location = extend({}, pos),\n                adjustSize = options.adjustSize;\n\n            if (collisions[0] === \"fit\") {\n                location.top += that._fit(offsets.top, outerHeight(wrapper) + adjustSize.height, viewportHeight / zoomLevel);\n            }\n\n            if (collisions[1] === \"fit\") {\n                location.left += that._fit(offsets.left, outerWidth(wrapper) + adjustSize.width, viewportWidth / zoomLevel);\n            }\n\n            var flipPos = extend({}, location);\n            var elementHeight = outerHeight(element);\n            var wrapperHeight =  outerHeight(wrapper);\n\n            if (!wrapper.height() && elementHeight) {\n                wrapperHeight = wrapperHeight + elementHeight;\n            }\n\n            if (collisions[0] === \"flip\") {\n                location.top += that._flip(offsets.top, elementHeight, outerHeight(anchor), viewportHeight / zoomLevel, origins[0], positions[0], wrapperHeight);\n            }\n\n            if (collisions[1] === \"flip\") {\n                location.left += that._flip(offsets.left, outerWidth(element), outerWidth(anchor), viewportWidth / zoomLevel, origins[1], positions[1], outerWidth(wrapper));\n            }\n\n            element.css(POSITION, ABSOLUTE);\n            wrapper.css(location);\n\n            return (location.left != flipPos.left || location.top != flipPos.top);\n        },\n\n        _align: function(origin, position) {\n            var that = this,\n                element = that.wrapper,\n                anchor = $(that.options.anchor),\n                verticalOrigin = origin[0],\n                horizontalOrigin = origin[1],\n                verticalPosition = position[0],\n                horizontalPosition = position[1],\n                anchorOffset = getOffset(anchor),\n                appendTo = $(that.options.appendTo),\n                appendToOffset,\n                width = outerWidth(element),\n                height = outerHeight(element) || outerHeight(element.children().first()),\n                anchorWidth = outerWidth(anchor),\n                anchorHeight = outerHeight(anchor),\n                top = that.options.omitOriginOffsets ? 0 : anchorOffset.top,\n                left = that.options.omitOriginOffsets ? 0 : anchorOffset.left,\n                round = Math.round;\n\n            if (appendTo[0] != document.body) {\n                appendToOffset = getOffset(appendTo);\n                top -= appendToOffset.top;\n                left -= appendToOffset.left;\n            }\n\n\n            if (verticalOrigin === BOTTOM) {\n                top += anchorHeight;\n            }\n\n            if (verticalOrigin === CENTER) {\n                top += round(anchorHeight / 2);\n            }\n\n            if (verticalPosition === BOTTOM) {\n                top -= height;\n            }\n\n            if (verticalPosition === CENTER) {\n                top -= round(height / 2);\n            }\n\n            if (horizontalOrigin === RIGHT) {\n                left += anchorWidth;\n            }\n\n            if (horizontalOrigin === CENTER) {\n                left += round(anchorWidth / 2);\n            }\n\n            if (horizontalPosition === RIGHT) {\n                left -= width;\n            }\n\n            if (horizontalPosition === CENTER) {\n                left -= round(width / 2);\n            }\n\n            return {\n                top: top,\n                left: left\n            };\n        }\n    });\n\n    ui.plugin(Popup);\n\n    var stableSort = kendo.support.stableSort;\n    var tabKeyTrapNS = \"kendoTabKeyTrap\";\n    var focusableNodesSelector = \"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]\";\n    var TabKeyTrap = Class.extend({\n        init: function(element) {\n            this.element = $(element);\n            this.element.autoApplyNS(tabKeyTrapNS);\n        },\n\n        trap: function() {\n            this.element.on(\"keydown\", this._keepInTrap.bind(this));\n        },\n\n        removeTrap: function() {\n            this.element.kendoDestroy(tabKeyTrapNS);\n        },\n\n        destroy: function() {\n            this.element.kendoDestroy(tabKeyTrapNS);\n            this.element = undefined;\n        },\n\n        shouldTrap: function () {\n            return true;\n        },\n\n        _keepInTrap: function(e) {\n            if (e.which !== 9 || !this.shouldTrap() || e.isDefaultPrevented()) {\n                return;\n            }\n\n            var elements = this._focusableElements();\n            var sortedElements = this._sortFocusableElements(elements);\n            var next = this._nextFocusable(e, sortedElements);\n\n            this._focus(next);\n\n            e.preventDefault();\n        },\n        _focusableElements: function(){\n            var elements = this.element.find(focusableNodesSelector).filter(function(i, item){\n                return item.tabIndex >= 0 && $(item).is(':visible') && !$(item).is('[disabled]');\n            });\n\n            if (this.element.is(\"[tabindex]\")) {\n                elements.push(this.element[0]);\n            }\n\n            return elements;\n        },\n        _sortFocusableElements: function(elements){\n            var sortedElements;\n\n            if (stableSort) {\n                sortedElements = elements.sort(function(prev, next) {\n                    return prev.tabIndex - next.tabIndex;\n                });\n            } else {\n                var attrName = \"__k_index\";\n                elements.each(function(i, item){\n                    item.setAttribute(attrName, i);\n                });\n\n                sortedElements = elements.sort(function(prev, next) {\n                    return prev.tabIndex === next.tabIndex ?\n                        parseInt(prev.getAttribute(attrName), 10) - parseInt(next.getAttribute(attrName), 10) :\n                        prev.tabIndex - next.tabIndex;\n                });\n\n                elements.removeAttr(attrName);\n            }\n\n            return sortedElements;\n        },\n        _nextFocusable: function(e, elements){\n            var count = elements.length;\n            var current = elements.index(e.target);\n\n            return elements.get((current + (e.shiftKey ? -1 : 1)) % count);\n        },\n        _focus: function(element){\n            if (element.nodeName == \"IFRAME\") {\n                element.contentWindow.document.body.focus();\n                return;\n            }\n\n            element.focus();\n\n            if (element.nodeName == \"INPUT\" && element.setSelectionRange && this._haveSelectionRange(element)) {\n                element.setSelectionRange(0, element.value.length);\n            }\n        },\n        _haveSelectionRange: function(element){\n            var elementType = element.type.toLowerCase();\n\n            return elementType === \"text\" || elementType === \"search\" ||\n            elementType === \"url\" || elementType === \"tel\" ||\n            elementType === \"password\";\n        }\n    });\n    ui.Popup.TabKeyTrap = TabKeyTrap;\n})(window.kendo.jQuery);\n\n\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.touch',[ \"./kendo.core\", \"./kendo.userevents\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"touch\",\n    name: \"Touch\",\n    category: \"mobile\",\n    description: \"The kendo Touch widget provides a cross-platform compatible API for handling user-initiated touch events, multi-touch gestures and event sequences (drag, swipe, etc.). \",\n    depends: [ \"core\", \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        abs = Math.abs,\n        MAX_DOUBLE_TAP_DISTANCE = 20;\n\n    var Touch = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            options = that.options;\n\n            element = that.element;\n            that.wrapper = element;\n\n            function eventProxy(name) {\n                return function(e) {\n                    that._triggerTouch(name, e);\n                };\n            }\n\n            function gestureEventProxy(name) {\n                return function(e) {\n                    that.trigger(name, { touches: e.touches, distance: e.distance, center: e.center, event: e.event });\n                };\n            }\n\n            that.events = new kendo.UserEvents(element, {\n                filter: options.filter,\n                surface: options.surface,\n                minHold: options.minHold,\n                multiTouch: options.multiTouch,\n                allowSelection: true,\n                fastTap: options.fastTap,\n                press: eventProxy(\"touchstart\"),\n                hold: eventProxy(\"hold\"),\n                tap: that._tap.bind(that),\n                gesturestart: gestureEventProxy(\"gesturestart\"),\n                gesturechange: gestureEventProxy(\"gesturechange\"),\n                gestureend: gestureEventProxy(\"gestureend\")\n            });\n\n            if (options.enableSwipe) {\n                that.events.bind(\"start\", that._swipestart.bind(that));\n                that.events.bind(\"move\", that._swipemove.bind(that));\n            } else {\n                that.events.bind(\"start\", that._dragstart.bind(that));\n                that.events.bind(\"move\", eventProxy(\"drag\"));\n                that.events.bind(\"end\", eventProxy(\"dragend\"));\n            }\n\n            kendo.notify(that);\n        },\n\n        events: [\n            \"touchstart\",\n            \"dragstart\",\n            \"drag\",\n            \"dragend\",\n            \"tap\",\n            \"doubletap\",\n            \"hold\",\n            \"swipe\",\n            \"gesturestart\",\n            \"gesturechange\",\n            \"gestureend\"\n        ],\n\n        options: {\n            name: \"Touch\",\n            surface: null,\n            global: false,\n            fastTap: false,\n            filter: null,\n            multiTouch: false,\n            enableSwipe: false,\n            minXDelta: 30,\n            maxYDelta: 20,\n            maxDuration: 1000,\n            minHold: 800,\n            doubleTapTimeout: 800\n        },\n\n        cancel: function() {\n            this.events.cancel();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this.events.destroy();\n        },\n\n        _triggerTouch: function(type, e) {\n            if (this.trigger(type, { touch: e.touch, event: e.event })) {\n                e.preventDefault();\n            }\n        },\n\n        _tap: function(e) {\n            var that = this,\n                lastTap = that.lastTap,\n                touch = e.touch;\n\n            if (lastTap &&\n                (touch.endTime - lastTap.endTime < that.options.doubleTapTimeout) &&\n                kendo.touchDelta(touch, lastTap).distance < MAX_DOUBLE_TAP_DISTANCE\n                ) {\n\n               that._triggerTouch(\"doubletap\", e);\n               that.lastTap = null;\n            } else {\n                that._triggerTouch(\"tap\", e);\n                that.lastTap = touch;\n            }\n        },\n\n        _dragstart: function(e) {\n            this._triggerTouch(\"dragstart\", e);\n        },\n\n        _swipestart: function(e) {\n            if (abs(e.x.velocity) * 2 >= abs(e.y.velocity)) {\n                e.sender.capture();\n            }\n        },\n\n        _swipemove: function(e) {\n            var that = this,\n                options = that.options,\n                touch = e.touch,\n                duration = e.event.timeStamp - touch.startTime,\n                direction = touch.x.initialDelta > 0 ? \"right\" : \"left\";\n\n            if (\n                abs(touch.x.initialDelta) >= options.minXDelta &&\n                abs(touch.y.initialDelta) < options.maxYDelta &&\n                duration < options.maxDuration\n                )\n            {\n                that.trigger(\"swipe\", {\n                    direction: direction,\n                    touch: e.touch\n                });\n\n                touch.cancel();\n            }\n        }\n    });\n\n    kendo.ui.plugin(Touch);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.scroller',[ \"./kendo.fx\", \"./kendo.draganddrop\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.scroller\",\n    name: \"Scroller\",\n    category: \"mobile\",\n    description: \"The Kendo Mobile Scroller widget enables touch friendly kinetic scrolling for the contents of a given DOM element.\",\n    depends: [ \"fx\", \"draganddrop\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        fx = kendo.effects,\n        ui = mobile.ui,\n        extend = $.extend,\n        Widget = ui.Widget,\n        Class = kendo.Class,\n        Movable = kendo.ui.Movable,\n        Pane = kendo.ui.Pane,\n        PaneDimensions = kendo.ui.PaneDimensions,\n        Transition = fx.Transition,\n        Animation = fx.Animation,\n        abs = Math.abs,\n        SNAPBACK_DURATION = 500,\n        SCROLLBAR_OPACITY = 0.7,\n        FRICTION = 0.96,\n        VELOCITY_MULTIPLIER = 10,\n        MAX_VELOCITY = 55,\n        OUT_OF_BOUNDS_FRICTION = 0.5,\n        ANIMATED_SCROLLER_PRECISION = 5,\n        RELEASECLASS = \"km-scroller-release\",\n        REFRESHCLASS = \"km-scroller-refresh\",\n        PULL = \"pull\",\n        CHANGE = \"change\",\n        RESIZE = \"resize\",\n        SCROLL = \"scroll\",\n        MOUSE_WHEEL_ID = 2;\n\n    var ZoomSnapBack = Animation.extend({\n        init: function(options) {\n            var that = this;\n            Animation.fn.init.call(that);\n            extend(that, options);\n\n            that.userEvents.bind(\"gestureend\", that.start.bind(that));\n            that.tapCapture.bind(\"press\", that.cancel.bind(that));\n        },\n\n        enabled: function() {\n          return this.movable.scale < this.dimensions.minScale;\n        },\n\n        done: function() {\n            return this.dimensions.minScale - this.movable.scale < 0.01;\n        },\n\n        tick: function() {\n            var movable = this.movable;\n            movable.scaleWith(1.1);\n            this.dimensions.rescale(movable.scale);\n        },\n\n        onEnd: function() {\n            var movable = this.movable;\n            movable.scaleTo(this.dimensions.minScale);\n            this.dimensions.rescale(movable.scale);\n        }\n    });\n\n    var DragInertia = Animation.extend({\n        init: function(options) {\n            var that = this;\n\n            Animation.fn.init.call(that);\n\n            extend(that, options, {\n                transition: new Transition({\n                    axis: options.axis,\n                    movable: options.movable,\n                    onEnd: function() { that._end(); }\n                })\n            });\n\n            that.tapCapture.bind(\"press\", function() { that.cancel(); });\n            that.userEvents.bind(\"end\", that.start.bind(that));\n            that.userEvents.bind(\"gestureend\", that.start.bind(that));\n            that.userEvents.bind(\"tap\", that.onEnd.bind(that));\n        },\n\n        onCancel: function() {\n            this.transition.cancel();\n        },\n\n        freeze: function(location) {\n            var that = this;\n            that.cancel();\n            that._moveTo(location);\n        },\n\n        onEnd: function() {\n            var that = this;\n            if (that.paneAxis.outOfBounds()) {\n                that._snapBack();\n            } else {\n                that._end();\n            }\n        },\n\n        done: function() {\n            return abs(this.velocity) < 1;\n        },\n\n        start: function(e) {\n            var that = this,\n                velocity;\n\n            if (!that.dimension.enabled) { return; }\n\n            if (that.paneAxis.outOfBounds()) {\n                if(that.transition._started){\n                    that.transition.cancel();\n                    that.velocity = Math.min(e.touch[that.axis].velocity * that.velocityMultiplier, MAX_VELOCITY);\n\n                    Animation.fn.start.call(that);\n                }else{\n                    that._snapBack();\n                }\n            } else {\n                velocity = e.touch.id === MOUSE_WHEEL_ID ? 0 : e.touch[that.axis].velocity;\n                that.velocity = Math.max(Math.min(velocity * that.velocityMultiplier, MAX_VELOCITY), -MAX_VELOCITY);\n\n                that.tapCapture.captureNext();\n                Animation.fn.start.call(that);\n            }\n        },\n\n        tick: function() {\n            var that = this,\n                dimension = that.dimension,\n                friction = that.paneAxis.outOfBounds() ? OUT_OF_BOUNDS_FRICTION : that.friction,\n                delta = (that.velocity *= friction),\n                location = that.movable[that.axis] + delta;\n\n                if (!that.elastic && dimension.outOfBounds(location)) {\n                    location = Math.max(Math.min(location, dimension.max), dimension.min);\n                    that.velocity = 0;\n                }\n\n            that.movable.moveAxis(that.axis, location);\n        },\n\n        _end: function() {\n            this.tapCapture.cancelCapture();\n            this.end();\n        },\n\n        _snapBack: function() {\n            var that = this,\n                dimension = that.dimension,\n                snapBack = that.movable[that.axis] > dimension.max ? dimension.max : dimension.min;\n            that._moveTo(snapBack);\n        },\n\n        _moveTo: function(location) {\n            this.transition.moveTo({ location: location, duration: SNAPBACK_DURATION, ease: Transition.easeOutExpo });\n        }\n    });\n\n    var AnimatedScroller = Animation.extend({\n        init: function(options) {\n            var that = this;\n\n            kendo.effects.Animation.fn.init.call(this);\n\n            extend(that, options, {\n                origin: {},\n                destination: {},\n                offset: {}\n            });\n        },\n\n        tick: function() {\n            this._updateCoordinates();\n            this.moveTo(this.origin);\n        },\n\n        done: function() {\n            return abs(this.offset.y) < ANIMATED_SCROLLER_PRECISION && abs(this.offset.x) < ANIMATED_SCROLLER_PRECISION;\n        },\n\n        onEnd: function() {\n            this.moveTo(this.destination);\n            if (this.callback) {\n                this.callback.call();\n            }\n        },\n\n        setCoordinates: function(from, to) {\n            this.offset = {};\n            this.origin = from;\n            this.destination = to;\n        },\n\n        setCallback: function(callback) {\n            if (callback && kendo.isFunction(callback)) {\n                this.callback = callback;\n            } else {\n                callback = undefined;\n            }\n        },\n\n        _updateCoordinates: function() {\n            this.offset = {\n                x: (this.destination.x - this.origin.x) / 4,\n                y: (this.destination.y - this.origin.y) / 4\n            };\n\n            this.origin = {\n                y: this.origin.y + this.offset.y,\n                x: this.origin.x + this.offset.x\n            };\n        }\n    });\n\n    var ScrollBar = Class.extend({\n        init: function(options) {\n            var that = this,\n                horizontal = options.axis === \"x\",\n                element = $('<div role=\"scrollbar\" aria-controls=\"' + options.controlsId + '\" class=\"km-touch-scrollbar km-' + (horizontal ? \"horizontal\" : \"vertical\") + '-scrollbar\" />');\n\n            if(horizontal) {\n                element.attr(\"aria-orientation\", \"horizontal\");\n            }\n\n            extend(that, options, {\n                element: element,\n                elementSize: 0,\n                movable: new Movable(element),\n                scrollMovable: options.movable,\n                alwaysVisible: options.alwaysVisible,\n                size: horizontal ? \"width\" : \"height\"\n            });\n\n            that.scrollMovable.bind(CHANGE, that.refresh.bind(that));\n            that.container.append(element);\n            if (options.alwaysVisible) {\n                that.show();\n            }\n        },\n\n        refresh: function() {\n            var that = this,\n                axis = that.axis,\n                dimension = that.dimension,\n                paneSize = dimension.size,\n                scrollMovable = that.scrollMovable,\n                sizeRatio = paneSize / dimension.total,\n                position = Math.round(-scrollMovable[axis] * sizeRatio),\n                size = Math.round(paneSize * sizeRatio);\n\n                if (sizeRatio >= 1) {\n                    this.element.css(\"display\", \"none\");\n                } else {\n                    this.element.css(\"display\", \"\");\n                }\n\n                if (position + size > paneSize) {\n                    size = paneSize - position;\n                } else if (position < 0) {\n                    size += position;\n                    position = 0;\n                }\n\n            if (that.elementSize != size) {\n                that.element.css(that.size, size + \"px\");\n                that.elementSize = size;\n            }\n\n            that._ariaValue(position, dimension.size - that.elementSize);\n\n            that.movable.moveAxis(axis, position);\n        },\n\n        show: function() {\n            this.element.css({opacity: SCROLLBAR_OPACITY, visibility: \"visible\"});\n        },\n\n        hide: function() {\n            if (!this.alwaysVisible) {\n                this.element.css({opacity: 0});\n            }\n        },\n\n        _ariaValue: function(current, total) {\n            var element = this.element;\n\n            if(current > total) {\n                current = total;\n            }\n\n            element.attr(\"aria-valuemax\", total);\n            element.attr(\"aria-valuenow\", current);\n        }\n    });\n\n    var Scroller = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n\n            that._native = that.options.useNative && kendo.support.hasNativeScrolling;\n            if (that._native) {\n                element.addClass(\"km-native-scroller\")\n                    .prepend('<div class=\"km-scroll-header\"/>');\n\n                extend(that, {\n                    scrollElement: element,\n                    fixedContainer: element.children().first()\n                });\n\n                return;\n            }\n\n            element\n                .css(\"overflow\", \"hidden\")\n                .addClass(\"km-scroll-wrapper\")\n                .wrapInner('<div class=\"km-scroll-container\"/>')\n                .prepend('<div class=\"km-scroll-header\"/>');\n\n            var inner = element.children().eq(1),\n\n                tapCapture = new kendo.TapCapture(element),\n\n                movable = new Movable(inner),\n\n                dimensions = new PaneDimensions({\n                    element: inner,\n                    container: element,\n                    forcedEnabled: that.options.zoom\n                }),\n\n                avoidScrolling = this.options.avoidScrolling,\n\n                userEvents = new kendo.UserEvents(element, {\n                    touchAction: \"pan-y\",\n                    fastTap: true,\n                    allowSelection: true,\n                    preventDragEvent: true,\n                    captureUpIfMoved: true,\n                    multiTouch: that.options.zoom,\n                    supportDoubleTap: that.options.supportDoubleTap,\n                    start: function(e) {\n                        dimensions.refresh();\n\n                        var velocityX = abs(e.x.velocity),\n                            velocityY = abs(e.y.velocity),\n                            horizontalSwipe  = velocityX * 2 >= velocityY,\n                            originatedFromFixedContainer = $.contains(that.fixedContainer[0], e.event.target),\n                            verticalSwipe = velocityY * 2 >= velocityX;\n\n\n                        if (!originatedFromFixedContainer && !avoidScrolling(e) && that.enabled && (dimensions.x.enabled && horizontalSwipe || dimensions.y.enabled && verticalSwipe)) {\n                            userEvents.capture();\n                        } else {\n                            userEvents.cancel();\n                        }\n                    }\n                }),\n\n                pane = new Pane({\n                    movable: movable,\n                    dimensions: dimensions,\n                    userEvents: userEvents,\n                    elastic: that.options.elastic\n                }),\n\n                zoomSnapBack = new ZoomSnapBack({\n                    movable: movable,\n                    dimensions: dimensions,\n                    userEvents: userEvents,\n                    tapCapture: tapCapture\n                }),\n\n                animatedScroller = new AnimatedScroller({\n                    moveTo: function(coordinates) {\n                        that.scrollTo(coordinates.x, coordinates.y);\n                    }\n                });\n\n            movable.bind(CHANGE, function() {\n                that.scrollTop = - movable.y;\n                that.scrollLeft = - movable.x;\n\n                that.trigger(SCROLL, {\n                    scrollTop: that.scrollTop,\n                    scrollLeft: that.scrollLeft\n                });\n            });\n\n            if (that.options.mousewheelScrolling) {\n                element.on(\"DOMMouseScroll mousewheel\",  this._wheelScroll.bind(this));\n            }\n\n            extend(that, {\n                movable: movable,\n                dimensions: dimensions,\n                zoomSnapBack: zoomSnapBack,\n                animatedScroller: animatedScroller,\n                userEvents: userEvents,\n                pane: pane,\n                tapCapture: tapCapture,\n                pulled: false,\n                enabled: true,\n                scrollElement: inner,\n                scrollTop: 0,\n                scrollLeft: 0,\n                fixedContainer: element.children().first()\n            });\n\n            that._initAxis(\"x\");\n            that._initAxis(\"y\");\n\n            // build closure\n            that._wheelEnd = function() {\n                that._wheel = false;\n                that.userEvents.end(0, that._wheelY);\n            };\n\n            dimensions.refresh();\n\n            if (that.options.pullToRefresh) {\n                that._initPullToRefresh();\n            }\n        },\n\n        _wheelScroll: function(e) {\n            if (e.ctrlKey) {\n                return;\n            }\n\n            if (!this._wheel) {\n                this._wheel = true;\n                this._wheelY = 0;\n                this.userEvents.press(0, this._wheelY);\n            }\n\n            clearTimeout(this._wheelTimeout);\n            this._wheelTimeout = setTimeout(this._wheelEnd, 50);\n\n            var delta = kendo.wheelDeltaY(e);\n\n            if (delta) {\n                this._wheelY += delta;\n                this.userEvents.move(0, this._wheelY);\n            }\n\n            e.preventDefault();\n        },\n\n        makeVirtual: function() {\n            this.dimensions.y.makeVirtual();\n        },\n\n        virtualSize: function(min, max) {\n            this.dimensions.y.virtualSize(min, max);\n        },\n\n        height: function() {\n            return this.dimensions.y.size;\n        },\n\n        scrollHeight: function() {\n            return this.scrollElement[0].scrollHeight;\n        },\n\n        scrollWidth: function() {\n            return this.scrollElement[0].scrollWidth;\n        },\n\n        options: {\n            name: \"Scroller\",\n            zoom: false,\n            pullOffset: 140,\n            visibleScrollHints: false,\n            elastic: true,\n            useNative: false,\n            mousewheelScrolling: true,\n            avoidScrolling: function() { return false; },\n            pullToRefresh: false,\n            messages: {\n                pullTemplate: \"Pull to refresh\",\n                releaseTemplate: \"Release to refresh\",\n                refreshTemplate: \"Refreshing\"\n            }\n        },\n\n        events: [\n            PULL,\n            SCROLL,\n            RESIZE\n        ],\n\n        _resize: function() {\n            if (!this._native) {\n                this.contentResized();\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this;\n            Widget.fn.setOptions.call(that, options);\n            if (options.pullToRefresh) {\n                that._initPullToRefresh();\n            }\n        },\n\n        reset: function() {\n            if (this._native) {\n                this.scrollElement.scrollTop(0);\n            } else {\n                this.movable.moveTo({x: 0, y: 0});\n                this._scale(1);\n            }\n        },\n\n        contentResized: function() {\n            this.dimensions.refresh();\n            if (this.pane.x.outOfBounds()) {\n                this.movable.moveAxis(\"x\", this.dimensions.x.min);\n            }\n\n            if (this.pane.y.outOfBounds()) {\n                this.movable.moveAxis(\"y\", this.dimensions.y.min);\n            }\n        },\n\n        zoomOut: function() {\n            var dimensions = this.dimensions;\n            dimensions.refresh();\n            this._scale(dimensions.fitScale);\n            this.movable.moveTo(dimensions.centerCoordinates());\n        },\n\n        enable: function() {\n            this.enabled = true;\n        },\n\n        disable: function() {\n            this.enabled = false;\n        },\n\n        scrollTo: function(x, y) {\n            if (this._native) {\n                kendo.scrollLeft(this.scrollElement, abs(x));\n                this.scrollElement.scrollTop(abs(y));\n            } else {\n                this.dimensions.refresh();\n                this.movable.moveTo({x: x, y: y});\n            }\n        },\n\n        animatedScrollTo: function(x, y, callback) {\n            var from,\n                to;\n\n            if(this._native) {\n                this.scrollTo(x, y);\n            } else {\n                from = { x: this.movable.x, y: this.movable.y };\n                to = { x: x, y: y };\n\n                this.animatedScroller.setCoordinates(from, to);\n                this.animatedScroller.setCallback(callback);\n                this.animatedScroller.start();\n            }\n        },\n\n        pullHandled: function() {\n            var that = this;\n            that.refreshHint.removeClass(REFRESHCLASS);\n            that.hintContainer.html(that.pullTemplate({}));\n            that.yinertia.onEnd();\n            that.xinertia.onEnd();\n            that.userEvents.cancel();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            if (this.userEvents) {\n                this.userEvents.destroy();\n            }\n        },\n\n        _scale: function(scale) {\n            this.dimensions.rescale(scale);\n            this.movable.scaleTo(scale);\n        },\n\n        _initPullToRefresh: function() {\n            var that = this;\n\n            that.dimensions.y.forceEnabled();\n            that.pullTemplate = kendo.template(that.options.messages.pullTemplate);\n            that.releaseTemplate = kendo.template(that.options.messages.releaseTemplate);\n            that.refreshTemplate = kendo.template(that.options.messages.refreshTemplate);\n\n            that.scrollElement.prepend('<span class=\"km-scroller-pull\"><span class=\"km-icon\"></span><span class=\"km-loading-left\"></span><span class=\"km-loading-right\"></span><span class=\"km-template\">' + that.pullTemplate({}) + '</span></span>');\n            that.refreshHint = that.scrollElement.children().first();\n            that.hintContainer = that.refreshHint.children(\".km-template\");\n\n            that.pane.y.bind(\"change\", that._paneChange.bind(that));\n            that.userEvents.bind(\"end\", that._dragEnd.bind(that));\n        },\n\n        _dragEnd: function() {\n            var that = this;\n\n            if(!that.pulled) {\n                return;\n            }\n\n            that.pulled = false;\n            that.refreshHint.removeClass(RELEASECLASS).addClass(REFRESHCLASS);\n            that.hintContainer.html(that.refreshTemplate({}));\n            that.yinertia.freeze(that.options.pullOffset / 2);\n            that.trigger(\"pull\");\n        },\n\n        _paneChange: function() {\n            var that = this;\n\n            if (that.movable.y / OUT_OF_BOUNDS_FRICTION > that.options.pullOffset) {\n                if (!that.pulled) {\n                    that.pulled = true;\n                    that.refreshHint.removeClass(REFRESHCLASS).addClass(RELEASECLASS);\n                    that.hintContainer.html(that.releaseTemplate({}));\n                }\n            } else if (that.pulled) {\n                that.pulled = false;\n                that.refreshHint.removeClass(RELEASECLASS);\n                that.hintContainer.html(that.pullTemplate({}));\n            }\n        },\n\n        _initAxis: function(axis) {\n            var that = this,\n                elementId = that.element.attr(\"id\"),\n                movable = that.movable,\n                dimension = that.dimensions[axis],\n                tapCapture = that.tapCapture,\n                paneAxis = that.pane[axis],\n                scrollBar;\n\n            if(!elementId) {\n                elementId = kendo.guid();\n                that.element.attr(\"id\", elementId);\n            }\n\n            scrollBar = new ScrollBar({\n                axis: axis,\n                movable: movable,\n                dimension: dimension,\n                container: that.element,\n                alwaysVisible: that.options.visibleScrollHints,\n                controlsId: elementId\n            });\n\n            dimension.bind(CHANGE, function() {\n                scrollBar.refresh();\n            });\n\n            paneAxis.bind(CHANGE, function() {\n                scrollBar.show();\n            });\n\n            that[axis + \"inertia\"] = new DragInertia({\n                axis: axis,\n                paneAxis: paneAxis,\n                movable: movable,\n                tapCapture: tapCapture,\n                userEvents: that.userEvents,\n                dimension: dimension,\n                elastic: that.options.elastic,\n                friction: that.options.friction || FRICTION,\n                velocityMultiplier: that.options.velocityMultiplier || VELOCITY_MULTIPLIER,\n                end: function() {\n                    scrollBar.hide();\n                    that.trigger(\"scrollEnd\", {\n                        axis: axis,\n                        scrollTop: that.scrollTop,\n                        scrollLeft: that.scrollLeft\n                    });\n                }\n            });\n        }\n    });\n\n    ui.plugin(Scroller);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.view',[ \"./kendo.core\", \"./kendo.fx\", \"./kendo.mobile.scroller\", \"./kendo.view\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.view\",\n    name: \"View\",\n    category: \"mobile\",\n    description: \"Mobile View\",\n    depends: [ \"core\", \"fx\", \"mobile.scroller\", \"view\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        attr = kendo.attr,\n        Widget = ui.Widget,\n        ViewClone = kendo.ViewClone,\n        INIT = \"init\",\n        UI_OVERLAY = '<div style=\"height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none\"></div>',\n        BEFORE_SHOW = \"beforeShow\",\n        SHOW = \"show\",\n        AFTER_SHOW = \"afterShow\",\n        BEFORE_HIDE = \"beforeHide\",\n        TRANSITION_END = \"transitionEnd\",\n        TRANSITION_START = \"transitionStart\",\n        HIDE = \"hide\",\n        DESTROY = \"destroy\",\n        attrValue = kendo.attrValue,\n        roleSelector = kendo.roleSelector,\n        directiveSelector = kendo.directiveSelector,\n        compileMobileDirective = kendo.compileMobileDirective;\n\n    function initPopOvers(element) {\n        var popovers = element.find(roleSelector(\"popover\")),\n            idx, length,\n            roles = ui.roles;\n\n        for (idx = 0, length = popovers.length; idx < length; idx ++) {\n            kendo.initWidget(popovers[idx], {}, roles);\n        }\n    }\n\n    function preventScrollIfNotInput(e) {\n        if (!kendo.triggeredByInput(e)) {\n            e.preventDefault();\n        }\n    }\n\n    var View = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n            this.params = {};\n\n            $.extend(this, options);\n\n            this.transition = this.transition || this.defaultTransition;\n\n            this._id();\n\n            if (!this.options.$angular) {\n                this._layout();\n                this._overlay();\n                this._scroller();\n                this._model();\n            } else {\n                this._overlay();\n            }\n        },\n\n        events: [\n            INIT,\n            BEFORE_SHOW,\n            SHOW,\n            AFTER_SHOW,\n            BEFORE_HIDE,\n            HIDE,\n            DESTROY,\n            TRANSITION_START,\n            TRANSITION_END\n        ],\n\n        options: {\n            name: \"View\",\n            title: \"\",\n            layout: null,\n            getLayout: $.noop,\n            reload: false,\n            transition: \"\",\n            defaultTransition: \"\",\n            useNativeScrolling: false,\n            stretch: false,\n            zoom: false,\n            model: null,\n            modelScope: window,\n            scroller: {},\n            initWidgets: true\n        },\n\n        enable: function(enable) {\n            if(typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            if(enable) {\n                this.overlay.hide();\n            } else {\n                this.overlay.show();\n            }\n        },\n\n        destroy: function() {\n            if (this.layout) {\n                this.layout.detach(this);\n            }\n\n            this.trigger(DESTROY);\n\n\n            Widget.fn.destroy.call(this);\n\n            if (this.scroller) {\n                this.scroller.destroy();\n            }\n\n            if (this.options.$angular) {\n                this.element.scope().$destroy();\n            }\n\n            kendo.destroy(this.element);\n        },\n\n        purge: function() {\n            this.destroy();\n            this.element.remove();\n        },\n\n        triggerBeforeShow: function() {\n            if (this.trigger(BEFORE_SHOW, { view: this })) {\n                return false;\n            }\n            return true;\n        },\n\n        triggerBeforeHide: function() {\n            if (this.trigger(BEFORE_HIDE, { view: this })) {\n                return false;\n            }\n            return true;\n        },\n\n        showStart: function() {\n            var element = this.element;\n\n            element.css(\"display\", \"\");\n\n            if (!this.inited) {\n                this.inited = true;\n                this.trigger(INIT, {view: this});\n            } else { // skip the initial controller update\n                this._invokeNgController();\n            }\n\n            if (this.layout) {\n                this.layout.attach(this);\n            }\n\n            this._padIfNativeScrolling();\n            this.trigger(SHOW, {view: this});\n            kendo.resize(element);\n        },\n\n        showEnd: function() {\n            this.trigger(AFTER_SHOW, {view: this});\n            this._padIfNativeScrolling();\n        },\n\n        hideEnd: function() {\n            var that = this;\n            that.element.hide();\n            that.trigger(HIDE, {view: that});\n\n            if (that.layout) {\n                that.layout.trigger(HIDE, { view : that, layout: that.layout });\n            }\n        },\n\n        beforeTransition: function(type){\n            this.trigger(TRANSITION_START, { type: type });\n        },\n\n        afterTransition: function(type){\n            this.trigger(TRANSITION_END, { type: type });\n        },\n\n        _padIfNativeScrolling: function() {\n            if (mobile.appLevelNativeScrolling()) {\n                var isAndroid = kendo.support.mobileOS && kendo.support.mobileOS.android,\n                    skin = mobile.application.skin() || \"\",\n                    isAndroidForced = mobile.application.os.android || (skin.indexOf(\"android\") > -1),\n                    hasPlatformIndependentSkin = skin === \"flat\" || (skin.indexOf(\"material\") > -1),\n                    topContainer = (isAndroid || isAndroidForced) && (!hasPlatformIndependentSkin) ? \"footer\" : \"header\",\n                    bottomContainer = (isAndroid || isAndroidForced) && (!hasPlatformIndependentSkin) ? \"header\" : \"footer\";\n\n                this.content.css({\n                    paddingTop: this[topContainer].height(),\n                    paddingBottom: this[bottomContainer].height()\n                });\n            }\n        },\n\n        contentElement: function() {\n            var that = this;\n\n            return that.options.stretch ? that.content : that.scrollerContent;\n        },\n\n        clone: function() {\n            return new ViewClone(this);\n        },\n\n        _scroller: function() {\n            var that = this;\n\n            if (mobile.appLevelNativeScrolling()) {\n                return;\n            }\n            if (that.options.stretch) {\n                that.content.addClass(\"km-stretched-view\");\n            } else {\n                that.content.kendoMobileScroller($.extend(that.options.scroller, { zoom: that.options.zoom, useNative: that.options.useNativeScrolling }));\n\n                that.scroller = that.content.data(\"kendoMobileScroller\");\n                that.scrollerContent = that.scroller.scrollElement;\n            }\n\n            // prevent accidental address bar display when pulling the header\n            if (kendo.support.kineticScrollNeeded) {\n                $(that.element).on(\"touchmove\", \".km-header\", preventScrollIfNotInput);\n                if (!that.options.useNativeScrolling && !that.options.stretch) {\n                    $(that.element).on(\"touchmove\", \".km-content\", preventScrollIfNotInput);\n                }\n            }\n        },\n\n        _model: function() {\n            var that = this,\n                element = that.element,\n                model = that.options.model;\n\n            if (typeof model === \"string\") {\n                model = kendo.getter(model)(that.options.modelScope);\n            }\n\n            that.model = model;\n\n            initPopOvers(element);\n\n            that.element.css(\"display\", \"\");\n            if (that.options.initWidgets) {\n                if (model) {\n                    kendo.bind(element, model, ui, kendo.ui, kendo.dataviz.ui);\n                } else {\n                    mobile.init(element.children());\n                }\n            }\n            that.element.css(\"display\", \"none\");\n        },\n\n        _id: function() {\n            var element = this.element,\n                idAttrValue = element.attr(\"id\") || \"\";\n\n            this.id = attrValue(element, \"url\") || \"#\" + idAttrValue;\n\n            if (this.id == \"#\") {\n                this.id = kendo.guid();\n                element.attr(\"id\", this.id);\n            }\n        },\n\n        _layout: function() {\n            var contentSelector = roleSelector(\"content\"),\n                element = this.element;\n\n            element.addClass(\"km-view\");\n\n            this.header = element.children(roleSelector(\"header\")).addClass(\"km-header\");\n            this.footer = element.children(roleSelector(\"footer\")).addClass(\"km-footer\");\n\n            if (!element.children(contentSelector)[0]) {\n              element.wrapInner(\"<div \" + attr(\"role\") + '=\"content\"></div>');\n            }\n\n            this.content = element.children(roleSelector(\"content\"))\n                                .addClass(\"km-content\");\n\n            this.element.prepend(this.header).append(this.footer);\n\n\n            this.layout = this.options.getLayout(this.layout);\n\n            if (this.layout) {\n                this.layout.setup(this);\n            }\n        },\n\n        _overlay: function() {\n            this.overlay = $(UI_OVERLAY).appendTo(this.element);\n        },\n\n        _invokeNgController: function() {\n            var controller,\n                scope;\n\n            if (this.options.$angular) {\n                controller = this.element.controller();\n                scope = this.options.$angular[0];\n\n                if (controller) {\n                    var callback = this._callController.bind(this, controller, scope);\n\n                    if (/^\\$(digest|apply)$/.test(scope.$$phase)) {\n                        callback();\n                    } else {\n                        scope.$apply(callback);\n                    }\n                }\n            }\n        },\n\n        _callController: function(controller, scope) {\n            this.element.injector().invoke(controller.constructor, controller, { $scope: scope });\n        }\n    });\n\n    function initWidgets(collection) {\n        collection.each(function() {\n            kendo.initWidget($(this), {}, ui.roles);\n        });\n    }\n\n    var Layout = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            element = this.element;\n\n            this.header = element.children(this._locate(\"header\")).addClass(\"km-header\");\n            this.footer = element.children(this._locate(\"footer\")).addClass(\"km-footer\");\n            this.elements = this.header.add(this.footer);\n\n            initPopOvers(element);\n\n            if (!this.options.$angular) {\n                kendo.mobile.init(this.element.children());\n            }\n            this.element.detach();\n            this.trigger(INIT, {layout: this});\n        },\n\n        _locate: function(selectors) {\n            return this.options.$angular ? directiveSelector(selectors) : roleSelector(selectors);\n        },\n\n        options: {\n            name: \"Layout\",\n            id: null,\n            platform: null\n        },\n\n        events: [\n            INIT,\n            SHOW,\n            HIDE\n        ],\n\n        setup: function(view) {\n            if (!view.header[0]) { view.header = this.header; }\n            if (!view.footer[0]) { view.footer = this.footer; }\n        },\n\n        detach: function(view) {\n            var that = this;\n            if (view.header === that.header && that.header[0]) {\n                view.element.prepend(that.header.detach()[0].cloneNode(true));\n            }\n\n            if (view.footer === that.footer && that.footer.length) {\n                view.element.append(that.footer.detach()[0].cloneNode(true));\n            }\n        },\n\n        attach: function(view) {\n            var that = this,\n                previousView = that.currentView;\n\n            if (previousView) {\n                that.detach(previousView);\n            }\n\n            if (view.header === that.header) {\n                that.header.detach();\n                view.element.children(roleSelector(\"header\")).remove();\n                view.element.prepend(that.header);\n            }\n\n            if (view.footer === that.footer) {\n                that.footer.detach();\n                view.element.children(roleSelector(\"footer\")).remove();\n                view.element.append(that.footer);\n            }\n\n            that.trigger(SHOW, {layout: that, view: view});\n            that.currentView = view;\n        }\n    });\n\n    var Observable = kendo.Observable,\n        bodyRegExp = /<body[^>]*>(([\\u000a\\u000d\\u2028\\u2029]|.)*)<\\/body>/i,\n        LOAD_START = \"loadStart\",\n        LOAD_COMPLETE = \"loadComplete\",\n        SHOW_START = \"showStart\",\n        SAME_VIEW_REQUESTED = \"sameViewRequested\",\n        VIEW_SHOW = \"viewShow\",\n        VIEW_TYPE_DETERMINED = \"viewTypeDetermined\",\n        AFTER = \"after\";\n\n    var ViewEngine = Observable.extend({\n        init: function(options) {\n            var that = this,\n                views,\n                errorMessage,\n                container,\n                collection;\n\n            Observable.fn.init.call(that);\n\n            $.extend(that, options);\n            that.sandbox = $(\"<div />\");\n            container = that.container;\n\n            views = that._hideViews(container);\n            that.rootView = views.first();\n\n            if (!that.rootView[0] && options.rootNeeded) {\n                if (container[0] == kendo.mobile.application.element[0]) {\n                    errorMessage = 'Your kendo mobile application element does not contain any direct child elements with data-role=\"view\" attribute set. Make sure that you instantiate the mobile application using the correct container.';\n                } else {\n                    errorMessage = 'Your pane element does not contain any direct child elements with data-role=\"view\" attribute set.';\n                }\n                throw new Error(errorMessage);\n            }\n\n            that.layouts = {};\n\n            that.viewContainer = new kendo.ViewContainer(that.container);\n\n            that.viewContainer.bind(\"accepted\", function(e) {\n                e.view.params = that.params;\n            });\n\n            that.viewContainer.bind(\"complete\", function(e) {\n                that.trigger(VIEW_SHOW, { view: e.view });\n            });\n\n            that.viewContainer.bind(AFTER, function() {\n                that.trigger(AFTER);\n            });\n\n            this.getLayoutProxy = this._getLayout.bind(this);\n            that._setupLayouts(container);\n\n            collection = container.children(that._locate(\"modalview drawer\"));\n            if (that.$angular) {\n\n                that.$angular[0].viewOptions = {\n                    defaultTransition: that.transition,\n                    loader: that.loader,\n                    container: that.container,\n                    getLayout: that.getLayoutProxy\n                };\n\n                collection.each(function(idx, element) {\n                    compileMobileDirective($(element), options.$angular[0]);\n                });\n            } else {\n                initWidgets(collection);\n            }\n\n            this.bind(this.events, options);\n        },\n\n        events: [\n            SHOW_START,\n            AFTER,\n            VIEW_SHOW,\n            LOAD_START,\n            LOAD_COMPLETE,\n            SAME_VIEW_REQUESTED,\n            VIEW_TYPE_DETERMINED\n        ],\n\n        destroy: function() {\n            kendo.destroy(this.container);\n\n            for (var id in this.layouts) {\n                this.layouts[id].destroy();\n            }\n        },\n\n        view: function() {\n            return this.viewContainer.view;\n        },\n\n        showView: function(url, transition, params) {\n            url = url.replace(new RegExp(\"^\" + this.remoteViewURLPrefix), \"\");\n            if (url === \"\" && this.remoteViewURLPrefix) {\n                url = \"/\";\n            }\n\n            if (url.replace(/^#/, \"\") === this.url) {\n                this.trigger(SAME_VIEW_REQUESTED);\n                return false;\n            }\n\n            this.trigger(SHOW_START);\n\n            var that = this,\n                showClosure = function(view) {\n                    return that.viewContainer.show(view, transition, url);\n                },\n                element = that._findViewElement(url),\n                view = kendo.widgetInstance(element);\n\n            that.url = url.replace(/^#/, \"\");\n\n            that.params = params;\n\n            if (view && view.reload) {\n                view.purge();\n                element = [];\n            }\n\n            this.trigger(VIEW_TYPE_DETERMINED, { remote: element.length === 0, url: url });\n\n            if (element[0]) {\n                if (!view) {\n                    view = that._createView(element);\n                }\n\n                return showClosure(view);\n            } else {\n                if (this.serverNavigation) {\n                    location.href = url;\n                } else {\n                    that._loadView(url, showClosure);\n                }\n                return true;\n            }\n        },\n\n        append: function(html, url) {\n            var sandbox = this.sandbox,\n                urlPath = (url || \"\").split(\"?\")[0],\n                container = this.container,\n                views,\n                modalViews,\n                view;\n\n            if (bodyRegExp.test(html)) {\n                html = RegExp.$1;\n            }\n\n            sandbox[0].innerHTML = html;\n\n            container.append(sandbox.children(\"script, style\"));\n\n            views = this._hideViews(sandbox);\n            view = views.first();\n\n            // Generic HTML content found as remote view - no remote view markers\n            if (!view.length) {\n                views = view = sandbox.wrapInner(\"<div data-role=view />\").children(); // one element\n            }\n\n            if (urlPath) {\n                view.hide().attr(attr(\"url\"), urlPath);\n            }\n\n            this._setupLayouts(sandbox);\n\n            modalViews = sandbox.children(this._locate(\"modalview drawer\"));\n\n            container.append(sandbox.children(this._locate(\"layout modalview drawer\")).add(views));\n\n            // Initialize the modalviews after they have been appended to the final container\n            initWidgets(modalViews);\n\n            return this._createView(view);\n        },\n\n        _locate: function(selectors) {\n            return this.$angular ? directiveSelector(selectors) : roleSelector(selectors);\n        },\n\n        _findViewElement: function(url) {\n            var element,\n                urlPath = url.split(\"?\")[0];\n\n            if (!urlPath) {\n                return this.rootView;\n            }\n\n            element = this.container.children(\"[\" + attr(\"url\") + \"='\" + urlPath + \"']\");\n\n            // do not try to search for \"#/foo/bar\" id, jQuery throws error\n            if (!element[0] && urlPath.indexOf(\"/\") === -1) {\n                element = this.container.children(urlPath.charAt(0) === \"#\" ? urlPath : \"#\" + urlPath);\n            }\n\n            return element;\n        },\n\n        _createView: function(element) {\n            if (this.$angular) {\n                return compileMobileDirective(element, this.$angular[0]);\n            } else {\n                return kendo.initWidget(element, {\n                    defaultTransition: this.transition,\n                    loader: this.loader,\n                    container: this.container,\n                    getLayout: this.getLayoutProxy,\n                    modelScope: this.modelScope,\n                    reload: attrValue(element, \"reload\")\n                }, ui.roles);\n            }\n        },\n\n        _getLayout: function(name) {\n            if (name === \"\") {\n                return null;\n            }\n\n            return name ? this.layouts[name] : this.layouts[this.layout];\n        },\n\n        _loadView: function(url, callback) {\n            if (this._xhr) {\n                this._xhr.abort();\n            }\n\n            this.trigger(LOAD_START);\n\n            this._xhr = $.get(kendo.absoluteURL(url, this.remoteViewURLPrefix), \"html\")\n                .always(this._xhrComplete.bind(this, callback, url));\n        },\n\n        _xhrComplete: function(callback, url, response) {\n            var success = true;\n\n            if (typeof response === \"object\") {\n                if (response.status === 0) {\n                    if (response.responseText && response.responseText.length > 0) {\n                        success = true;\n                        response = response.responseText;\n                    } else { // request has been aborted for real\n                        return;\n                    }\n                }\n            }\n\n            this.trigger(LOAD_COMPLETE);\n\n            if (success) {\n                callback(this.append(response, url));\n            }\n        },\n\n        _hideViews: function(container) {\n            return container.children(this._locate(\"view splitview\")).hide();\n        },\n\n        _setupLayouts: function(element) {\n            var that = this,\n                layout;\n\n            element.children(that._locate(\"layout\")).each(function() {\n                if (that.$angular) {\n                    layout = compileMobileDirective($(this), that.$angular[0]);\n                } else {\n                    layout = kendo.initWidget($(this), {}, ui.roles);\n                }\n\n                var platform = layout.options.platform;\n\n                if (!platform || platform === mobile.application.os.name) {\n                    that.layouts[layout.options.id] = layout;\n                } else {\n                    layout.destroy();\n                }\n            });\n\n        }\n    });\n\n    kendo.mobile.ViewEngine = ViewEngine;\n\n    ui.plugin(View);\n    ui.plugin(Layout);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.mobile.loader',[ \"./kendo.core\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.loader\",\r\n    name: \"Loader\",\r\n    category: \"mobile\",\r\n    description: \"Mobile Loader\",\r\n    depends: [ \"core\" ],\r\n    hidden: true\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        ui = kendo.mobile.ui,\r\n        Widget = ui.Widget,\r\n        CAPTURE_EVENTS = $.map(kendo.eventMap, function(value) { return value; }).join(\" \").split(\" \");\r\n\r\n    var Loader = Widget.extend({\r\n        init: function(container, options) {\r\n            var that = this,\r\n                element = $('<div class=\"km-loader\"><span class=\"km-loading km-spin\"></span><span class=\"km-loading-left\"></span><span class=\"km-loading-right\"></span></div>');\r\n\r\n            Widget.fn.init.call(that, element, options);\r\n\r\n            that.container = container;\r\n            that.captureEvents = false;\r\n\r\n            that._attachCapture();\r\n\r\n            element.append(that.options.loading).hide().appendTo(container);\r\n        },\r\n\r\n        options: {\r\n            name: \"Loader\",\r\n            loading: \"<h1>Loading...</h1>\",\r\n            timeout: 100\r\n        },\r\n\r\n        show: function() {\r\n            var that = this;\r\n\r\n            clearTimeout(that._loading);\r\n\r\n            if (that.options.loading === false) {\r\n                return;\r\n            }\r\n\r\n            that.captureEvents = true;\r\n            that._loading = setTimeout(function() {\r\n                that.element.show();\r\n            }, that.options.timeout);\r\n        },\r\n\r\n        hide: function() {\r\n            this.captureEvents = false;\r\n            clearTimeout(this._loading);\r\n            this.element.hide();\r\n        },\r\n\r\n        changeMessage: function(message) {\r\n            this.options.loading = message;\r\n            this.element.find(\">h1\").html(message);\r\n        },\r\n\r\n        transition: function() {\r\n            this.captureEvents = true;\r\n            this.container.css(\"pointer-events\", \"none\");\r\n        },\r\n\r\n        transitionDone: function() {\r\n            this.captureEvents = false;\r\n            this.container.css(\"pointer-events\", \"\");\r\n        },\r\n\r\n        _attachCapture: function() {\r\n            var that = this;\r\n            that.captureEvents = false;\r\n\r\n            function capture(e) {\r\n                if (that.captureEvents) {\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n\r\n            for (var i = 0; i < CAPTURE_EVENTS.length; i ++) {\r\n                that.container[0].addEventListener(CAPTURE_EVENTS[i], capture, true);\r\n            }\r\n        }\r\n    });\r\n\r\n    ui.plugin(Loader);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\r\n    define('kendo.mobile.pane',[ \"./kendo.mobile.view\", \"./kendo.mobile.loader\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.pane\",\r\n    name: \"Pane\",\r\n    category: \"mobile\",\r\n    description: \"Mobile Pane\",\r\n    depends: [ \"mobile.view\", \"mobile.loader\" ],\r\n    hidden: true\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        mobile = kendo.mobile,\r\n        roleSelector = kendo.roleSelector,\r\n        ui = mobile.ui,\r\n        Widget = ui.Widget,\r\n        ViewEngine = mobile.ViewEngine,\r\n        View = ui.View,\r\n        Loader = mobile.ui.Loader,\r\n\r\n        EXTERNAL = \"external\",\r\n        HREF = \"href\",\r\n        DUMMY_HREF = \"#!\",\r\n\r\n        NAVIGATE = \"navigate\",\r\n        VIEW_SHOW = \"viewShow\",\r\n        SAME_VIEW_REQUESTED = \"sameViewRequested\",\r\n        OS = kendo.support.mobileOS,\r\n        SKIP_TRANSITION_ON_BACK_BUTTON = OS.ios && !OS.appMode && OS.flatVersion >= 700,\r\n        WIDGET_RELS = /popover|actionsheet|modalview|drawer/,\r\n        BACK = \"#:back\",\r\n\r\n        attrValue = kendo.attrValue;\r\n\r\n    var Pane = Widget.extend({\r\n        init: function(element, options) {\r\n            var that = this;\r\n\r\n            Widget.fn.init.call(that, element, options);\r\n\r\n            options = that.options;\r\n            element = that.element;\r\n\r\n            element.addClass(\"km-pane\");\r\n\r\n            if (that.options.collapsible) {\r\n                element.addClass(\"km-collapsible-pane\");\r\n            }\r\n\r\n            this.history = [];\r\n\r\n            this.historyCallback = function(url, params, backButtonPressed) {\r\n                var transition = that.transition;\r\n                that.transition = null;\r\n\r\n                // swiping back in iOS leaves the app in a very broken state if we perform a transition\r\n                if (SKIP_TRANSITION_ON_BACK_BUTTON && backButtonPressed) {\r\n                    transition = \"none\";\r\n                }\r\n\r\n                return that.viewEngine.showView(url, transition, params);\r\n            };\r\n\r\n            this._historyNavigate = function(url) {\r\n                if (url === BACK) {\r\n                    if (that.history.length === 1) {\r\n                        return;\r\n                    }\r\n\r\n                    that.history.pop();\r\n                    url = that.history[that.history.length - 1];\r\n                } else {\r\n                    that.history.push(url);\r\n                }\r\n\r\n                that.historyCallback(url, kendo.parseQueryStringParams(url));\r\n            };\r\n\r\n            this._historyReplace = function(url) {\r\n                var params = kendo.parseQueryStringParams(url);\r\n                that.history[that.history.length - 1] = url;\r\n                that.historyCallback(url, params);\r\n            };\r\n\r\n            that.loader = new Loader(element, {\r\n                loading: that.options.loading\r\n            });\r\n\r\n            that.viewEngine = new ViewEngine({\r\n                container: element,\r\n                transition: options.transition,\r\n                modelScope: options.modelScope,\r\n                rootNeeded: !options.initial,\r\n                serverNavigation: options.serverNavigation,\r\n                remoteViewURLPrefix: options.root || \"\",\r\n                layout: options.layout,\r\n                $angular: options.$angular,\r\n                loader: that.loader,\r\n\r\n                showStart: function() {\r\n                    that.loader.transition();\r\n                    that.closeActiveDialogs();\r\n                },\r\n\r\n                after: function() {\r\n                    that.loader.transitionDone();\r\n                },\r\n\r\n                viewShow: function(e) {\r\n                    that.trigger(VIEW_SHOW, e);\r\n                },\r\n\r\n                loadStart: function() {\r\n                    that.loader.show();\r\n                },\r\n\r\n                loadComplete: function() {\r\n                    that.loader.hide();\r\n                },\r\n\r\n                sameViewRequested: function() {\r\n                    that.trigger(SAME_VIEW_REQUESTED);\r\n                },\r\n\r\n                viewTypeDetermined: function(e) {\r\n                    if (!e.remote || !that.options.serverNavigation)  {\r\n                        that.trigger(NAVIGATE, { url: e.url });\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\n            this._setPortraitWidth();\r\n\r\n            kendo.onResize(function() {\r\n                that._setPortraitWidth();\r\n            });\r\n\r\n            that._setupAppLinks();\r\n        },\r\n\r\n        closeActiveDialogs: function() {\r\n            var dialogs = this.element.find(roleSelector(\"actionsheet popover modalview\")).filter(\":visible\");\r\n            dialogs.each(function() {\r\n                kendo.widgetInstance($(this), ui).close();\r\n            });\r\n        },\r\n\r\n        navigateToInitial: function() {\r\n            var initial = this.options.initial;\r\n\r\n            if (initial) {\r\n                this.navigate(initial);\r\n            }\r\n\r\n            return initial;\r\n        },\r\n\r\n        options: {\r\n            name: \"Pane\",\r\n            portraitWidth: \"\",\r\n            transition: \"\",\r\n            layout: \"\",\r\n            collapsible: false,\r\n            initial: null,\r\n            modelScope: window,\r\n            loading: \"<h1>Loading...</h1>\"\r\n        },\r\n\r\n        events: [\r\n            NAVIGATE,\r\n            VIEW_SHOW,\r\n            SAME_VIEW_REQUESTED\r\n        ],\r\n\r\n        append: function(html) {\r\n            return this.viewEngine.append(html);\r\n        },\r\n\r\n        destroy: function() {\r\n            Widget.fn.destroy.call(this);\r\n            this.viewEngine.destroy();\r\n            this.userEvents.destroy();\r\n        },\r\n\r\n        navigate: function(url, transition) {\r\n            if (url instanceof View) {\r\n                url = url.id;\r\n            }\r\n\r\n            this.transition = transition;\r\n\r\n            this._historyNavigate(url);\r\n        },\r\n\r\n        replace: function(url, transition) {\r\n            if (url instanceof View) {\r\n                url = url.id;\r\n            }\r\n\r\n            this.transition = transition;\r\n\r\n            this._historyReplace(url);\r\n        },\r\n\r\n        bindToRouter: function(router) {\r\n            var that = this,\r\n                history = this.history,\r\n                viewEngine = this.viewEngine;\r\n\r\n            router.bind(\"init\", function(e) {\r\n                var url = e.url,\r\n                    attrUrl = router.pushState ? url : \"/\";\r\n\r\n                viewEngine.rootView.attr(kendo.attr(\"url\"), attrUrl);\r\n\r\n                // if current is set, then this means that the pane has navigated to a given view - we need to update the router accordingly.\r\n                var length = history.length;\r\n\r\n                if (url === \"/\" && length) {\r\n                    router.navigate(history[length - 1], true);\r\n                    e.preventDefault(); // prevents from executing routeMissing, by default\r\n                }\r\n            });\r\n\r\n            router.bind(\"routeMissing\", function(e) {\r\n                if (!that.historyCallback(e.url, e.params, e.backButtonPressed)) {\r\n                    e.preventDefault();\r\n                }\r\n            });\r\n\r\n            router.bind(\"same\", function() {\r\n                that.trigger(SAME_VIEW_REQUESTED);\r\n            });\r\n\r\n            that._historyNavigate = function(url) {\r\n                router.navigate(url);\r\n            };\r\n\r\n            that._historyReplace = function(url) {\r\n                router.replace(url);\r\n            };\r\n        },\r\n\r\n        hideLoading: function() {\r\n            this.loader.hide();\r\n        },\r\n\r\n        showLoading: function() {\r\n            this.loader.show();\r\n        },\r\n\r\n        changeLoadingMessage: function(message) {\r\n            this.loader.changeMessage(message);\r\n        },\r\n\r\n        view: function() {\r\n            return this.viewEngine.view();\r\n        },\r\n\r\n        _setPortraitWidth: function() {\r\n            var width,\r\n                portraitWidth = this.options.portraitWidth;\r\n\r\n            if (portraitWidth) {\r\n                width = kendo.mobile.application.element.is(\".km-vertical\") ? portraitWidth : \"auto\";\r\n                this.element.css(\"width\", width);\r\n            }\r\n        },\r\n\r\n        _setupAppLinks: function() {\r\n            var that = this,\r\n                linkRoles = \"tab\",\r\n                pressedButtonSelector = \"[data-\" + kendo.ns + \"navigate-on-press]\",\r\n\r\n                buttonSelectors = $.map([\"button\", \"backbutton\", \"detailbutton\", \"listview-link\"] , function(role) {\r\n                    return roleSelector(role) + \":not(\" + pressedButtonSelector + \")\";\r\n                }).join(\",\");\r\n\r\n            this.element.handler(this)\r\n                .on(\"down\", roleSelector(linkRoles) + \",\" + pressedButtonSelector, \"_mouseup\")\r\n                .on(\"click\", roleSelector(linkRoles) + \",\" + buttonSelectors + \",\" + pressedButtonSelector, \"_appLinkClick\");\r\n\r\n            this.userEvents = new kendo.UserEvents(this.element, {\r\n                fastTap: true,\r\n                filter: buttonSelectors,\r\n                tap: function(e) {\r\n                    e.event.currentTarget = e.touch.currentTarget;\r\n                    that._mouseup(e.event);\r\n                }\r\n            });\r\n\r\n            // remove the ms-touch-action added by the user events, breaks native scrolling in WP8\r\n            this.element.css('-ms-touch-action', '');\r\n        },\r\n\r\n        _appLinkClick: function (e) {\r\n            var href = $(e.currentTarget).attr(\"href\");\r\n            var remote = href && href[0] !== \"#\" && this.options.serverNavigation;\r\n\r\n            if(!remote && attrValue($(e.currentTarget), \"rel\") != EXTERNAL) {\r\n                e.preventDefault();\r\n            }\r\n        },\r\n\r\n        _mouseup: function(e) {\r\n            if (e.which > 1 || e.isDefaultPrevented()) {\r\n                return;\r\n            }\r\n\r\n            var pane = this,\r\n                link = $(e.currentTarget),\r\n                transition = attrValue(link, \"transition\"),\r\n                rel = attrValue(link, \"rel\") || \"\",\r\n                target = attrValue(link, \"target\"),\r\n                href = link.attr(HREF),\r\n                delayedTouchEnd = SKIP_TRANSITION_ON_BACK_BUTTON && link[0].offsetHeight === 0,\r\n                remote = href && href[0] !== \"#\" && this.options.serverNavigation;\r\n\r\n            if (delayedTouchEnd || remote || rel === EXTERNAL || (typeof href === \"undefined\") || href === DUMMY_HREF) {\r\n                return;\r\n            }\r\n\r\n            // Prevent iOS address bar progress display for in app navigation\r\n            link.attr(HREF, DUMMY_HREF);\r\n            setTimeout(function() { link.attr(HREF, href); });\r\n\r\n            if (rel.match(WIDGET_RELS)) {\r\n                kendo.widgetInstance($(href), ui).openFor(link);\r\n                // if propagation is not stopped and actionsheet is opened from tabstrip,\r\n                // the actionsheet is closed immediately.\r\n                if (rel === \"actionsheet\" || rel === \"drawer\") {\r\n                    e.stopPropagation();\r\n                }\r\n            } else {\r\n                if (target === \"_top\") {\r\n                    pane = mobile.application.pane;\r\n                }\r\n                else if (target) {\r\n                    pane = $(\"#\" + target).data(\"kendoMobilePane\");\r\n                }\r\n\r\n                pane.navigate(href, transition);\r\n            }\r\n\r\n            e.preventDefault();\r\n        }\r\n    });\r\n\r\n    Pane.wrap = function(element) {\r\n        if (!element.is(roleSelector(\"view\"))) {\r\n            element = element.wrap('<div data-' + kendo.ns + 'role=\"view\" data-stretch=\"true\"></div>').parent();\r\n        }\r\n\r\n        var paneContainer = element.wrap('<div class=\"km-pane-wrapper\"><div></div></div>').parent(),\r\n            pane = new Pane(paneContainer);\r\n\r\n        pane.navigate(\"\");\r\n\r\n        return pane;\r\n    };\r\n    ui.plugin(Pane);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\n    define('kendo.mobile.popover',[ \"./kendo.popup\", \"./kendo.mobile.pane\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.popover\",\n    name: \"PopOver\",\n    category: \"mobile\",\n    description: \"The mobile PopOver widget represents a transient view which is displayed when the user taps on a navigational widget or area on the screen. \",\n    depends: [ \"popup\", \"mobile.pane\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        HIDE = \"hide\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        WRAPPER = '<div class=\"km-popup-wrapper\"></div>',\n        ARROW = '<div class=\"km-popup-arrow\"></div>',\n        OVERLAY = '<div class=\"km-popup-overlay\"></div>',\n        DIRECTION_CLASSES = \"km-up km-down km-left km-right\",\n        Widget = ui.Widget,\n        DIRECTIONS = {\n            \"down\": {\n                origin: \"bottom center\",\n                position: \"top center\"\n            },\n            \"up\": {\n                origin: \"top center\",\n                position: \"bottom center\"\n            },\n            \"left\": {\n                origin: \"center left\",\n                position: \"center right\",\n                collision: \"fit flip\"\n            },\n            \"right\": {\n                origin: \"center right\",\n                position: \"center left\",\n                collision: \"fit flip\"\n            }\n        },\n\n        ANIMATION = {\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 0\n                },\n                close: {\n                    effects: \"fade:out\",\n                    duration: 400\n                }\n            }\n        },\n        DIMENSIONS = {\n            \"horizontal\": { offset: \"top\", size: \"height\" },\n            \"vertical\": { offset: \"left\", size: \"width\" }\n        },\n\n        REVERSE = {\n            \"up\": \"down\",\n            \"down\": \"up\",\n            \"left\": \"right\",\n            \"right\": \"left\"\n        };\n\n    var Popup = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                containerPopup = element.closest(\".km-modalview-wrapper\"),\n                viewport = element.closest(\".km-root\").children('.km-pane').first(),\n                container = containerPopup[0] ? containerPopup : viewport,\n                popupOptions,\n                axis;\n\n            if (options.viewport) {\n                viewport = options.viewport;\n            } else if (!viewport[0]) {\n                viewport = window;\n            }\n\n            if (options.container) {\n                container = options.container;\n            } else if (!container[0]) {\n                container = document.body;\n            }\n\n            popupOptions = {\n                viewport: viewport,\n                copyAnchorStyles: false,\n                autosize: true,\n                open: function() {\n                    that.overlay.show();\n                },\n\n                activate: that._activate.bind(that),\n\n                deactivate: function() {\n                    that.overlay.hide();\n                    if (!that._apiCall) {\n                        that.trigger(HIDE);\n                    }\n\n                    that._apiCall = false;\n                }\n            };\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n            options = that.options;\n\n            element.wrap(WRAPPER).addClass(\"km-popup\").show();\n\n            axis = that.options.direction.match(/left|right/) ? \"horizontal\" : \"vertical\";\n\n            that.dimensions = DIMENSIONS[axis];\n\n            that.wrapper = element.parent().css({\n                width: options.width,\n                height: options.height\n            }).addClass(\"km-popup-wrapper km-\" + options.direction).hide();\n\n            that.arrow = $(ARROW).prependTo(that.wrapper).hide();\n\n            that.overlay = $(OVERLAY).appendTo(container).hide();\n            popupOptions.appendTo = that.overlay;\n\n            if (options.className) {\n                that.overlay.addClass(options.className);\n            }\n\n            that.popup = new kendo.ui.Popup(that.wrapper, $.extend(true, popupOptions, ANIMATION, DIRECTIONS[options.direction]));\n        },\n\n        options: {\n            name: \"Popup\",\n            width: 240,\n            height: \"\",\n            direction: \"down\",\n            container: null,\n            viewport: null\n        },\n\n        events: [\n            HIDE\n        ],\n\n        show: function(target) {\n            this.popup.options.anchor = $(target);\n            this.popup.open();\n        },\n\n        hide: function() {\n            this._apiCall = true;\n            this.popup.close();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.popup.destroy();\n            this.overlay.remove();\n        },\n\n        target: function() {\n            return this.popup.options.anchor;\n        },\n\n        _activate: function() {\n            var that = this,\n                direction = that.options.direction,\n                dimensions = that.dimensions,\n                offset = dimensions.offset,\n                popup = that.popup,\n                anchor = popup.options.anchor,\n                anchorOffset = $(anchor).offset(),\n                elementOffset = $(popup.element).offset(),\n                cssClass = popup.flipped ? REVERSE[direction] : direction,\n                min = that.arrow[dimensions.size]() * 2,\n                max = that.element[dimensions.size]() - that.arrow[dimensions.size](),\n                size = $(anchor)[dimensions.size](),\n                offsetAmount = anchorOffset[offset] - elementOffset[offset] + (size / 2);\n\n            if (offsetAmount < min) {\n                offsetAmount = min;\n            }\n\n            if (offsetAmount > max) {\n                offsetAmount = max;\n            }\n\n            that.wrapper.removeClass(DIRECTION_CLASSES).addClass(\"km-\" + cssClass);\n            that.arrow.css(offset, offsetAmount).show();\n        }\n    });\n\n    var PopOver = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                popupOptions;\n\n            that.initialOpen = false;\n\n            Widget.fn.init.call(that, element, options);\n\n            popupOptions = $.extend({\n                className: \"km-popover-root\",\n                hide: function() { that.trigger(CLOSE); }\n            }, this.options.popup);\n\n            that.popup = new Popup(that.element, popupOptions);\n            that.popup.overlay.on(\"move\", function(e) {\n                if (e.target == that.popup.overlay[0]) {\n                    e.preventDefault();\n                }\n            });\n\n            that.pane = new ui.Pane(that.element, $.extend(this.options.pane, { $angular: this.options.$angular }));\n\n            kendo.notify(that, ui);\n        },\n\n        options: {\n            name: \"PopOver\",\n            popup: { },\n            pane: { }\n        },\n\n        events: [\n            OPEN,\n            CLOSE\n        ],\n\n        open: function(target) {\n            this.popup.show(target);\n\n            if (!this.initialOpen) {\n                if (!this.pane.navigateToInitial()) {\n                    this.pane.navigate(\"\");\n                }\n\n                this.popup.popup._position();\n                this.initialOpen = true;\n            } else {\n                this.pane.view()._invokeNgController();\n            }\n        },\n\n        openFor: function(target) {\n            this.open(target);\n            this.trigger(OPEN, { target: this.popup.target() });\n        },\n\n        close: function() {\n            this.popup.hide();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.pane.destroy();\n            this.popup.destroy();\n\n            kendo.destroy(this.element);\n        }\n    });\n\n    ui.plugin(Popup);\n    ui.plugin(PopOver);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.shim',[ \"./kendo.popup\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.shim\",\n    name: \"Shim\",\n    category: \"mobile\",\n    description: \"Mobile Shim\",\n    depends: [ \"popup\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Popup = kendo.ui.Popup,\n        SHIM = '<div class=\"km-shim\"></div>',\n        HIDE = \"hide\",\n        Widget = ui.Widget;\n\n    var Shim = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                app = kendo.mobile.application,\n                os = kendo.support.mobileOS,\n                osname = app ? app.os.name : (os ? os.name : \"ios\"),\n                ioswp = osname === \"ios\" || osname === \"wp\" || (app ? app.os.skin : false),\n                bb = osname === \"blackberry\",\n                align = options.align || (ioswp ?  \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                position = options.position || (ioswp ? \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                effect = options.effect || (ioswp ? \"slideIn:up\" : bb ? \"slideIn:left\" : \"fade:in\"),\n                shim = $(SHIM).handler(that).hide();\n\n            Widget.fn.init.call(that, element, options);\n\n            that.shim = shim;\n            element = that.element;\n            options = that.options;\n\n            if (options.className) {\n                that.shim.addClass(options.className);\n            }\n\n            if (!options.modal) {\n                that.shim.on(\"down\", \"_hide\");\n            }\n\n            (app ? app.element : $(document.body)).append(shim);\n\n            that.popup = new Popup(that.element, {\n                anchor: shim,\n                modal: true,\n                appendTo: shim,\n                origin: align,\n                position: position,\n                animation: {\n                    open: {\n                        effects: effect,\n                        duration: options.duration\n                    },\n                    close: {\n                        duration: options.duration\n                    }\n                },\n\n                close: function(e) {\n                    var prevented = false;\n\n                    if (!that._apiCall) {\n                        prevented = that.trigger(HIDE);\n                    }\n\n                    if (prevented) {\n                        e.preventDefault();\n                    }\n\n                    that._apiCall = false;\n                },\n\n                deactivate: function() { // Deactivate event can't be prevented.\n                    shim.hide();\n                },\n\n                open: function() {\n                    shim.show();\n                }\n            });\n\n            kendo.notify(that);\n        },\n\n        events: [ HIDE ],\n\n        options: {\n            name: \"Shim\",\n            modal: false,\n            align: undefined,\n            position: undefined,\n            effect: undefined,\n            duration: 200\n        },\n\n        show: function() {\n            this.popup.open();\n        },\n\n        hide: function() {\n            this._apiCall = true;\n            this.popup.close();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.shim.kendoDestroy();\n            this.popup.destroy();\n            this.shim.remove();\n        },\n\n        _hide: function(e) {\n            if (!e || !$.contains(this.shim.children().children(\".k-popup\")[0], e.target)) {\n                this.popup.close();\n            }\n        }\n    });\n\n    ui.plugin(Shim);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.modalview',[ \"./kendo.mobile.shim\", \"./kendo.mobile.view\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.modalview\",\n    name: \"ModalView\",\n    category: \"mobile\",\n    description: \"The Kendo ModalView is used to present self-contained functionality in the context of the current task.\",\n    depends: [ \"mobile.shim\", \"mobile.view\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Shim = ui.Shim,\n        Widget = ui.Widget,\n        BEFORE_OPEN = \"beforeOpen\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        INIT = \"init\",\n        WRAP = '<div class=\"km-modalview-wrapper\"></div>';\n\n    var ModalView = ui.View.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that._id();\n            that._wrap();\n            that._shim();\n\n            if (!this.options.$angular) {\n                that._layout();\n                that._scroller();\n                that._model();\n            }\n\n            that.element.css(\"display\", \"\");\n\n            that.trigger(INIT);\n        },\n\n        events: [\n            INIT,\n            BEFORE_OPEN,\n            OPEN,\n            CLOSE\n        ],\n\n        options: {\n            name: \"ModalView\",\n            modal: true,\n            width: null,\n            height: null\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.shim.destroy();\n        },\n\n        open: function(target) {\n            var that = this;\n            that.target = $(target);\n            that.shim.show();\n\n            that._invokeNgController();\n\n            // necessary for the mobile view interface\n            that.trigger(\"show\", { view: that });\n        },\n\n        // Interface implementation, called from the pane click handlers\n        openFor: function(target) {\n            if (!this.trigger(BEFORE_OPEN, { target: target })) {\n                this.open(target);\n                this.trigger(OPEN, { target: target });\n            }\n        },\n\n        close: function() {\n            if (this.element.is(\":visible\") && !this.trigger(CLOSE)) {\n                this.shim.hide();\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                element = that.element,\n                options = that.options,\n                width, height;\n\n            width = element[0].style.width || \"auto\";\n            height = element[0].style.height || \"auto\";\n\n            element.addClass(\"km-modalview\").wrap(WRAP);\n\n            that.wrapper = element.parent().css({\n                width: options.width || width || 300,\n                height: options.height || height || 300\n            }).addClass(height == \"auto\" ? \" km-auto-height\" : \"\");\n\n            element.css({ width: \"\", height: \"\" });\n        },\n\n        _shim: function() {\n            var that = this;\n\n            that.shim = new Shim(that.wrapper, {\n                modal: that.options.modal,\n                position: \"center center\",\n                align: \"center center\",\n                effect: \"fade:in\",\n                className: \"km-modalview-root\",\n                hide: function(e) {\n                    if (that.trigger(CLOSE)) {\n                        e.preventDefault();\n                    }\n                }\n            });\n        }\n    });\n\n    ui.plugin(ModalView);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.mobile.drawer',[ \"./kendo.mobile.view\", \"./kendo.userevents\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.drawer\",\r\n    name: \"Drawer\",\r\n    category: \"mobile\",\r\n    description: \"The Kendo Mobile Drawer widget provides slide to reveal global application toolbox\",\r\n    depends: [ \"mobile.view\", \"userevents\" ]\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        mobile = kendo.mobile,\r\n        os = kendo.support.mobileOS,\r\n        Transition = kendo.effects.Transition,\r\n        roleSelector = kendo.roleSelector,\r\n        AXIS = \"x\",\r\n        ui = mobile.ui,\r\n        SWIPE_TO_OPEN = !(os.ios && os.majorVersion == 7 && !os.appMode),\r\n        BEFORE_SHOW = \"beforeShow\",\r\n        INIT = \"init\",\r\n        SHOW = \"show\",\r\n        HIDE = \"hide\",\r\n        AFTER_HIDE = \"afterHide\",\r\n        NULL_VIEW = { enable: $.noop };\r\n\r\n    var Drawer = ui.View.extend({\r\n        init: function(element, options) {\r\n            // move the drawer to the top, in order to hide it\r\n            $(element).parent().prepend(element);\r\n\r\n            mobile.ui.Widget.fn.init.call(this, element, options);\r\n\r\n            if (!this.options.$angular) {\r\n                this._layout();\r\n                this._scroller();\r\n            }\r\n\r\n            this._model();\r\n\r\n            var pane = this.element.closest(roleSelector(\"pane\")).data(\"kendoMobilePane\"),\r\n                userEvents;\r\n\r\n            if (pane) {\r\n                this.pane = pane;\r\n                this.pane.bind(\"viewShow\", function(e) {\r\n                    drawer._viewShow(e);\r\n                });\r\n\r\n                this.pane.bind(\"sameViewRequested\", function() {\r\n                    drawer.hide();\r\n                });\r\n\r\n                userEvents = this.userEvents = new kendo.UserEvents(pane.element, {\r\n                    fastTap: true,\r\n                    filter: roleSelector(\"view splitview\"),\r\n                    allowSelection: true\r\n                });\r\n\r\n            } else {\r\n                this.currentView = NULL_VIEW;\r\n                var container = $(this.options.container);\r\n\r\n                if (!container) {\r\n                    throw new Error(\"The drawer needs a container configuration option set.\");\r\n                }\r\n\r\n                userEvents = this.userEvents = new kendo.UserEvents(container, { fastTap: true, allowSelection: true });\r\n                this._attachTransition(container);\r\n            }\r\n\r\n            var drawer = this;\r\n\r\n            var hide = function(e) {\r\n                if (drawer.visible) {\r\n                    drawer.hide();\r\n                    e.preventDefault();\r\n                }\r\n            };\r\n\r\n            if (this.options.swipeToOpen && SWIPE_TO_OPEN) {\r\n                userEvents.bind(\"press\", function() { drawer.transition.cancel(); });\r\n                userEvents.bind(\"start\", function(e) { drawer._start(e); });\r\n                userEvents.bind(\"move\", function(e) { drawer._update(e); });\r\n                userEvents.bind(\"end\", function(e) { drawer._end(e); });\r\n                userEvents.bind(\"tap\", hide);\r\n            } else {\r\n                userEvents.bind(\"press\", hide);\r\n            }\r\n\r\n            this.leftPositioned = this.options.position === \"left\";\r\n\r\n            this.visible = false;\r\n\r\n            this.element.hide().addClass(\"km-drawer\").addClass(this.leftPositioned ? \"km-left-drawer\" : \"km-right-drawer\");\r\n            this.trigger(INIT);\r\n        },\r\n\r\n        options: {\r\n            name: \"Drawer\",\r\n            position: \"left\",\r\n            views: [],\r\n            swipeToOpenViews: [],\r\n            swipeToOpen: true,\r\n            title: \"\",\r\n            container: null\r\n        },\r\n\r\n        events: [\r\n            BEFORE_SHOW,\r\n            HIDE,\r\n            AFTER_HIDE,\r\n            INIT,\r\n            SHOW\r\n        ],\r\n\r\n        show: function() {\r\n            if (this._activate()) {\r\n                this._show();\r\n            }\r\n        },\r\n\r\n        hide: function() {\r\n            if (!this.currentView) {\r\n                return;\r\n            }\r\n\r\n            this.currentView.enable();\r\n\r\n            Drawer.current = null;\r\n            this._moveViewTo(0);\r\n            this.trigger(HIDE, { view: this });\r\n        },\r\n\r\n        // Alias in order to support popover/modalview etc. interface\r\n        openFor: function() {\r\n            if (this.visible) {\r\n                this.hide();\r\n            } else {\r\n                this.show();\r\n            }\r\n        },\r\n\r\n        destroy: function() {\r\n            ui.View.fn.destroy.call(this);\r\n            this.userEvents.destroy();\r\n        },\r\n\r\n        _activate: function() {\r\n            if (this.visible) {\r\n                return true;\r\n            }\r\n\r\n            var visibleOnCurrentView = this._currentViewIncludedIn(this.options.views);\r\n\r\n            if (!visibleOnCurrentView || this.trigger(BEFORE_SHOW, { view: this })) {\r\n                return false;\r\n            }\r\n\r\n            this._setAsCurrent();\r\n            this.element.show();\r\n\r\n            this.trigger(SHOW, { view: this });\r\n            this._invokeNgController();\r\n            return true;\r\n        },\r\n\r\n        _currentViewIncludedIn: function(views) {\r\n            if (!this.pane || !views.length) {\r\n                return true;\r\n            }\r\n\r\n            var view = this.pane.view();\r\n            return $.inArray(view.id.replace('#', ''), views) > -1 || $.inArray(view.element.attr(\"id\"), views) > -1;\r\n        },\r\n\r\n        _show: function() {\r\n            this.currentView.enable(false);\r\n\r\n            this.visible = true;\r\n            var offset = this.element.width();\r\n\r\n            if (!this.leftPositioned) {\r\n                offset = -offset;\r\n            }\r\n\r\n            this._moveViewTo(offset);\r\n        },\r\n\r\n        _setAsCurrent: function() {\r\n            if (Drawer.last !== this) {\r\n                if (Drawer.last) {\r\n                    Drawer.last.element.hide();\r\n                }\r\n                this.element.show();\r\n            }\r\n\r\n            Drawer.last = this;\r\n            Drawer.current = this;\r\n        },\r\n\r\n        _moveViewTo: function(offset) {\r\n            this.userEvents.cancel();\r\n            this.transition.moveTo({ location: offset, duration: 400, ease: Transition.easeOutExpo });\r\n        },\r\n\r\n        _viewShow: function(e) {\r\n            if (this.currentView) {\r\n                this.currentView.enable();\r\n            }\r\n\r\n            if (this.currentView === e.view) {\r\n                this.hide();\r\n                return;\r\n            }\r\n\r\n            this.currentView = e.view;\r\n            this._attachTransition(e.view.element);\r\n        },\r\n\r\n        _attachTransition: function(element) {\r\n            var that = this,\r\n                movable = this.movable,\r\n                currentOffset = movable && movable.x;\r\n\r\n\r\n            if (this.transition) {\r\n                this.transition.cancel();\r\n                this.movable.moveAxis(\"x\", 0);\r\n            }\r\n\r\n            movable = this.movable = new kendo.ui.Movable(element);\r\n\r\n            this.transition = new Transition({\r\n                axis: AXIS,\r\n                movable: this.movable,\r\n                onEnd: function() {\r\n                    if (movable[AXIS] === 0) {\r\n                        element[0].style.cssText = \"\";\r\n                        that.element.hide();\r\n                        that.trigger(AFTER_HIDE);\r\n                        that.visible = false;\r\n                    }\r\n                }\r\n            });\r\n\r\n            if (currentOffset) {\r\n                element.addClass(\"k-fx-hidden\");\r\n                kendo.animationFrame(function() {\r\n                    element.removeClass(\"k-fx-hidden\");\r\n                    that.movable.moveAxis(AXIS, currentOffset);\r\n                    that.hide();\r\n                });\r\n            }\r\n        },\r\n\r\n        _start: function(e) {\r\n            var userEvents = e.sender;\r\n\r\n            // ignore non-horizontal swipes\r\n            if (Math.abs(e.x.velocity) < Math.abs(e.y.velocity) || kendo.triggeredByInput(e.event) || !this._currentViewIncludedIn(this.options.swipeToOpenViews)) {\r\n                userEvents.cancel();\r\n                return;\r\n            }\r\n\r\n            var leftPositioned = this.leftPositioned,\r\n                visible = this.visible,\r\n                canMoveLeft = leftPositioned && visible || !leftPositioned && !Drawer.current,\r\n                canMoveRight = !leftPositioned && visible || leftPositioned && !Drawer.current,\r\n                leftSwipe = e.x.velocity < 0;\r\n\r\n            if ((canMoveLeft && leftSwipe) || (canMoveRight && !leftSwipe)) {\r\n                if (this._activate()) {\r\n                    userEvents.capture();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            userEvents.cancel();\r\n        },\r\n\r\n        _update: function(e) {\r\n            var movable = this.movable,\r\n                newPosition = movable.x + e.x.delta,\r\n                limitedPosition;\r\n\r\n            if (this.leftPositioned) {\r\n                limitedPosition = Math.min(Math.max(0, newPosition), this.element.width());\r\n            } else {\r\n                limitedPosition = Math.max(Math.min(0, newPosition), -this.element.width());\r\n            }\r\n\r\n            this.movable.moveAxis(AXIS, limitedPosition);\r\n            e.event.preventDefault();\r\n            e.event.stopPropagation();\r\n        },\r\n\r\n        _end: function(e) {\r\n            var velocity = e.x.velocity,\r\n                pastHalf = Math.abs(this.movable.x) > this.element.width() / 2,\r\n                velocityThreshold = 0.8,\r\n                shouldShow;\r\n\r\n            if (this.leftPositioned) {\r\n                shouldShow = velocity > -velocityThreshold && (velocity > velocityThreshold || pastHalf);\r\n            } else {\r\n                shouldShow = velocity < velocityThreshold && (velocity < -velocityThreshold || pastHalf);\r\n            }\r\n\r\n            if(shouldShow) {\r\n                this._show();\r\n            } else {\r\n                this.hide();\r\n            }\r\n        }\r\n    });\r\n\r\n    ui.plugin(Drawer);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\n    define('kendo.mobile.splitview',[ \"./kendo.mobile.pane\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.splitview\",\n    name: \"SplitView\",\n    category: \"mobile\",\n    description: \"The mobile SplitView is a tablet-specific view that consists of two or more mobile Pane widgets.\",\n    depends: [ \"mobile.pane\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Widget = ui.Widget,\n        EXPANED_PANE_SHIM = \"<div class='km-expanded-pane-shim'></div>\",\n        View = ui.View;\n\n    var SplitView = View.extend({\n        init: function(element, options) {\n            var that = this,\n            pane, modalViews;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n\n            $.extend(that, options);\n\n            that._id();\n\n            if (!that.options.$angular) {\n                that._layout();\n                that._overlay();\n            } else {\n                that._overlay();\n            }\n\n            that._style();\n\n            modalViews = element.children(that._locate(\"modalview\"));\n\n            if (!that.options.$angular) {\n                kendo.mobile.init(modalViews);\n            } else {\n                modalViews.each(function(idx, element) {\n                    kendo.compileMobileDirective($(element), options.$angular[0]);\n                });\n            }\n\n            that.panes = [];\n            that._paramsHistory = [];\n\n            if (!that.options.$angular) {\n                that.content.children(kendo.roleSelector(\"pane\")).each(function() {\n                    pane = kendo.initWidget(this, {}, ui.roles);\n                    that.panes.push(pane);\n                });\n            } else {\n                that.element.children(kendo.directiveSelector(\"pane\")).each(function() {\n                    pane = kendo.compileMobileDirective($(this), options.$angular[0]);\n                    that.panes.push(pane);\n                });\n\n                that.element.children(kendo.directiveSelector(\"header footer\")).each(function() {\n                    kendo.compileMobileDirective($(this), options.$angular[0]);\n                });\n            }\n\n            that.expandedPaneShim = $(EXPANED_PANE_SHIM).appendTo(that.element);\n\n            that._shimUserEvents = new kendo.UserEvents(that.expandedPaneShim, {\n                fastTap: true,\n                tap: function() {\n                    that.collapsePanes();\n                }\n            });\n        },\n\n        _locate: function(selectors) {\n            return this.options.$angular ? kendo.directiveSelector(selectors) : kendo.roleSelector(selectors);\n        },\n\n        options: {\n            name: \"SplitView\",\n            style: \"horizontal\"\n        },\n\n        expandPanes: function() {\n            this.element.addClass(\"km-expanded-splitview\");\n        },\n\n        collapsePanes: function() {\n            this.element.removeClass(\"km-expanded-splitview\");\n        },\n\n        // Implement view interface\n        _layout: function() {\n            var that = this,\n                element = that.element;\n\n            that.transition = kendo.attrValue(element, \"transition\");\n            kendo.mobile.ui.View.prototype._layout.call(this);\n            kendo.mobile.init(this.header.add(this.footer));\n            that.element.addClass(\"km-splitview\");\n            that.content.addClass(\"km-split-content\");\n        },\n\n        _style: function () {\n            var style = this.options.style,\n                element = this.element,\n                styles;\n\n            if (style) {\n                styles = style.split(\" \");\n                $.each(styles, function () {\n                    element.addClass(\"km-split-\" + this);\n                });\n            }\n        },\n\n        showStart: function() {\n            var that = this;\n            that.element.css(\"display\", \"\");\n\n            if (!that.inited) {\n                that.inited = true;\n                $.each(that.panes, function() {\n                    if (this.options.initial) {\n                        this.navigateToInitial();\n                    } else {\n                        this.navigate(\"\");\n                    }\n                });\n                that.trigger(\"init\", {view: that});\n            } else {\n                this._invokeNgController();\n            }\n\n            that.trigger(\"show\", {view: that});\n        }\n    });\n\n    ui.plugin(SplitView);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.application',[ \"./kendo.mobile.pane\", \"./kendo.router\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.application\",\n    name: \"Application\",\n    category: \"mobile\",\n    description: \"The Mobile application provides a framework to build native looking web applications on mobile devices.\",\n    depends: [ \"mobile.pane\", \"router\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        support = kendo.support,\n        Widget = mobile.ui.Widget,\n        Pane = mobile.ui.Pane,\n\n        DEFAULT_OS = \"ios7\",\n        OS = support.mobileOS,\n        BERRYPHONEGAP = OS.device == \"blackberry\" && OS.flatVersion >= 600 && OS.flatVersion < 1000 && OS.appMode,\n        FONT_SIZE_COEF = 0.93,\n        VERTICAL = \"km-vertical\",\n        CHROME =  OS.browser === \"chrome\",\n        BROKEN_WEBVIEW_RESIZE = OS.ios && OS.flatVersion >= 700 && OS.flatVersion < 800 && (OS.appMode || CHROME),\n        INITIALLY_HORIZONTAL = (Math.abs(window.orientation) / 90 == 1),\n        HORIZONTAL = \"km-horizontal\",\n\n        MOBILE_PLATFORMS = {\n            ios7: { ios: true, browser: \"default\", device: \"iphone\", flatVersion: \"700\", majorVersion: \"7\", minorVersion: \"0.0\", name: \"ios\", tablet: false },\n            ios: { ios: true, browser: \"default\", device: \"iphone\", flatVersion: \"612\", majorVersion: \"6\", minorVersion: \"1.2\", name: \"ios\", tablet: false },\n            android: { android: true, browser: \"default\", device: \"android\", flatVersion: \"442\", majorVersion: \"4\", minorVersion: \"4.2\", name: \"android\", tablet: false },\n            blackberry: { blackberry: true, browser: \"default\", device: \"blackberry\", flatVersion: \"710\", majorVersion: \"7\", minorVersion: \"1.0\", name: \"blackberry\", tablet: false },\n            meego: { meego: true, browser: \"default\", device: \"meego\", flatVersion: \"850\", majorVersion: \"8\", minorVersion: \"5.0\", name: \"meego\", tablet: false },\n            wp: { wp: true, browser: \"default\", device: \"wp\", flatVersion: \"800\", majorVersion: \"8\", minorVersion: \"0.0\", name: \"wp\", tablet: false }\n        },\n\n        viewportTemplate = kendo.template('<meta content=\"initial-scale=#: data.scale #, maximum-scale=#: data.scale #, user-scalable=no#=data.height#\" name=\"viewport\" />', {usedWithBlock: false}),\n        systemMeta = kendo.template('<meta name=\"apple-mobile-web-app-capable\" content=\"#= data.webAppCapable === false ? \\'no\\' : \\'yes\\' #\" /> ' +\n                     '<meta name=\"apple-mobile-web-app-status-bar-style\" content=\"#=data.statusBarStyle#\" /> ' +\n                     '<meta name=\"msapplication-tap-highlight\" content=\"no\" /> ', {usedWithBlock: false}),\n        clipTemplate = kendo.template('<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }</style>', {usedWithBlock: false}),\n        ENABLE_CLIP = OS.android && OS.browser != \"chrome\" || OS.blackberry,\n\n        iconMeta = kendo.template('<link rel=\"apple-touch-icon' + (OS.android ? '-precomposed' : '') + '\" # if(data.size) { # sizes=\"#=data.size#\" #}# href=\"#=data.icon#\" />', {usedWithBlock: false}),\n\n        HIDEBAR = (OS.device == \"iphone\" || OS.device == \"ipod\") && OS.majorVersion < 7,\n        SUPPORT_SWIPE_TO_GO_BACK = (OS.device == \"iphone\" || OS.device == \"ipod\") && OS.majorVersion >= 7,\n        HISTORY_TRANSITION = SUPPORT_SWIPE_TO_GO_BACK ? \"none\" : null,\n        BARCOMPENSATION = OS.browser == \"mobilesafari\" ? 60 : 0,\n        STATUS_BAR_HEIGHT = 20,\n        WINDOW = $(window),\n        SCREEN = window.screen,\n        HEAD = $(\"head\"),\n\n        // mobile app events\n        INIT = \"init\";\n\n    function osCssClass(os, options) {\n        var classes = [];\n\n        if (OS) {\n            classes.push(\"km-on-\" + OS.name);\n        }\n\n        if (os.skin) {\n            classes.push(\"km-\" + os.skin);\n        } else {\n            if (os.name == \"ios\" && os.majorVersion > 6) {\n                classes.push(\"km-ios7\");\n            } else {\n                classes.push(\"km-\" + os.name);\n            }\n        }\n        if ((os.name == \"ios\" && os.majorVersion < 7) || os.name != \"ios\") {\n            classes.push(\"km-\" + os.name + os.majorVersion);\n        }\n        classes.push(\"km-\" + os.majorVersion);\n        classes.push(\"km-m\" + (os.minorVersion ? os.minorVersion[0] : 0));\n\n        if (os.variant && ((os.skin && os.skin === os.name) || !os.skin || os.setDefaultPlatform === false)) {\n            classes.push(\"km-\" + (os.skin ? os.skin : os.name) + \"-\" + os.variant);\n        }\n\n        if (os.cordova) {\n            classes.push(\"km-cordova\");\n        }\n        if (os.appMode) {\n            classes.push(\"km-app\");\n        } else {\n            classes.push(\"km-web\");\n        }\n\n        if (options && options.statusBarStyle) {\n            classes.push(\"km-\" + options.statusBarStyle + \"-status-bar\");\n        }\n\n        return classes.join(\" \");\n    }\n\n    function wp8Background(os) {\n        return 'km-wp-' + (os.noVariantSet ?\n                            (parseInt($(\"<div style='background: Background' />\").css(\"background-color\").split(\",\")[1], 10) === 0 ? 'dark' : 'light') :\n                            os.variant + \" km-wp-\" + os.variant + \"-force\");\n    }\n\n    function isOrientationHorizontal(element) {\n        return OS.wp ? element.css(\"animation-name\") == \"-kendo-landscape\" : (Math.abs(window.orientation) / 90 == 1);\n    }\n\n    function getOrientationClass(element) {\n        return isOrientationHorizontal(element) ? HORIZONTAL : VERTICAL;\n    }\n\n    function setMinimumHeight(pane) {\n        pane.parent().addBack()\n               .css(\"min-height\", window.innerHeight);\n    }\n\n    function applyViewportHeight() {\n        $(\"meta[name=viewport]\").remove();\n            HEAD.append(viewportTemplate({\n            height: \", width=device-width\" +  // width=device-width was removed for iOS6, but this should stay for BB PhoneGap.\n                        (isOrientationHorizontal() ?\n                            \", height=\" + window.innerHeight + \"px\"  :\n                            (support.mobileOS.flatVersion >= 600 && support.mobileOS.flatVersion < 700) ?\n                                \", height=\" + window.innerWidth + \"px\" :\n                                \", height=device-height\")\n        }));\n    }\n\n    var Application = Widget.extend({\n        init: function(element, options) {\n            // global reference to current application\n            mobile.application = this;\n            $(this.bootstrap.bind(this, element, options));\n        },\n\n        bootstrap: function(element, options) {\n            element = $(element);\n\n            if (!element[0]) {\n                element = $(document.body);\n            }\n\n            Widget.fn.init.call(this, element, options);\n            this.element.removeAttr(\"data-\" + kendo.ns + \"role\");\n\n            this._setupPlatform();\n            this._attachMeta();\n            this._setupElementClass();\n            this._attachHideBarHandlers();\n            var paneOptions = $.extend({}, this.options);\n            delete paneOptions.name;\n\n            var that = this,\n                startHistory = function() {\n                    that.pane = new Pane(that.element, paneOptions);\n                    that.pane.navigateToInitial();\n\n                    if (that.options.updateDocumentTitle) {\n                        that._setupDocumentTitle();\n                    }\n\n                    that._startHistory();\n                    that.trigger(INIT);\n                };\n\n            if (this.options.$angular) {\n                setTimeout(startHistory);\n            } else {\n                startHistory();\n            }\n        },\n\n        options: {\n            name: \"Application\",\n            hideAddressBar: true,\n            browserHistory: true,\n            historyTransition: HISTORY_TRANSITION,\n            modelScope: window,\n            statusBarStyle: \"black\",\n            transition: \"\",\n            retina: false,\n            platform: null,\n            skin: null,\n            updateDocumentTitle: true,\n            useNativeScrolling: false\n        },\n\n        events: [\n            INIT\n        ],\n\n        navigate: function(url, transition) {\n            this.pane.navigate(url, transition);\n        },\n\n        replace: function(url, transition) {\n            this.pane.replace(url, transition);\n        },\n\n        scroller: function() {\n            return this.view().scroller;\n        },\n\n        hideLoading: function() {\n            if (this.pane) {\n                this.pane.hideLoading();\n            } else {\n                throw new Error(\"The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.\");\n            }\n        },\n\n        showLoading: function() {\n            if (this.pane) {\n                this.pane.showLoading();\n            } else {\n                throw new Error(\"The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.\");\n            }\n        },\n\n        changeLoadingMessage: function(message) {\n            if (this.pane) {\n                this.pane.changeLoadingMessage(message);\n            } else {\n                throw new Error(\"The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.\");\n            }\n        },\n\n        view: function() {\n            return this.pane.view();\n        },\n\n        skin: function(skin) {\n            var that = this;\n\n            if (!arguments.length) {\n                return that.options.skin;\n            }\n\n            that.options.skin = skin || \"\";\n            that.element[0].className = \"km-pane\";\n            that._setupPlatform();\n            that._setupElementClass();\n\n            return that.options.skin;\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.pane.destroy();\n            if (this.options.browserHistory) {\n                this.router.destroy();\n            }\n        },\n\n        _setupPlatform: function() {\n            var that = this,\n                platform = that.options.platform,\n                skin = that.options.skin,\n                split = [],\n                os = OS || MOBILE_PLATFORMS[DEFAULT_OS],\n                refreshBackgroundFn = function () {\n                    if (that.os.variant && (that.os.skin && that.os.skin === that.os.name) || !that.os.skin) {\n                        that.element.removeClass(\"km-wp-dark km-wp-light km-wp-dark-force km-wp-light-force\").addClass(wp8Background(that.os));\n                    }\n                };\n\n            if (platform) {\n                os.setDefaultPlatform = true;\n                if (typeof platform === \"string\") {\n                    split = platform.split(\"-\");\n                    os = $.extend({ variant: split[1] }, os, MOBILE_PLATFORMS[split[0]]);\n                } else {\n                    os = platform;\n                }\n            }\n\n            if (skin) {\n                split = skin.split(\"-\");\n                if (!OS) {\n                    os.setDefaultPlatform = false;\n                }\n                os = $.extend({}, os, { skin: split[0], variant: split[1] });\n            }\n\n            if (!os.variant) {\n                os.noVariantSet = true;\n                os.variant = \"dark\";\n            }\n\n            that.os = os;\n\n            that.osCssClass = osCssClass(that.os, that.options);\n\n            if (os.name == \"wp\") {\n                if (!that.refreshBackgroundColorProxy) {\n                    that.refreshBackgroundColorProxy = refreshBackgroundFn.bind(that);\n                }\n\n                $(document).off(\"visibilitychange\", that.refreshBackgroundColorProxy);\n                $(document).off(\"resume\", that.refreshBackgroundColorProxy);\n\n                if (!os.skin) {\n                    that.element.parent().css(\"overflow\", \"hidden\");\n\n                    $(document).on(\"visibilitychange\", that.refreshBackgroundColorProxy); // Restore theme on browser focus (using the Visibility API).\n                    $(document).on(\"resume\", that.refreshBackgroundColorProxy); // PhoneGap fires resume.\n\n                    that.refreshBackgroundColorProxy();\n                }\n            }\n        },\n\n        _startHistory: function() {\n            if (this.options.browserHistory) {\n                this.router = new kendo.Router({ pushState: this.options.pushState, root: this.options.root, hashBang: this.options.hashBang });\n                this.pane.bindToRouter(this.router);\n                this.router.start();\n            } else {\n                if (!this.options.initial) {\n                    this.pane.navigate(\"\");\n                }\n            }\n        },\n\n        _resizeToScreenHeight: function() {\n            var includeStatusBar = $(\"meta[name=apple-mobile-web-app-status-bar-style]\").attr(\"content\").match(/black-translucent|hidden/),\n                element = this.element,\n                height;\n\n            if (CHROME) {\n                height = window.innerHeight;\n            } else {\n                if (isOrientationHorizontal(element)) {\n                    if (includeStatusBar) {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availWidth + STATUS_BAR_HEIGHT;\n                        } else {\n                            height = SCREEN.availWidth;\n                        }\n                    } else {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availWidth;\n                        } else {\n                            height = SCREEN.availWidth - STATUS_BAR_HEIGHT;\n                        }\n                    }\n                } else {\n                    if (includeStatusBar) {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availHeight;\n                        } else {\n                            height = SCREEN.availHeight + STATUS_BAR_HEIGHT;\n                        }\n                    } else {\n                        if (INITIALLY_HORIZONTAL) {\n                            height = SCREEN.availHeight - STATUS_BAR_HEIGHT;\n                        } else {\n                            height = SCREEN.availHeight;\n                        }\n                    }\n                }\n            }\n\n            element.height(height);\n        },\n\n        _setupElementClass: function() {\n            var that = this, size,\n                element = that.element;\n\n            element.parent().addClass(\"km-root km-\" + (that.os.tablet ? \"tablet\" : \"phone\"));\n            element.addClass(that.osCssClass + \" \" + getOrientationClass(element));\n            if (this.options.useNativeScrolling) {\n                element.parent().addClass(\"km-native-scrolling\");\n            }\n\n            if (CHROME) {\n                element.addClass(\"km-ios-chrome\");\n            }\n\n            if (support.wpDevicePixelRatio) {\n                element.parent().css(\"font-size\", support.wpDevicePixelRatio + \"em\");\n            }\n\n            if (this.options.retina) {\n                element.parent().addClass(\"km-retina\");\n                element.parent().css(\"font-size\", (support.devicePixelRatio * FONT_SIZE_COEF) + \"em\");\n            }\n\n            if (BERRYPHONEGAP) {\n                applyViewportHeight();\n            }\n            if (that.options.useNativeScrolling) {\n                element.parent().addClass(\"km-native-scrolling\");\n            } else if (ENABLE_CLIP) {\n                size = (screen.availWidth > screen.availHeight ? screen.availWidth : screen.availHeight) + 200;\n                $(clipTemplate({ width: size, height: size })).appendTo(HEAD);\n            }\n\n            if (BROKEN_WEBVIEW_RESIZE) {\n                that._resizeToScreenHeight();\n            }\n\n            kendo.onResize(function() {\n                element\n                    .removeClass(\"km-horizontal km-vertical\")\n                    .addClass(getOrientationClass(element));\n\n                if (that.options.useNativeScrolling) {\n                    setMinimumHeight(element);\n                }\n\n                if (BROKEN_WEBVIEW_RESIZE) {\n                    that._resizeToScreenHeight();\n                }\n\n                if (BERRYPHONEGAP) {\n                    applyViewportHeight();\n                }\n\n                kendo.resize(element);\n            });\n        },\n\n        _clearExistingMeta: function() {\n            HEAD.find(\"meta\")\n                .filter(\"[name|='apple-mobile-web-app'],[name|='msapplication-tap'],[name='viewport']\")\n                .remove();\n        },\n\n        _attachMeta: function() {\n            var options = this.options,\n                icon = options.icon, size;\n\n            this._clearExistingMeta();\n\n            if (!BERRYPHONEGAP) {\n                HEAD.prepend(viewportTemplate({ height: \"\", scale : this.options.retina ? 1 / support.devicePixelRatio : \"1.0\" }));\n            }\n\n            HEAD.prepend(systemMeta(options));\n\n            if (icon) {\n                if (typeof icon === \"string\") {\n                    icon = { \"\" : icon };\n                }\n\n                for(size in icon) {\n                    HEAD.prepend(iconMeta({ icon: icon[size], size: size }));\n                }\n            }\n\n            if (options.useNativeScrolling) {\n                setMinimumHeight(this.element);\n            }\n        },\n\n        _attachHideBarHandlers: function() {\n            var that = this,\n                hideBar = that._hideBar.bind(that);\n\n            if (support.mobileOS.appMode || !that.options.hideAddressBar || !HIDEBAR || that.options.useNativeScrolling) {\n                return;\n            }\n\n            that._initialHeight = {};\n\n            WINDOW.on(\"load\", hideBar);\n\n            kendo.onResize(function() {\n                setTimeout(window.scrollTo, 0, 0, 1);\n            });\n        },\n\n        _setupDocumentTitle: function() {\n            var that = this,\n                defaultTitle = document.title;\n\n            that.pane.bind(\"viewShow\", function(e) {\n                var title = e.view.title;\n                document.title = title !== undefined ? title : defaultTitle;\n            });\n        },\n\n        _hideBar: function() {\n            var that = this,\n                element = that.element;\n\n            element.height(kendo.support.transforms.css + \"calc(100% + \" + BARCOMPENSATION + \"px)\");\n            $(window).trigger(kendo.support.resize);\n        }\n    });\n\n    kendo.mobile.Application = Application;\n    kendo.ui.plugin(Application, kendo.mobile, 'Mobile');\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.actionsheet',[ \"./kendo.mobile.popover\", \"./kendo.mobile.shim\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.actionsheet\",\n    name: \"ActionSheet\",\n    category: \"mobile\",\n    description: \"The mobile ActionSheet widget displays a set of choices related to a task the user initiates.\",\n    depends: [ \"mobile.popover\", \"mobile.shim\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        ui = kendo.mobile.ui,\n        Shim = ui.Shim,\n        Popup = ui.Popup,\n        Widget = ui.Widget,\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        COMMAND = \"command\",\n        BUTTONS = \"li>a\",\n        CONTEXT_DATA = \"actionsheetContext\",\n        WRAP = '<div class=\"km-actionsheet-wrapper\"></div>',\n        cancelTemplate = kendo.template('<li class=\"km-actionsheet-cancel\"><a href=\"\\\\#\">#:cancel#</a></li>');\n\n    var ActionSheet = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                ShimClass,\n                tablet,\n                type,\n                os = support.mobileOS;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            type = options.type;\n            element = that.element;\n\n            if (type === \"auto\") {\n                tablet = os && os.tablet;\n            } else {\n                tablet = type === \"tablet\";\n            }\n\n            ShimClass = tablet ? Popup : Shim;\n\n            if (options.cancelTemplate) {\n                cancelTemplate = kendo.template(options.cancelTemplate);\n            }\n\n            element\n                .addClass(\"km-actionsheet\")\n                .append(cancelTemplate({cancel: that.options.cancel}))\n                .wrap(WRAP)\n                .on(\"up\", BUTTONS, \"_click\")\n                .on(\"click\", BUTTONS, kendo.preventDefault);\n\n            that.view().bind(\"destroy\", function() {\n                that.destroy();\n            });\n\n            that.wrapper = element.parent().addClass(type ? \" km-actionsheet-\" + type : \"\");\n\n            that.shim = new ShimClass(that.wrapper, $.extend({modal: os.ios && os.majorVersion < 7, className: \"km-actionsheet-root\"}, that.options.popup) );\n\n            that._closeProxy = that._close.bind(that);\n            that._shimHideProxy = that._shimHide.bind(that);\n            that.shim.bind(\"hide\", that._shimHideProxy);\n\n            if (tablet) {\n                kendo.onResize(that._closeProxy);\n            }\n\n            kendo.notify(that, ui);\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            COMMAND\n        ],\n\n        options: {\n            name: \"ActionSheet\",\n            cancel: \"Cancel\",\n            type: \"auto\",\n            popup: { height: \"auto\" }\n        },\n\n        open: function(target, context) {\n            var that = this;\n            that.target = $(target);\n            that.context = context;\n            that.shim.show(target);\n        },\n\n        close: function() {\n            this.context = this.target = null;\n            this.shim.hide();\n        },\n\n        openFor: function(target) {\n            var that = this,\n                context = target.data(CONTEXT_DATA);\n\n            that.open(target, context);\n            that.trigger(OPEN, { target: target, context: context });\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.unbindResize(this._closeProxy);\n            this.shim.destroy();\n        },\n\n        _click: function(e) {\n            if (e.isDefaultPrevented()) {\n                return;\n            }\n\n            var currentTarget = $(e.currentTarget);\n            var action = currentTarget.data(\"action\");\n\n            if (action) {\n                var actionData = {\n                    target: this.target,\n                    context: this.context\n                },\n                $angular = this.options.$angular;\n\n                if ($angular) {\n                    this.element.injector().get(\"$parse\")(action)($angular[0])(actionData);\n                } else {\n                    kendo.getter(action)(window)(actionData);\n                }\n            }\n\n            this.trigger(COMMAND, { target: this.target, context: this.context, currentTarget: currentTarget });\n\n            e.preventDefault();\n            this._close();\n        },\n\n        _shimHide: function(e) {\n            if (!this.trigger(CLOSE)) {\n                this.context = this.target = null;\n            } else {\n                e.preventDefault();\n            }\n        },\n\n        _close: function(e) {\n            if (!this.trigger(CLOSE)) {\n                this.close();\n            } else {\n                e.preventDefault();\n            }\n        }\n    });\n\n    ui.plugin(ActionSheet);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.button',[ \"./kendo.userevents\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.button\",\n    name: \"Button\",\n    category: \"mobile\",\n    description: \"The Button widget navigates between mobile Application views when pressed.\",\n    depends: [ \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        Widget = ui.Widget,\n        support = kendo.support,\n        os = support.mobileOS,\n        ANDROID3UP = os.android && os.flatVersion >= 300,\n        CLICK = \"click\",\n        DISABLED = \"disabled\",\n        DISABLEDSTATE = \"km-state-disabled\";\n\n    function highlightButton(widget, event, highlight) {\n        $(event.target).closest(\".km-button,.km-detail\").toggleClass(\"km-state-active\", highlight);\n\n        if (ANDROID3UP && widget.deactivateTimeoutID) {\n            clearTimeout(widget.deactivateTimeoutID);\n            widget.deactivateTimeoutID = 0;\n        }\n    }\n\n    function createBadge(value) {\n        return $('<span class=\"km-badge\">' + value + '</span>');\n    }\n\n    var Button = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            var useTap = that.options.clickOn === \"up\";\n\n            that._wrap();\n            that._style();\n\n            if (!useTap) {\n                that.element.attr(\"data-navigate-on-press\", true);\n            }\n\n            that.options.enable = that.options.enable && !that.element.attr(DISABLED);\n            that.enable(that.options.enable);\n\n            that._userEvents = new kendo.UserEvents(that.element, {\n                allowSelection: !useTap,\n                fastTap: true,\n                press: function(e) {\n                    that._activate(e);\n                },\n                release: function(e) {\n                    highlightButton(that, e, false);\n                    if (!useTap) { e.event.stopPropagation(); }\n                }\n            });\n\n            that._userEvents.bind(useTap ? \"tap\" : \"press\", function(e) {\n                that._release(e);\n            });\n\n\n            if (ANDROID3UP) {\n                that.element.on(\"move\", function(e) { that._timeoutDeactivate(e); });\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this._userEvents.destroy();\n        },\n\n        events: [\n            CLICK\n        ],\n\n        options: {\n            name: \"Button\",\n            icon: \"\",\n            style: \"\",\n            badge: \"\",\n            clickOn: \"up\",\n            enable: true\n        },\n\n        badge: function (value) {\n            var badge = this.badgeElement = this.badgeElement || createBadge(value).appendTo(this.element);\n\n            if (value || value === 0) {\n                badge.html(value);\n                return this;\n            }\n\n            if (value === false) {\n                badge.empty().remove();\n                this.badgeElement = false;\n                return this;\n            }\n\n            return badge.html();\n        },\n\n        enable: function(enable) {\n            var element = this.element;\n\n            if(typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.options.enable = enable;\n\n            if(enable) {\n                element.prop(DISABLED, false);\n            } else {\n                element.attr(DISABLED, DISABLED);\n            }\n\n            element.toggleClass(DISABLEDSTATE, !enable);\n        },\n\n        _timeoutDeactivate: function(e) {\n            if (!this.deactivateTimeoutID) {\n                this.deactivateTimeoutID = setTimeout(highlightButton, 500, this, e, false);\n            }\n        },\n\n        _activate: function(e) {\n            var activeElement = document.activeElement,\n                nodeName = activeElement ? activeElement.nodeName : \"\";\n\n            if(this.options.enable) {\n                highlightButton(this, e, true);\n\n                if (nodeName == \"INPUT\" || nodeName == \"TEXTAREA\") {\n                    activeElement.blur(); // Hide device keyboard\n                }\n            }\n        },\n\n        _release: function(e) {\n            var that = this;\n\n            if (e.which > 1) {\n                return;\n            }\n\n            if(!that.options.enable) {\n                e.preventDefault();\n                return;\n            }\n\n            if (that.trigger(CLICK, {target: $(e.target), button: that.element})) {\n                e.preventDefault();\n            }\n        },\n\n        _style: function() {\n            var style = this.options.style,\n                element = this.element,\n                styles;\n\n            if (style) {\n                styles = style.split(\" \");\n                $.each(styles, function() {\n                    element.addClass(\"km-\" + this);\n                });\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                icon = that.options.icon,\n                badge = that.options.badge,\n                iconSpan = '<span class=\"km-icon km-' + icon,\n                element = that.element.addClass(\"km-button\"),\n                span = element.children(\"span:not(.km-icon)\").addClass(\"km-text\"),\n                image = element.find(\"img\").addClass(\"km-image\");\n\n            if (!span[0] && element.html()) {\n                span = element.wrapInner('<span class=\"km-text\" />').children(\"span.km-text\");\n            }\n\n            if (!image[0] && icon) {\n                if (!span[0]) {\n                    iconSpan += \" km-notext\";\n                }\n                that.iconElement = element.prepend($(iconSpan + '\" />'));\n            }\n\n            if (badge || badge === 0) {\n                that.badgeElement = createBadge(badge).appendTo(element);\n            }\n        }\n    });\n\n    var BackButton = Button.extend({\n        options: {\n            name: \"BackButton\",\n            style: \"back\"\n        },\n\n        init: function(element, options) {\n            var that = this;\n            Button.fn.init.call(that, element, options);\n\n            if (typeof that.element.attr(\"href\") === \"undefined\") {\n                that.element.attr(\"href\", \"#:back\");\n            }\n        }\n    });\n\n    var DetailButton = Button.extend({\n        options: {\n            name: \"DetailButton\",\n            style: \"\"\n        },\n\n        init: function(element, options) {\n            Button.fn.init.call(this, element, options);\n        },\n\n        _style: function() {\n            var style = this.options.style + \" detail\",\n                element = this.element;\n\n            if (style) {\n                var styles = style.split(\" \");\n                $.each(styles, function() {\n                    element.addClass(\"km-\" + this);\n                });\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                icon = that.options.icon,\n                iconSpan = '<span class=\"km-icon km-' + icon,\n                element = that.element,\n                span = element.children(\"span\"),\n                image = element.find(\"img\").addClass(\"km-image\");\n\n            if (!image[0] && icon) {\n                if (!span[0]) {\n                    iconSpan += \" km-notext\";\n                }\n                element.prepend($(iconSpan + '\" />'));\n            }\n        }\n\n    });\n\n    ui.plugin(Button);\n    ui.plugin(BackButton);\n    ui.plugin(DetailButton);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.mobile.buttongroup',[ \"./kendo.core\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.buttongroup\",\r\n    name: \"ButtonGroup\",\r\n    category: \"mobile\",\r\n    description: \"The Kendo mobile ButtonGroup widget is a linear set of grouped buttons.\",\r\n    depends: [ \"core\" ]\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        ui = kendo.mobile.ui,\r\n        Widget = ui.Widget,\r\n        ACTIVE = \"state-active\",\r\n        DISABLE = \"state-disabled\",\r\n        SELECT = \"select\",\r\n        SELECTOR = \"li:not(.km-\" + ACTIVE +\")\";\r\n\r\n    function className(name) {\r\n        return \"k-\" + name + \" km-\" + name;\r\n    }\r\n\r\n    function createBadge(value) {\r\n        return $('<span class=\"' + className(\"badge\") + '\">' + value + '</span>');\r\n    }\r\n\r\n    var ButtonGroup = Widget.extend({\r\n        init: function(element, options) {\r\n            var that = this;\r\n\r\n            Widget.fn.init.call(that, element, options);\r\n\r\n            that.element.addClass(\"km-buttongroup k-widget k-button-group\").find(\"li\").each(that._button);\r\n\r\n            that.element.on(that.options.selectOn, SELECTOR, \"_select\");\r\n\r\n            that._enable = true;\r\n            that.select(that.options.index);\r\n\r\n            if(!that.options.enable) {\r\n                that._enable = false;\r\n                that.wrapper.addClass(className(DISABLE));\r\n            }\r\n        },\r\n\r\n        events: [\r\n            SELECT\r\n        ],\r\n\r\n        options: {\r\n            name: \"ButtonGroup\",\r\n            selectOn: \"down\",\r\n            index: -1,\r\n            enable: true\r\n        },\r\n\r\n        current: function() {\r\n            return this.element.find(\".km-\" + ACTIVE);\r\n        },\r\n\r\n        select: function (li) {\r\n            var that = this,\r\n                index = -1;\r\n\r\n            if (li === undefined || li === -1 || !that._enable || $(li).is(\".km-\" + DISABLE)) {\r\n                return;\r\n            }\r\n\r\n            that.current().removeClass(className(ACTIVE));\r\n\r\n            if (typeof li === \"number\") {\r\n                index = li;\r\n                li = $(that.element[0].children[li]);\r\n            } else if (li.nodeType) {\r\n                li = $(li);\r\n                index = li.index();\r\n            }\r\n\r\n            li.addClass(className(ACTIVE));\r\n            that.selectedIndex = index;\r\n        },\r\n\r\n        badge: function(item, value) {\r\n            var buttongroup = this.element, badge;\r\n\r\n            if (!isNaN(item)) {\r\n                item = buttongroup.children().get(item);\r\n            }\r\n\r\n            item = buttongroup.find(item);\r\n            badge = $(item.children(\".km-badge\")[0] || createBadge(value).appendTo(item));\r\n\r\n            if (value || value === 0) {\r\n                badge.html(value);\r\n                return this;\r\n            }\r\n\r\n            if (value === false) {\r\n                badge.empty().remove();\r\n                return this;\r\n            }\r\n\r\n            return badge.html();\r\n        },\r\n\r\n        enable: function(enable) {\r\n            if(typeof enable == \"undefined\") {\r\n                enable = true;\r\n            }\r\n\r\n            this.wrapper.toggleClass(className(DISABLE), !enable);\r\n\r\n            this._enable = this.options.enable = enable;\r\n        },\r\n\r\n        _button: function() {\r\n            var button = $(this).addClass(className(\"button\")),\r\n                icon = kendo.attrValue(button, \"icon\"),\r\n                badge = kendo.attrValue(button, \"badge\"),\r\n                span = button.children(\"span\"),\r\n                image = button.find(\"img\").addClass(className(\"image\"));\r\n\r\n            if (!span[0]) {\r\n                span = button.wrapInner(\"<span/>\").children(\"span\");\r\n            }\r\n\r\n            span.addClass(className(\"text\"));\r\n\r\n            if (!image[0] && icon) {\r\n                button.prepend($('<span class=\"' + className(\"icon\") + ' ' + className(icon) + '\"/>'));\r\n            }\r\n\r\n            if (badge || badge === 0) {\r\n                createBadge(badge).appendTo(button);\r\n            }\r\n        },\r\n\r\n        _select: function(e) {\r\n            if (e.which > 1 || e.isDefaultPrevented() || !this._enable) {\r\n                return;\r\n            }\r\n\r\n            this.select(e.currentTarget);\r\n            this.trigger(SELECT, { index: this.selectedIndex });\r\n        }\r\n    });\r\n\r\n    ui.plugin(ButtonGroup);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\r\n    define('kendo.mobile.collapsible',[ \"./kendo.core\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.collapsible\",\r\n    name: \"Collapsible\",\r\n    category: \"mobile\",\r\n    description: \"The Kendo mobile Collapsible widget provides ability for creating collapsible blocks of content.\",\r\n    depends: [ \"core\", \"userevents\" ]\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        ui = kendo.mobile.ui,\r\n        Widget = ui.Widget,\r\n        COLLAPSIBLE = \"km-collapsible\",\r\n        HEADER = \"km-collapsible-header\",\r\n        CONTENT = \"km-collapsible-content\",\r\n        INSET = \"km-collapsibleinset\",\r\n        HEADER_WRAPPER = \"<div data-role='collapsible-header' class='\" + HEADER + \"'></div>\",\r\n        CONTENT_WRAPPER = \"<div data-role='collapsible-content' class='\" + CONTENT + \"'></div>\",\r\n\r\n        COLLAPSED = \"km-collapsed\",\r\n        EXPANDED = \"km-expanded\",\r\n        ANIMATED = \"km-animated\",\r\n\r\n        //icon position\r\n        LEFT = \"left\",\r\n\r\n        //events\r\n        EXAPND = \"expand\",\r\n        COLLAPSE = \"collapse\";\r\n\r\n    var Collapsible = Widget.extend({\r\n        init: function(element, options) {\r\n            var that = this,\r\n                container = $(element);\r\n\r\n            Widget.fn.init.call(that, container, options);\r\n\r\n            container.addClass(COLLAPSIBLE);\r\n\r\n            that._buildHeader();\r\n            that.content = container.children().not(that.header).wrapAll(CONTENT_WRAPPER).parent();\r\n\r\n            that._userEvents = new kendo.UserEvents(that.header, {\r\n                fastTap: true,\r\n                tap: function() { that.toggle(); }\r\n            });\r\n\r\n            container.addClass(that.options.collapsed ? COLLAPSED : EXPANDED);\r\n\r\n            if (that.options.inset) {\r\n                container.addClass(INSET);\r\n            }\r\n\r\n            if (that.options.animation) {\r\n                that.content.addClass(ANIMATED);\r\n                that.content.height(0);\r\n                if (that.options.collapsed) {\r\n                    that.content.hide();\r\n                }\r\n            } else if (that.options.collapsed) {\r\n                that.content.hide();\r\n            }\r\n        },\r\n\r\n        events: [\r\n            EXAPND,\r\n            COLLAPSE\r\n        ],\r\n\r\n        options: {\r\n            name: \"Collapsible\",\r\n            collapsed: true,\r\n            collapseIcon: \"arrow-n\",\r\n            expandIcon: \"arrow-s\",\r\n            iconPosition: LEFT,\r\n            animation: true,\r\n            inset: false\r\n        },\r\n\r\n        destroy: function() {\r\n            Widget.fn.destroy.call(this);\r\n            this._userEvents.destroy();\r\n        },\r\n\r\n        expand: function(instant) {\r\n            var icon = this.options.collapseIcon,\r\n                content = this.content,\r\n                ios = kendo.support.mobileOS.ios;\r\n\r\n            if (!this.trigger(EXAPND)) {\r\n                if (icon) {\r\n                    this.header.find(\".km-icon\").removeClass().addClass(\"km-icon km-\" + icon);\r\n                }\r\n                this.element.removeClass(COLLAPSED).addClass(EXPANDED);\r\n\r\n                if (this.options.animation && !instant) {\r\n                    content.off(\"transitionend\");\r\n                    content.show();\r\n                    if (ios) { content.removeClass(ANIMATED); } //required to get the height of the content on iOS\r\n                    content.height(this._getContentHeight());\r\n                    if (ios) { content.addClass(ANIMATED); }\r\n\r\n                    kendo.resize(content);\r\n                } else {\r\n                    content.show();\r\n                }\r\n            }\r\n        },\r\n\r\n        collapse: function(instant) {\r\n            var icon = this.options.expandIcon,\r\n                content = this.content;\r\n\r\n            if (!this.trigger(COLLAPSE)) {\r\n                if (icon) {\r\n                    this.header.find(\".km-icon\").removeClass().addClass(\"km-icon km-\" + icon);\r\n                }\r\n                this.element.removeClass(EXPANDED).addClass(COLLAPSED);\r\n\r\n                if (this.options.animation && !instant) {\r\n                    content.one(\"transitionend\", function() { content.hide(); });\r\n                    content.height(0);\r\n                } else {\r\n                    content.hide();\r\n                }\r\n            }\r\n        },\r\n\r\n        toggle: function(instant) {\r\n            if (this.isCollapsed()) {\r\n                this.expand(instant);\r\n            } else {\r\n                this.collapse(instant);\r\n            }\r\n        },\r\n\r\n        isCollapsed: function() {\r\n            return this.element.hasClass(COLLAPSED);\r\n        },\r\n\r\n        resize: function() {\r\n            if (!this.isCollapsed() && this.options.animation) {\r\n                this.content.height(this._getContentHeight());\r\n            }\r\n        },\r\n\r\n        _buildHeader: function() {\r\n            var header = this.element.children(\":header\").wrapAll(HEADER_WRAPPER),\r\n                iconSpan = $('<span class=\"km-icon\"/>'),\r\n                icon = this.options.collapsed ? this.options.expandIcon : this.options.collapseIcon,\r\n                iconPosition = this.options.iconPosition;\r\n\r\n            if (icon) {\r\n                header.prepend(iconSpan);\r\n                iconSpan.addClass(\"km-\" + icon);\r\n            }\r\n\r\n            this.header = header.parent();\r\n            this.header.addClass(\"km-icon-\" + iconPosition);\r\n        },\r\n\r\n        _getContentHeight: function() {\r\n            var style = this.content.attr(\"style\"),\r\n                height;\r\n\r\n            this.content.css({\r\n                position:   'absolute',\r\n                visibility: 'hidden',\r\n                height: \"auto\"\r\n            });\r\n\r\n            height = this.content.height();\r\n\r\n            this.content.attr(\"style\", style ? style : \"\");\r\n\r\n            return height;\r\n        }\r\n    });\r\n\r\n    ui.plugin(Collapsible);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n(function(f, define){\n    define('kendo.mobile.listview',[ \"./kendo.data\", \"./kendo.userevents\", \"./kendo.mobile.button\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.listview\",\n    name: \"ListView\",\n    category: \"mobile\",\n    description: \"The Kendo Mobile ListView widget is used to display flat or grouped list of items.\",\n    depends: [ \"data\", \"userevents\", \"mobile.button\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Node = window.Node,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        outerHeight = kendo._outerHeight,\n        DataSource = kendo.data.DataSource,\n        Widget = ui.DataBoundWidget,\n        ITEM_SELECTOR = \".km-list > li, > li:not(.km-group-container)\",\n        HIGHLIGHT_SELECTOR = \".km-listview-link, .km-listview-label\",\n        ICON_SELECTOR = \"[\" + kendo.attr(\"icon\") + \"]\",\n        attrValue = kendo.attrValue,\n        GROUP_CLASS = \"km-group-title\",\n        ACTIVE_CLASS = \"km-state-active\",\n        GROUP_WRAPPER = '<div class=\"' + GROUP_CLASS + '\"><div class=\"km-text\"></div></div>',\n        GROUP_TEMPLATE = kendo.template('<li><div class=\"' + GROUP_CLASS + '\"><div class=\"km-text\">#= this.headerTemplate(data) #</div></div><ul>#= kendo.render(this.template, data.items)#</ul></li>'),\n        WRAPPER = '<div class=\"km-listview-wrapper\"></div>',\n        SEARCH_TEMPLATE = kendo.template('<form class=\"km-filter-form\"><div class=\"km-filter-wrap\"><input type=\"search\" placeholder=\"#=placeholder#\"/><a href=\"\\\\#\" class=\"km-filter-reset\" title=\"Clear\"><span class=\"km-icon km-clear\"></span><span class=\"km-text\">Clear</span></a></div></form>'),\n        NS = \".kendoMobileListView\",\n        STYLED = \"styled\",\n        DATABOUND = \"dataBound\",\n        DATABINDING = \"dataBinding\",\n        ITEM_CHANGE = \"itemChange\",\n        CLICK = \"click\",\n        CHANGE = \"change\",\n        PROGRESS = \"progress\",\n        FUNCTION = \"function\",\n\n        whitespaceRegExp = /^\\s+$/,\n        buttonRegExp = /button/;\n\n    function whitespace() {\n        return this.nodeType === Node.TEXT_NODE && this.nodeValue.match(whitespaceRegExp);\n    }\n\n    function addIcon(item, icon) {\n        if (icon && !item[0].querySelector(\".km-icon\")) {\n            item.prepend('<span class=\"km-icon km-' + icon + '\"/>');\n        }\n    }\n\n    function enhanceItem(item) {\n        addIcon(item, attrValue(item, \"icon\"));\n        addIcon(item, attrValue(item.children(ICON_SELECTOR), \"icon\"));\n    }\n\n    function enhanceLinkItem(item) {\n        var parent = item.parent(),\n            itemAndDetailButtons = item.add(parent.children(kendo.roleSelector(\"detailbutton\"))),\n            otherNodes = parent.contents().not(itemAndDetailButtons).not(whitespace);\n\n        if (otherNodes.length) {\n            return;\n        }\n\n        item.addClass(\"km-listview-link\")\n            .attr(kendo.attr(\"role\"), \"listview-link\");\n\n        addIcon(item, attrValue(parent, \"icon\"));\n        addIcon(item, attrValue(item, \"icon\"));\n    }\n\n    function enhanceCheckBoxItem(label) {\n        if (!label[0].querySelector(\"input[type=checkbox],input[type=radio]\")) {\n            return;\n        }\n\n        var item = label.parent();\n\n        if (item.contents().not(label).not(function() { return this.nodeType == 3; })[0]) {\n            return;\n        }\n\n        label.addClass(\"km-listview-label\");\n\n        label.children(\"[type=checkbox],[type=radio]\").addClass(\"km-widget km-icon km-check\");\n    }\n\n    function putAt(element, top) {\n        $(element).css('transform', 'translate3d(0px, ' + top + 'px, 0px)');\n    }\n\n    var HeaderFixer = kendo.Class.extend({\n        init: function(listView) {\n            var scroller = listView.scroller();\n\n            if (!scroller) {\n                return;\n            }\n\n            this.options = listView.options;\n            this.element = listView.element;\n            this.scroller = listView.scroller();\n            this._shouldFixHeaders();\n\n            var headerFixer = this;\n\n            var cacheHeaders = function() {\n                headerFixer._cacheHeaders();\n            };\n\n            listView.bind(\"resize\", cacheHeaders);\n\n            listView.bind(STYLED, cacheHeaders);\n            listView.bind(DATABOUND, cacheHeaders);\n\n            this._scrollHandler = function(e) {\n                headerFixer._fixHeader(e);\n            };\n            scroller.bind(\"scroll\", this._scrollHandler);\n        },\n\n        destroy: function() {\n            var that = this;\n            if (that.scroller) {\n                that.scroller.unbind(\"scroll\", that._scrollHandler);\n            }\n        },\n\n        _fixHeader: function(e) {\n            if (!this.fixedHeaders) {\n                return;\n            }\n\n            var i = 0,\n                scroller = this.scroller,\n                headers = this.headers,\n                scrollTop = e.scrollTop,\n                headerPair,\n                offset,\n                header;\n\n            do {\n                headerPair = headers[i++];\n                if (!headerPair) {\n                    header = $(\"<div />\");\n                    break;\n                }\n                offset = headerPair.offset;\n                header = headerPair.header;\n            } while (offset + 1 > scrollTop);\n\n            if (this.currentHeader != i) {\n                scroller.fixedContainer.html(header.clone());\n                this.currentHeader = i;\n            }\n        },\n\n        _shouldFixHeaders: function() {\n            this.fixedHeaders = this.options.type === \"group\" && this.options.fixedHeaders;\n        },\n\n        _cacheHeaders: function() {\n            this._shouldFixHeaders();\n\n            if (!this.fixedHeaders) {\n                return;\n            }\n\n            var headers = [], offset = this.scroller.scrollTop;\n\n            this.element.find(\".\" + GROUP_CLASS).each(function(_, header) {\n                header = $(header);\n                headers.unshift({\n                    offset: header.position().top + offset,\n                    header: header\n                });\n            });\n\n            this.headers = headers;\n            this._fixHeader({ scrollTop: offset });\n        }\n    });\n\n    var DEFAULT_PULL_PARAMETERS = function() {\n        return { page: 1 };\n    };\n\n    var RefreshHandler = kendo.Class.extend({\n        init: function(listView) {\n            var handler = this,\n                options = listView.options,\n                scroller = listView.scroller(),\n                pullParameters = options.pullParameters || DEFAULT_PULL_PARAMETERS;\n\n            this.listView = listView;\n            this.scroller = scroller;\n\n            listView.bind(\"_dataSource\", function(e) {\n                handler.setDataSource(e.dataSource);\n            });\n\n            scroller.setOptions({\n                pullToRefresh: true,\n                pull: function() {\n                    if (!handler._pulled) {\n                        handler._pulled = true;\n                        handler.dataSource.read(pullParameters.call(listView, handler._first));\n                    }\n                },\n                messages: {\n                    pullTemplate: options.messages.pullTemplate,\n                    releaseTemplate: options.messages.releaseTemplate,\n                    refreshTemplate: options.messages.refreshTemplate\n                }\n            });\n        },\n\n        setDataSource: function(dataSource) {\n            var handler = this;\n\n            this._first = dataSource.view()[0];\n            this.dataSource = dataSource;\n\n            dataSource.bind(\"change\", function() {\n                handler._change();\n            });\n\n            dataSource.bind(\"error\", function() {\n                handler._change();\n            });\n        },\n\n        _change: function() {\n            var scroller = this.scroller,\n                dataSource = this.dataSource;\n\n            if (this._pulled) {\n                scroller.pullHandled();\n            }\n\n            if (this._pulled || !this._first) {\n                var view = dataSource.view();\n\n                if (view[0]) {\n                    this._first = view[0];\n                }\n            }\n\n            this._pulled = false;\n        }\n    });\n\n    var VirtualList = kendo.Observable.extend({\n        init: function(options) {\n            var list = this;\n\n            kendo.Observable.fn.init.call(list);\n\n            list.buffer = options.buffer;\n            list.height = options.height;\n            list.item = options.item;\n            list.items = [];\n            list.footer = options.footer;\n\n            list.buffer.bind(\"reset\", function() {\n                list.refresh();\n            });\n\n        },\n\n        refresh: function() {\n            var buffer = this.buffer,\n                items = this.items,\n                endReached = false;\n\n            while(items.length) {\n                items.pop().destroy();\n            }\n\n            this.offset = buffer.offset;\n\n            var itemConstructor = this.item,\n                prevItem,\n                item;\n\n            for (var idx = 0; idx < buffer.viewSize; idx ++) {\n                if (idx === buffer.total()) {\n                    endReached = true;\n                    break;\n                }\n                item = itemConstructor(this.content(this.offset + items.length));\n                item.below(prevItem);\n                prevItem = item;\n                items.push(item);\n            }\n\n            this.itemCount = items.length;\n\n            this.trigger(\"reset\");\n\n            this._resize();\n\n            if (endReached) {\n                this.trigger(\"endReached\");\n            }\n        },\n\n        totalHeight: function() {\n            if (!this.items[0]) {\n                return 0;\n            }\n\n            var list = this,\n                items = list.items,\n                top = items[0].top,\n                bottom = items[items.length - 1].bottom,\n                averageItemHeight = (bottom - top) / list.itemCount,\n                remainingItemsCount = list.buffer.length - list.offset - list.itemCount;\n\n            return (this.footer ? this.footer.height : 0) + bottom + remainingItemsCount * averageItemHeight;\n        },\n\n        batchUpdate: function(top) {\n            var height = this.height(),\n                items = this.items,\n                item,\n                initialOffset = this.offset;\n\n            if (!items[0]) {\n                return;\n            }\n\n            if (this.lastDirection) { // scrolling up\n                while(items[items.length - 1].bottom > top + height * 2) {\n                    if (this.offset === 0) {\n                        break;\n                    }\n\n                    this.offset --;\n                    item = items.pop();\n                    item.update(this.content(this.offset));\n                    item.above(items[0]);\n                    items.unshift(item);\n                }\n            } else { // scrolling down\n                while (items[0].top < top - height) {\n                    var nextIndex = this.offset + this.itemCount; // here, it should be offset + 1 + itemCount - 1.\n\n                    if (nextIndex === this.buffer.total()) {\n                        this.trigger(\"endReached\");\n                        break;\n                    }\n\n                    if (nextIndex === this.buffer.length) {\n                        break;\n                    }\n\n                    item = items.shift();\n                    item.update(this.content(this.offset + this.itemCount));\n                    item.below(items[items.length - 1]);\n                    items.push(item);\n                    this.offset ++;\n                }\n            }\n\n            if (initialOffset !== this.offset) {\n                this._resize();\n            }\n        },\n\n        update: function(top) {\n            var list = this,\n                items = this.items,\n                item,\n                firstItem,\n                lastItem,\n                height = this.height(),\n                itemCount = this.itemCount,\n                padding = height / 2,\n                up = (this.lastTop || 0) > top,\n                topBorder = top - padding,\n                bottomBorder = top + height + padding;\n\n            if (!items[0]) {\n                return;\n            }\n\n            this.lastTop = top;\n            this.lastDirection = up;\n\n            if (up) { // scrolling up\n               if (items[0].top > topBorder &&  // needs reorder\n                   items[items.length - 1].bottom > bottomBorder + padding && // enough padding below\n                   this.offset > 0 // we are not at the top\n                  )\n               {\n                    this.offset --;\n                    item = items.pop();\n                    firstItem = items[0];\n                    item.update(this.content(this.offset));\n                    items.unshift(item);\n\n                    item.above(firstItem);\n                    list._resize();\n               }\n            } else { // scrolling down\n                if (\n                    items[items.length - 1].bottom < bottomBorder && // needs reorder\n                    items[0].top < topBorder - padding // enough padding above\n                )\n                {\n                    var nextIndex = this.offset + itemCount; // here, it should be offset + 1 + itemCount - 1.\n\n                    if (nextIndex === this.buffer.total()) {\n                        this.trigger(\"endReached\");\n                    } else if (nextIndex !== this.buffer.length) {\n                        item = items.shift();\n                        lastItem = items[items.length - 1];\n                        items.push(item);\n                        item.update(this.content(this.offset + this.itemCount));\n                        list.offset ++;\n\n                        item.below(lastItem);\n                        list._resize();\n                    }\n                }\n            }\n        },\n\n        content: function(index) {\n            return this.buffer.at(index);\n        },\n\n        destroy: function() {\n            this.unbind();\n        },\n\n        _resize: function() {\n            var items = this.items,\n                top = 0,\n                bottom = 0,\n                firstItem = items[0],\n                lastItem = items[items.length - 1];\n\n            if (firstItem) {\n                top = firstItem.top;\n                bottom = lastItem.bottom;\n            }\n\n            this.trigger(\"resize\", { top: top, bottom: bottom });\n\n            if (this.footer) {\n                this.footer.below(lastItem);\n            }\n        }\n    });\n\n    // export for testing purposes\n    kendo.mobile.ui.VirtualList = VirtualList;\n\n    var VirtualListViewItem = kendo.Class.extend({\n        init: function(listView, dataItem) {\n            var element = listView.append([dataItem], true)[0],\n                height = element.offsetHeight;\n\n            $.extend(this, {\n                top: 0,\n                element: element,\n                listView: listView,\n                height: height,\n                bottom: height\n            });\n        },\n\n        update: function(dataItem) {\n            this.element = this.listView.setDataItem(this.element, dataItem);\n        },\n\n        above: function(item) {\n            if (item) {\n                this.height = this.element.offsetHeight;\n                this.top = item.top - this.height;\n                this.bottom = item.top;\n                putAt(this.element, this.top);\n            }\n        },\n\n        below: function(item) {\n            if (item) {\n                this.height = this.element.offsetHeight;\n                this.top = item.bottom;\n                this.bottom = this.top + this.height;\n                putAt(this.element, this.top);\n            }\n        },\n\n        destroy: function() {\n            kendo.destroy(this.element);\n            $(this.element).remove();\n        }\n    });\n\n    var LOAD_ICON = '<div><span class=\"km-icon\"></span><span class=\"km-loading-left\"></span><span class=\"km-loading-right\"></span></div>';\n    var VirtualListViewLoadingIndicator = kendo.Class.extend({\n        init: function(listView) {\n            this.element = $('<li class=\"km-load-more km-scroller-refresh\" style=\"display: none\"></li>').appendTo(listView.element);\n            this._loadIcon = $(LOAD_ICON).appendTo(this.element);\n        },\n\n        enable: function() {\n            this.element.show();\n            this.height = outerHeight(this.element, true);\n        },\n\n        disable: function() {\n            this.element.hide();\n            this.height = 0;\n        },\n\n        below: function(item) {\n            if (item) {\n                this.top = item.bottom;\n                this.bottom = this.height + this.top;\n                putAt(this.element, this.top);\n            }\n        }\n    });\n\n    var VirtualListViewPressToLoadMore = VirtualListViewLoadingIndicator.extend({\n        init: function(listView, buffer) {\n\n            this._loadIcon = $(LOAD_ICON).hide();\n            this._loadButton = $('<a class=\"km-load\">' + listView.options.messages.loadMoreText + '</a>').hide();\n            this.element = $('<li class=\"km-load-more\" style=\"display: none\"></li>').append(this._loadIcon).append(this._loadButton).appendTo(listView.element);\n\n            var loadMore = this;\n\n            this._loadButton.kendoMobileButton().data(\"kendoMobileButton\").bind(\"click\", function() {\n                loadMore._hideShowButton();\n                buffer.next();\n            });\n\n            buffer.bind(\"resize\", function() {\n                loadMore._showLoadButton();\n            });\n\n            this.height = outerHeight(this.element, true);\n            this.disable();\n        },\n\n        _hideShowButton: function() {\n            this._loadButton.hide();\n            this.element.addClass(\"km-scroller-refresh\");\n            this._loadIcon.css('display', 'block');\n        },\n\n        _showLoadButton: function() {\n            this._loadButton.show();\n            this.element.removeClass(\"km-scroller-refresh\");\n            this._loadIcon.hide();\n        }\n    });\n\n    var VirtualListViewItemBinder = kendo.Class.extend({\n        init: function(listView) {\n            var binder = this;\n\n            this.chromeHeight = outerHeight(listView.wrapper.children().not(listView.element));\n            this.listView = listView;\n            this.scroller = listView.scroller();\n            this.options = listView.options;\n\n            listView.bind(\"_dataSource\", function(e) {\n                binder.setDataSource(e.dataSource, e.empty);\n            });\n\n            listView.bind(\"resize\", function() {\n                if (!binder.list.items.length) {\n                    return;\n                }\n\n                binder.scroller.reset();\n                binder.buffer.range(0);\n                binder.list.refresh();\n            });\n\n            this.scroller.makeVirtual();\n\n            this._scroll = function(e) {\n                binder.list.update(e.scrollTop);\n            };\n            this.scroller.bind('scroll', this._scroll);\n            this._scrollEnd = function(e) {\n                binder.list.batchUpdate(e.scrollTop);\n            };\n            this.scroller.bind('scrollEnd', this._scrollEnd);\n        },\n\n        destroy: function() {\n            this.list.unbind();\n            this.buffer.unbind();\n            this.scroller.unbind('scroll', this._scroll);\n            this.scroller.unbind('scrollEnd', this._scrollEnd);\n        },\n\n        setDataSource: function(dataSource, empty) {\n            var binder = this,\n                options = this.options,\n                listView = this.listView,\n                scroller = listView.scroller(),\n                pressToLoadMore = options.loadMore,\n                pageSize,\n                buffer,\n                footer;\n\n            this.dataSource = dataSource;\n\n            pageSize = dataSource.pageSize() || options.virtualViewSize;\n\n            if (!pageSize && !empty) {\n                throw new Error(\"the DataSource does not have page size configured. Page Size setting is mandatory for the mobile listview virtual scrolling to work as expected.\");\n            }\n\n            if (this.buffer) {\n                this.buffer.destroy();\n            }\n\n            buffer = new kendo.data.Buffer(dataSource, Math.floor(pageSize / 2), pressToLoadMore);\n\n            if (pressToLoadMore) {\n                footer = new VirtualListViewPressToLoadMore(listView, buffer);\n            } else {\n                footer = new VirtualListViewLoadingIndicator(listView);\n            }\n\n            if (this.list) {\n                this.list.destroy();\n            }\n\n            var list = new VirtualList({\n                buffer: buffer,\n                footer: footer,\n                item: function(dataItem) { return new VirtualListViewItem(listView, dataItem); },\n                height: function() { return scroller.height(); }\n            });\n\n            list.bind(\"resize\", function() {\n                binder.updateScrollerSize();\n                listView.updateSize();\n            });\n\n            list.bind(\"reset\", function() {\n                binder.footer.enable();\n            });\n\n            list.bind(\"endReached\", function() {\n                footer.disable();\n                binder.updateScrollerSize();\n            });\n\n            buffer.bind(\"expand\", function() {\n                list.lastDirection = false; // expand down\n                list.batchUpdate(scroller.scrollTop);\n            });\n\n            $.extend(this, {\n                buffer: buffer,\n                scroller: scroller,\n                list: list,\n                footer: footer\n            });\n        },\n\n        updateScrollerSize: function() {\n            this.scroller.virtualSize(0, this.list.totalHeight() + this.chromeHeight);\n        },\n\n        refresh: function() {\n            this.list.refresh();\n        },\n\n        reset: function() {\n            this.buffer.range(0);\n            this.list.refresh();\n        }\n    });\n\n    var ListViewItemBinder = kendo.Class.extend({\n        init: function(listView) {\n            var binder = this;\n            this.listView = listView;\n            this.options = listView.options;\n\n            var itemBinder = this;\n\n            this._refreshHandler = function(e) {\n                itemBinder.refresh(e);\n            };\n\n            this._progressHandler = function() {\n                listView.showLoading();\n            };\n\n            listView.bind(\"_dataSource\", function(e) {\n                binder.setDataSource(e.dataSource);\n            });\n        },\n\n        destroy: function() {\n            this._unbindDataSource();\n        },\n\n        reset: function() { },\n\n        refresh: function(e) {\n            var action = e && e.action,\n                dataItems = e && e.items,\n                listView = this.listView,\n                dataSource = this.dataSource,\n                prependOnRefresh = this.options.appendOnRefresh,\n                view = dataSource.view(),\n                groups = dataSource.group(),\n                groupedMode = groups && groups[0],\n                item;\n\n\n            if (action === \"itemchange\") {\n                if(!listView._hasBindingTarget()) {\n                    item = listView.findByDataItem(dataItems)[0];\n                    if (item) {\n                        listView.setDataItem(item, dataItems[0]);\n                    }\n                }\n                return;\n            }\n\n            var removedItems, addedItems, addedDataItems;\n            var adding = (action === \"add\" && !groupedMode) || (prependOnRefresh && !listView._filter);\n            var removing = action === \"remove\" && !groupedMode;\n\n            if (adding) {\n                // no need to unbind anything\n                removedItems = [];\n            } else if (removing) {\n                // unbind the items about to be removed;\n                removedItems = listView.findByDataItem(dataItems);\n            }\n\n            if (listView.trigger(DATABINDING, { action: action || \"rebind\", items: dataItems, removedItems: removedItems, index: e && e.index })) {\n                if (this._shouldShowLoading()) {\n                    listView.hideLoading();\n                }\n                return;\n            }\n\n            if (action === \"add\" && !groupedMode) {\n                var index = view.indexOf(dataItems[0]);\n                if (index > -1) {\n                    addedItems = listView.insertAt(dataItems, index);\n                    addedDataItems = dataItems;\n                }\n            } else if (action === \"remove\" && !groupedMode) {\n                addedItems = [];\n                listView.remove(dataItems);\n            } else if (groupedMode) {\n                listView.replaceGrouped(view);\n            }\n            else if (prependOnRefresh && !listView._filter) {\n                addedItems = listView.prepend(view);\n                addedDataItems = view;\n            }\n            else {\n                listView.replace(view);\n            }\n\n            if (this._shouldShowLoading()) {\n                listView.hideLoading();\n            }\n\n            listView.trigger(DATABOUND, { ns: ui, addedItems: addedItems, addedDataItems: addedDataItems });\n        },\n\n        setDataSource: function(dataSource) {\n            if (this.dataSource) {\n                this._unbindDataSource();\n            }\n\n            this.dataSource = dataSource;\n            dataSource.bind(CHANGE, this._refreshHandler);\n\n            if (this._shouldShowLoading()) {\n                this.dataSource.bind(PROGRESS, this._progressHandler);\n            }\n        },\n\n        _unbindDataSource: function() {\n            this.dataSource.unbind(CHANGE, this._refreshHandler).unbind(PROGRESS, this._progressHandler);\n        },\n\n        _shouldShowLoading: function() {\n            var options = this.options;\n            return !options.pullToRefresh && !options.loadMore && !options.endlessScroll;\n        }\n    });\n\n    var ListViewFilter = kendo.Class.extend({\n        init: function(listView) {\n            var filter = this,\n                filterable = listView.options.filterable,\n                events = \"change paste\",\n                that = this;\n\n            this.listView = listView;\n            this.options = filterable;\n\n            listView.element.before(SEARCH_TEMPLATE({ placeholder: filterable.placeholder || \"Search...\" }));\n\n            if (filterable.autoFilter !== false) {\n                events += \" keyup\";\n            }\n\n            this.element = listView.wrapper.find(\".km-search-form\");\n\n            this.searchInput = listView.wrapper.find(\"input[type=search]\")\n                .closest(\"form\").on(\"submit\" + NS, function(e) {\n                    e.preventDefault();\n                })\n                .end()\n                .on(\"focus\" + NS, function() {\n                    filter._oldFilter = filter.searchInput.val();\n                })\n                .on(events.split(\" \").join(NS + \" \") + NS, this._filterChange.bind(this));\n\n            this.clearButton = listView.wrapper.find(\".km-filter-reset\")\n                .on(CLICK, this._clearFilter.bind(this))\n                .hide();\n\n             this._dataSourceChange = this._refreshInput.bind(this);\n             listView.bind(\"_dataSource\", function(e) {\n                 e.dataSource.bind(\"change\", that._dataSourceChange);\n             });\n        },\n\n        _refreshInput: function() {\n            var appliedFilters = this.listView.dataSource.filter();\n            var searchInput = this.listView._filter.searchInput;\n\n            if (!appliedFilters || appliedFilters.filters[0].field !== this.listView.options.filterable.field)  {\n                searchInput.val(\"\");\n            } else {\n                searchInput.val(appliedFilters.filters[0].value);\n            }\n        },\n\n        _search: function(expr) {\n            this._filter = true;\n            this.clearButton[expr ? \"show\" : \"hide\"]();\n            this.listView.dataSource.filter(expr);\n        },\n\n        _filterChange: function(e) {\n            var filter = this;\n            if (e.type == \"paste\" && this.options.autoFilter !== false) {\n                setTimeout(function() {\n                    filter._applyFilter();\n                }, 1);\n            } else {\n                this._applyFilter();\n            }\n        },\n\n        _applyFilter: function() {\n            var options = this.options,\n                value = this.searchInput.val(),\n                expr = value.length ? {\n                    field: options.field,\n                    operator: options.operator || \"startswith\",\n                    ignoreCase: options.ignoreCase,\n                    value: value\n                } : null;\n\n            if (value === this._oldFilter) {\n                return;\n            }\n\n            this._oldFilter = value;\n            this._search(expr);\n        },\n\n        _clearFilter: function(e) {\n            this.searchInput.val(\"\");\n            this._search(null);\n\n            e.preventDefault();\n        }\n    });\n\n    var ListView = Widget.extend({\n        init: function(element, options) {\n            var listView = this;\n\n            Widget.fn.init.call(this, element, options);\n\n            element = this.element;\n\n            options = this.options;\n\n            // support for legacy typo in configuration options: scrollTreshold -> scrollThreshold.\n            if (options.scrollTreshold) {\n                options.scrollThreshold = options.scrollTreshold;\n            }\n\n            element\n                .on(\"down\", HIGHLIGHT_SELECTOR, \"_highlight\")\n                .on(\"move up cancel\", HIGHLIGHT_SELECTOR, \"_dim\");\n\n            this._userEvents = new kendo.UserEvents(element, {\n                fastTap: true,\n                filter: ITEM_SELECTOR,\n                allowSelection: true,\n                tap: function(e) {\n                    listView._click(e);\n                }\n            });\n\n            // HACK!!! to negate the ms touch action from the user events.\n            element.css(\"-ms-touch-action\", \"auto\");\n\n            element.wrap(WRAPPER);\n\n            this.wrapper = this.element.parent();\n\n            this._headerFixer = new HeaderFixer(this);\n\n            this._itemsCache = {};\n            this._templates();\n\n            this.virtual = options.endlessScroll || options.loadMore;\n\n            this._style();\n\n            if (this.options.$angular && (this.virtual || this.options.pullToRefresh)) {\n                setTimeout(this._start.bind(this));\n            } else {\n                this._start();\n            }\n\n        },\n\n        _start: function() {\n            var options = this.options;\n\n            if (this.options.filterable) {\n                this._filter = new ListViewFilter(this);\n            }\n\n            if (this.virtual) {\n                this._itemBinder = new VirtualListViewItemBinder(this);\n            } else {\n                this._itemBinder = new ListViewItemBinder(this);\n            }\n\n            if (this.options.pullToRefresh) {\n                this._pullToRefreshHandler = new RefreshHandler(this);\n            }\n\n            this.setDataSource(options.dataSource);\n\n            this._enhanceItems(this.items());\n\n            kendo.notify(this, ui);\n        },\n\n        events: [\n            CLICK,\n            DATABINDING,\n            DATABOUND,\n            ITEM_CHANGE\n        ],\n\n        options: {\n            name: \"ListView\",\n            style: \"\",\n            type: \"flat\",\n            autoBind: true,\n            fixedHeaders: false,\n            template: \"#:data#\",\n            headerTemplate: '<span class=\"km-text\">#:value#</span>',\n            appendOnRefresh: false,\n            loadMore: false,\n            endlessScroll: false,\n            scrollThreshold: 30,\n            pullToRefresh: false,\n            messages: {\n                loadMoreText: \"Press to load more\",\n                pullTemplate: \"Pull to refresh\",\n                releaseTemplate: \"Release to refresh\",\n                refreshTemplate: \"Refreshing\"\n            },\n            pullOffset: 140,\n            filterable: false,\n            virtualViewSize: null\n        },\n\n        refresh: function() {\n            this._itemBinder.refresh();\n        },\n\n        reset: function() {\n            this._itemBinder.reset();\n        },\n\n        setDataSource: function(dataSource) {\n            // the listView should have a ready datasource for MVVM to function properly. But an empty datasource should not empty the element\n            var emptyDataSource = !dataSource;\n            this.dataSource = DataSource.create(dataSource);\n\n            this.trigger(\"_dataSource\", { dataSource: this.dataSource, empty: emptyDataSource });\n\n            if (this.options.autoBind && !emptyDataSource) {\n                this.items().remove();\n                this.dataSource.fetch();\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.destroy(this.element);\n            this._userEvents.destroy();\n            if (this._itemBinder) {\n                this._itemBinder.destroy();\n            }\n\n            if(this._headerFixer) {\n                this._headerFixer.destroy();\n            }\n\n            this.element.unwrap();\n            delete this.element;\n            delete this.wrapper;\n            delete this._userEvents;\n        },\n\n        items: function() {\n            if (this.options.type === \"group\") {\n                return this.element.find(\".km-list\").children();\n            } else {\n                return this.element.children().not('.km-load-more');\n            }\n        },\n\n        scroller: function() {\n            if (!this._scrollerInstance) {\n                this._scrollerInstance = this.element.closest(\".km-scroll-wrapper\").data(\"kendoMobileScroller\");\n            }\n\n            return this._scrollerInstance;\n        },\n\n        showLoading: function() {\n            var view = this.view();\n            if (view && view.loader) {\n                view.loader.show();\n            }\n        },\n\n        hideLoading: function() {\n            var view = this.view();\n            if (view && view.loader) {\n                view.loader.hide();\n            }\n        },\n\n        insertAt: function(dataItems, index, triggerChange) {\n            var listView = this;\n            return listView._renderItems(dataItems, function(items) {\n                if (index === 0) {\n                    listView.element.prepend(items);\n                }\n                else if (index === -1) {\n                    listView.element.append(items);\n                } else {\n                    listView.items().eq(index - 1).after(items);\n                }\n\n                if (triggerChange) {\n                    for (var i = 0; i < items.length; i ++) {\n                        listView.trigger(ITEM_CHANGE, { item: items.eq(i), data: dataItems[i], ns: ui });\n                    }\n                }\n            });\n        },\n\n        append: function(dataItems, triggerChange) {\n            return this.insertAt(dataItems, -1, triggerChange);\n        },\n\n        prepend: function(dataItems, triggerChange) {\n            return this.insertAt(dataItems, 0, triggerChange);\n        },\n\n        replace: function(dataItems) {\n            this.options.type = \"flat\";\n            this._angularItems(\"cleanup\");\n            kendo.destroy(this.element.children());\n            this.element.empty();\n            this._userEvents.cancel();\n            this._style();\n            return this.insertAt(dataItems, 0);\n        },\n\n        replaceGrouped: function(groups) {\n            this.options.type = \"group\";\n            this._angularItems(\"cleanup\");\n            this.element.empty();\n            var items = $(kendo.render(this.groupTemplate, groups));\n\n            this._enhanceItems(items.children(\"ul\").children(\"li\"));\n            this.element.append(items);\n            mobile.init(items);\n            this._style();\n            this._angularItems(\"compile\");\n        },\n\n        remove: function(dataItems) {\n            var items = this.findByDataItem(dataItems);\n            this.angular(\"cleanup\", function(){\n                return { elements: items };\n            });\n            kendo.destroy(items);\n            items.remove();\n        },\n\n        findByDataItem: function(dataItems) {\n            var selectors = [];\n\n            for (var idx = 0, length = dataItems.length; idx < length; idx ++) {\n                selectors[idx] = \"[data-\" + kendo.ns + \"uid=\" + dataItems[idx].uid + \"]\";\n            }\n\n            return this.element.find(selectors.join(\",\"));\n        },\n\n        // item is a DOM element, not jQuery object.\n        setDataItem: function(item, dataItem) {\n            var listView = this,\n                replaceItem = function(items) {\n                    var newItem = $(items[0]);\n                    kendo.destroy(item);\n                    listView.angular(\"cleanup\", function(){ return { elements: [ $(item) ] }; });\n                    $(item).replaceWith(newItem);\n                    listView.trigger(ITEM_CHANGE, { item: newItem, data: dataItem, ns: ui });\n                };\n\n            return this._renderItems([dataItem], replaceItem)[0];\n        },\n\n        updateSize: function() {\n            this._size = this.getSize();\n        },\n\n        _renderItems: function(dataItems, callback) {\n            var items = $(kendo.render(this.template, dataItems));\n\n            callback(items);\n\n            this.angular(\"compile\", function() {\n                return {\n                    elements: items,\n                    data: dataItems.map(function(data){\n                        return { dataItem: data };\n                    })\n                };\n            });\n\n            mobile.init(items);\n            this._enhanceItems(items);\n\n            return items;\n        },\n\n        _dim: function(e) {\n            this._toggle(e, false);\n        },\n\n        _highlight: function(e) {\n            this._toggle(e, true);\n        },\n\n        _toggle: function(e, highlight) {\n            if (e.which > 1) {\n                return;\n            }\n\n            var clicked = $(e.currentTarget),\n                item = clicked.parent(),\n                role = attrValue(clicked, \"role\") || \"\",\n                plainItem = (!role.match(buttonRegExp)),\n                prevented = e.isDefaultPrevented();\n\n            if (plainItem) {\n                item.toggleClass(ACTIVE_CLASS, highlight && !prevented);\n            }\n        },\n\n        _templates: function() {\n            var template = this.options.template,\n                headerTemplate = this.options.headerTemplate,\n                dataIDAttribute = ' data-uid=\"#=arguments[0].uid || \"\"#\"',\n                templateProxy = {},\n                groupTemplateProxy = {};\n\n            if (typeof template === FUNCTION) {\n                templateProxy.template = template;\n                template = \"#=this.template(data)#\";\n            }\n\n            this.template = kendo.template(\"<li\" + dataIDAttribute + \">\" + template + \"</li>\").bind(templateProxy);\n\n            groupTemplateProxy.template = this.template;\n\n            if (typeof headerTemplate === FUNCTION) {\n                groupTemplateProxy._headerTemplate = headerTemplate;\n                headerTemplate = \"#=this._headerTemplate(data)#\";\n            }\n\n            groupTemplateProxy.headerTemplate = kendo.template(headerTemplate);\n\n            this.groupTemplate = GROUP_TEMPLATE.bind(groupTemplateProxy);\n        },\n\n        _click: function(e) {\n            if (e.event.which > 1 || e.event.isDefaultPrevented()) {\n                return;\n            }\n\n            var dataItem,\n                item = e.target,\n                target = $(e.event.target),\n                buttonElement = target.closest(kendo.roleSelector(\"button\", \"detailbutton\", \"backbutton\")),\n                button = kendo.widgetInstance(buttonElement, ui),\n                id = item.attr(kendo.attr(\"uid\"));\n\n            if (id) {\n                dataItem = this.dataSource.getByUid(id);\n            }\n\n            if (this.trigger(CLICK, {target: target, item: item, dataItem: dataItem, button: button})) {\n                e.preventDefault();\n            }\n        },\n\n        _styleGroups: function() {\n            var rootItems = this.element.children();\n\n            rootItems.children(\"ul\").addClass(\"km-list\");\n\n            rootItems.each(function() {\n                var li = $(this),\n                    groupHeader = li.contents().first();\n\n                li.addClass(\"km-group-container\");\n                if (!groupHeader.is(\"ul\") && !groupHeader.is(\"div.\" + GROUP_CLASS)) {\n                    groupHeader.wrap(GROUP_WRAPPER);\n                }\n            });\n        },\n\n        _style: function() {\n            var options = this.options,\n                grouped = options.type === \"group\",\n                element = this.element,\n                inset = options.style === \"inset\";\n\n            element.addClass(\"km-listview\")\n                .toggleClass(\"km-list\", !grouped)\n                .toggleClass(\"km-virtual-list\", this.virtual)\n                .toggleClass(\"km-listinset\", !grouped && inset)\n                .toggleClass(\"km-listgroup\", grouped && !inset)\n                .toggleClass(\"km-listgroupinset\", grouped && inset);\n\n            if (!element.parents(\".km-listview\")[0]) {\n                element.closest(\".km-content\").toggleClass(\"km-insetcontent\", inset); // iOS has white background when the list is not inset.\n            }\n\n            if (grouped) {\n                this._styleGroups();\n            }\n\n            this.trigger(STYLED);\n        },\n\n        _enhanceItems: function(items) {\n            items.each(function() {\n                var item = $(this),\n                    child,\n                    enhanced = false;\n\n                item.children().each(function() {\n                    child = $(this);\n                    if (child.is(\"a\")) {\n                        enhanceLinkItem(child);\n                        enhanced = true;\n                    } else if (child.is(\"label\")) {\n                        enhanceCheckBoxItem(child);\n                        enhanced = true;\n                    }\n                });\n\n                if (!enhanced) {\n                    enhanceItem(item);\n                }\n            });\n        }\n    });\n\n    ui.plugin(ListView);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.navbar',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.navbar\",\n    name: \"NavBar\",\n    category: \"mobile\",\n    description: \"The Kendo mobile NavBar widget is used inside a mobile View or Layout Header element to display an application navigation bar.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        Widget = ui.Widget;\n\n    function createContainer(align, element) {\n        var items = element.find(\"[\" + kendo.attr(\"align\") + \"=\" + align + \"]\");\n\n        if (items[0]) {\n            return $('<div class=\"km-' + align + 'item\" />').append(items).prependTo(element);\n        }\n    }\n\n    function toggleTitle(centerElement) {\n        var siblings = centerElement.siblings(),\n            noTitle = !!centerElement.children(\"ul\")[0],\n            showTitle = (!!siblings[0] && kendo.trim(centerElement.text()) === \"\"),\n            android = !!(kendo.mobile.application && kendo.mobile.application.element.is(\".km-android\"));\n\n        centerElement.prevAll().toggleClass(\"km-absolute\", noTitle);\n        centerElement.toggleClass(\"km-show-title\", showTitle);\n        centerElement.toggleClass(\"km-fill-title\", showTitle && !kendo.trim(centerElement.html()));\n        centerElement.toggleClass(\"km-no-title\", noTitle);\n        centerElement.toggleClass(\"km-hide-title\", android && !siblings.children().is(\":visible\"));\n    }\n\n    var NavBar = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.element;\n\n            that.container().bind(\"show\", this.refresh.bind(this));\n\n            element.addClass(\"km-navbar\").wrapInner($('<div class=\"km-view-title km-show-title\" />'));\n            that.leftElement = createContainer(\"left\", element);\n            that.rightElement = createContainer(\"right\", element);\n            that.centerElement = element.find(\".km-view-title\");\n        },\n\n        options: {\n            name: \"NavBar\"\n        },\n\n        title: function(value) {\n            this.element.find(kendo.roleSelector(\"view-title\")).text(value);\n            toggleTitle(this.centerElement);\n        },\n\n        refresh: function(e) {\n            var view = e.view;\n            this.title(view.options.title);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.destroy(this.element);\n        }\n    });\n\n    ui.plugin(NavBar);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.scrollview',[ \"./kendo.fx\", \"./kendo.data\", \"./kendo.draganddrop\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.scrollview\",\n    name: \"ScrollView\",\n    category: \"mobile\",\n    description: \"The Kendo Mobile ScrollView widget is used to scroll content wider than the device screen.\",\n    depends: [ \"fx\", \"data\", \"draganddrop\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        Transition = kendo.effects.Transition,\n        Pane = kendo.ui.Pane,\n        PaneDimensions = kendo.ui.PaneDimensions,\n        Widget = ui.DataBoundWidget,\n        DataSource = kendo.data.DataSource,\n        Buffer = kendo.data.Buffer,\n        BatchBuffer = kendo.data.BatchBuffer,\n\n        // Math\n        math = Math,\n        abs  = math.abs,\n        ceil = math.ceil,\n        round = math.round,\n        max = math.max,\n        min = math.min,\n        floor = math.floor,\n\n        CHANGE = \"change\",\n        CHANGING = \"changing\",\n        REFRESH = \"refresh\",\n        CURRENT_PAGE_CLASS = \"current-page\",\n        VIRTUAL_PAGE_CLASS = \"virtual-page\",\n        FUNCTION = \"function\",\n        ITEM_CHANGE = \"itemChange\",\n        CLEANUP = \"cleanup\",\n\n        VIRTUAL_PAGE_COUNT = 3,\n        LEFT_PAGE = -1,\n        CETER_PAGE = 0,\n        RIGHT_PAGE = 1,\n\n        LEFT_SWIPE = -1,\n        NUDGE = 0,\n        RIGHT_SWIPE = 1;\n\n    function className(name) {\n        return \"k-\" + name + \" km-\" + name;\n    }\n\n    var Pager = kendo.Class.extend({\n        init: function(scrollView) {\n            var that = this,\n                element = $(\"<ol class='\" + className(\"pages\") + \"'/>\");\n\n            scrollView.element.append(element);\n\n            this._changeProxy = that._change.bind(that);\n            this._refreshProxy = that._refresh.bind(that);\n            scrollView.bind(CHANGE, this._changeProxy);\n            scrollView.bind(REFRESH, this._refreshProxy);\n\n            $.extend(that, { element: element, scrollView: scrollView });\n        },\n\n        items: function() {\n            return this.element.children();\n        },\n\n        _refresh: function(e) {\n            var pageHTML = \"\";\n\n            for (var idx = 0; idx < e.pageCount; idx ++) {\n                pageHTML += \"<li></li>\";\n            }\n\n            this.element.html(pageHTML);\n            this.items().eq(e.page).addClass(className(CURRENT_PAGE_CLASS));\n        },\n\n        _change: function(e) {\n            this.items()\n                .removeClass(className(CURRENT_PAGE_CLASS))\n                .eq(e.page).addClass(className(CURRENT_PAGE_CLASS));\n        },\n\n        destroy: function() {\n            this.scrollView.unbind(CHANGE, this._changeProxy);\n            this.scrollView.unbind(REFRESH, this._refreshProxy);\n            this.element.remove();\n        }\n    });\n\n    kendo.mobile.ui.ScrollViewPager = Pager;\n\n    var TRANSITION_END = \"transitionEnd\",\n        DRAG_START = \"dragStart\",\n        DRAG_END = \"dragEnd\";\n\n    var ElasticPane = kendo.Observable.extend({\n        init: function(element, options) {\n            var that = this;\n\n            kendo.Observable.fn.init.call(this);\n\n            this.element = element;\n            this.container = element.parent();\n\n            var movable,\n                transition,\n                userEvents,\n                dimensions,\n                dimension,\n                pane;\n\n            movable = new kendo.ui.Movable(that.element);\n\n            transition = new Transition({\n                axis: \"x\",\n                movable: movable,\n                onEnd: function() {\n                    that.trigger(TRANSITION_END);\n                }\n            });\n\n            userEvents = new kendo.UserEvents(element, {\n                fastTap: true,\n                start: function(e) {\n                    if (abs(e.x.velocity) * 2 >= abs(e.y.velocity)) {\n                        userEvents.capture();\n                    } else {\n                        userEvents.cancel();\n                    }\n\n                    that.trigger(DRAG_START, e);\n                    transition.cancel();\n                },\n                allowSelection: true,\n                end: function(e) {\n                    that.trigger(DRAG_END, e);\n                }\n            });\n\n            dimensions = new PaneDimensions({\n                element: that.element,\n                container: that.container\n            });\n\n            dimension = dimensions.x;\n\n            dimension.bind(CHANGE, function() {\n                that.trigger(CHANGE);\n            });\n\n            pane = new Pane({\n                dimensions: dimensions,\n                userEvents: userEvents,\n                movable: movable,\n                elastic: true\n            });\n\n            $.extend(that, {\n                duration: options && options.duration || 1,\n                movable: movable,\n                transition: transition,\n                userEvents: userEvents,\n                dimensions: dimensions,\n                dimension: dimension,\n                pane: pane\n            });\n\n            this.bind([TRANSITION_END, DRAG_START, DRAG_END, CHANGE], options);\n        },\n\n        size: function() {\n            return { width: this.dimensions.x.getSize(), height: this.dimensions.y.getSize() };\n        },\n\n        total: function() {\n            return this.dimension.getTotal();\n        },\n\n        offset: function() {\n            return -this.movable.x;\n        },\n\n        updateDimension: function() {\n            this.dimension.update(true);\n        },\n\n        refresh: function() {\n            this.dimensions.refresh();\n        },\n\n        moveTo: function(offset) {\n            this.movable.moveAxis(\"x\", -offset);\n        },\n\n        transitionTo: function(offset, ease, instant) {\n            if (instant) {\n                this.moveTo(-offset);\n            } else {\n                this.transition.moveTo({ location: offset, duration: this.duration, ease: ease });\n            }\n        }\n    });\n\n    kendo.mobile.ui.ScrollViewElasticPane = ElasticPane;\n\n    var ScrollViewContent = kendo.Observable.extend({\n        init: function(element, pane, options) {\n            var that = this;\n\n            kendo.Observable.fn.init.call(this);\n            that.element = element;\n            that.pane = pane;\n            that._getPages();\n            this.page = 0;\n            this.pageSize = options.pageSize || 1;\n            this.contentHeight = options.contentHeight;\n            this.enablePager = options.enablePager;\n            this.pagerOverlay = options.pagerOverlay;\n        },\n\n        scrollTo: function(page, instant) {\n            this.page = page;\n            this.pane.transitionTo(- page * this.pane.size().width, Transition.easeOutExpo, instant);\n        },\n\n        paneMoved: function(swipeType, bounce, callback, /*internal*/ instant) {\n            var that = this,\n                pane = that.pane,\n                width = pane.size().width * that.pageSize,\n                approx = round,\n                ease = bounce ? Transition.easeOutBack : Transition.easeOutExpo,\n                snap,\n                nextPage;\n\n            if (swipeType === LEFT_SWIPE) {\n                approx = ceil;\n            } else if (swipeType === RIGHT_SWIPE) {\n                approx = floor;\n            }\n\n            nextPage = approx(pane.offset() / width);\n\n            snap = max(that.minSnap, min(-nextPage * width, that.maxSnap));\n\n            if (nextPage != that.page) {\n                if (callback && callback({ currentPage: that.page, nextPage: nextPage })) {\n                    snap = -that.page * pane.size().width;\n                }\n            }\n\n            pane.transitionTo(snap, ease, instant);\n        },\n\n        updatePage: function() {\n            var pane = this.pane,\n                page = round(pane.offset() / pane.size().width);\n\n            if (page != this.page) {\n                this.page = page;\n                return true;\n            }\n\n            return false;\n        },\n\n        forcePageUpdate: function() {\n            return this.updatePage();\n        },\n\n        resizeTo: function(size) {\n            var pane = this.pane,\n                width = size.width;\n\n            this.pageElements.width(width);\n\n            if (this.contentHeight === \"100%\") {\n                var containerHeight = this.element.parent().height();\n\n                if (this.enablePager === true) {\n                    var pager = this.element.parent().find(\"ol.km-pages\");\n                    if (!this.pagerOverlay && pager.length) {\n                        containerHeight -= kendo._outerHeight(pager, true);\n                    }\n                }\n\n                this.element.css(\"height\", containerHeight);\n                this.pageElements.css(\"height\", containerHeight);\n            }\n\n            // re-read pane dimension after the pageElements have been resized.\n            pane.updateDimension();\n\n            if (!this._paged) {\n                this.page = floor(pane.offset() / width);\n            }\n\n            this.scrollTo(this.page, true);\n\n            this.pageCount = ceil(pane.total() / width);\n            this.minSnap = - (this.pageCount - 1) * width;\n            this.maxSnap = 0;\n        },\n\n        _getPages: function() {\n            this.pageElements = this.element.find(kendo.roleSelector(\"page\"));\n            this._paged = this.pageElements.length > 0;\n        }\n    });\n\n    kendo.mobile.ui.ScrollViewContent = ScrollViewContent;\n\n    var VirtualScrollViewContent = kendo.Observable.extend({\n        init: function(element, pane, options) {\n            var that = this;\n\n            kendo.Observable.fn.init.call(this);\n\n            that.element = element;\n            that.pane = pane;\n            that.options = options;\n            that._templates();\n            that.page = options.page || 0;\n            that.pages = [];\n            that._initPages();\n            that.resizeTo(that.pane.size());\n\n            that.pane.dimension.forceEnabled();\n        },\n\n        setDataSource: function(dataSource) {\n            this.dataSource = DataSource.create(dataSource);\n            this._buffer();\n            this._pendingPageRefresh = false;\n            this._pendingWidgetRefresh = false;\n        },\n\n        _viewShow: function() {\n            var that = this;\n            if (that._pendingWidgetRefresh) {\n                setTimeout(function() {\n                    that._resetPages();\n                }, 0);\n                that._pendingWidgetRefresh = false;\n            }\n        },\n\n        _buffer: function() {\n            var itemsPerPage = this.options.itemsPerPage;\n\n            if (this.buffer) {\n                this.buffer.destroy();\n            }\n\n            if (itemsPerPage > 1) {\n                this.buffer = new BatchBuffer(this.dataSource, itemsPerPage);\n            } else {\n                this.buffer = new Buffer(this.dataSource, itemsPerPage * 3);\n            }\n\n            this._resizeProxy = this._onResize.bind(this);\n            this._resetProxy = this._onReset.bind(this);\n            this._endReachedProxy = this._onEndReached.bind(this);\n\n            this.buffer.bind({\n                \"resize\": this._resizeProxy,\n                \"reset\": this._resetProxy,\n                \"endreached\": this._endReachedProxy\n            });\n        },\n\n        _templates: function() {\n            var template = this.options.template,\n                emptyTemplate = this.options.emptyTemplate,\n                templateProxy = {},\n                emptyTemplateProxy = {};\n\n            if (typeof template === FUNCTION) {\n                templateProxy.template = template;\n                template = \"#=this.template(data)#\";\n            }\n\n            this.template = kendo.template(template).bind(templateProxy);\n\n            if (typeof emptyTemplate === FUNCTION) {\n                emptyTemplateProxy.emptyTemplate = emptyTemplate;\n                emptyTemplate = \"#=this.emptyTemplate(data)#\";\n            }\n\n            this.emptyTemplate = kendo.template(emptyTemplate).bind(emptyTemplateProxy);\n        },\n\n        _initPages: function() {\n            var pages = this.pages,\n                element = this.element,\n                page;\n\n            for (var i = 0; i < VIRTUAL_PAGE_COUNT; i++) {\n                page = new Page(element);\n                pages.push(page);\n            }\n\n            this.pane.updateDimension();\n        },\n\n        resizeTo: function(size) {\n            var pages = this.pages,\n                pane = this.pane;\n\n            for (var i = 0; i < pages.length; i++) {\n                pages[i].setWidth(size.width);\n            }\n\n            if (this.options.contentHeight === \"auto\") {\n                this.element.css(\"height\", this.pages[1].element.height());\n            }\n\n            else if (this.options.contentHeight === \"100%\") {\n                var containerHeight = this.element.parent().height();\n\n                if (this.options.enablePager === true) {\n                    var pager = this.element.parent().find(\"ol.km-pages\");\n                    if (!this.options.pagerOverlay && pager.length) {\n                        containerHeight -= kendo._outerHeight(pager, true);\n                    }\n                }\n\n                this.element.css(\"height\", containerHeight);\n                pages[0].element.css(\"height\", containerHeight);\n                pages[1].element.css(\"height\", containerHeight);\n                pages[2].element.css(\"height\", containerHeight);\n            }\n\n            pane.updateDimension();\n\n            this._repositionPages();\n\n            this.width = size.width;\n        },\n\n        scrollTo: function(page) {\n            var buffer = this.buffer,\n                dataItem;\n\n            buffer.syncDataSource();\n            dataItem = buffer.at(page);\n\n            if (!dataItem) {\n                return;\n            }\n\n            this._updatePagesContent(page);\n\n            this.page = page;\n        },\n\n        paneMoved: function(swipeType, bounce, callback, /*internal*/ instant) {\n            var that = this,\n                pane = that.pane,\n                width = pane.size().width,\n                offset = pane.offset(),\n                thresholdPassed = Math.abs(offset) >= width / 3,\n                ease = bounce ? kendo.effects.Transition.easeOutBack : kendo.effects.Transition. easeOutExpo,\n                isEndReached = that.page + 2 > that.buffer.total(),\n                nextPage,\n                delta = 0;\n\n            if (swipeType === RIGHT_SWIPE) {\n                if (that.page !== 0) {\n                    delta = -1; //backward\n                }\n            } else if (swipeType === LEFT_SWIPE && !isEndReached) {\n                delta = 1; //forward\n            } else if (offset > 0 && (thresholdPassed && !isEndReached)) {\n                delta = 1; //forward\n            } else if (offset < 0 && thresholdPassed) {\n                if (that.page !== 0) {\n                    delta = -1; //backward\n                }\n            }\n\n            nextPage = that.page;\n            if (delta) {\n                nextPage = (delta > 0) ? nextPage + 1 : nextPage - 1;\n            }\n\n            if (callback && callback({ currentPage: that.page, nextPage: nextPage })) {\n                delta = 0;\n            }\n\n            if (delta === 0) {\n                that._cancelMove(ease, instant);\n            } else if (delta === -1) {\n                that._moveBackward(instant);\n            } else if (delta === 1) {\n                that._moveForward(instant);\n            }\n        },\n\n        updatePage: function() {\n            var pages = this.pages;\n\n            if (this.pane.offset() === 0) {\n                return false;\n            }\n\n            if (this.pane.offset() > 0) {\n                pages.push(this.pages.shift());//forward\n                this.page++;\n                this.setPageContent(pages[2], this.page + 1);\n            } else {\n                pages.unshift(this.pages.pop()); //back\n                this.page--;\n                this.setPageContent(pages[0], this.page - 1);\n            }\n\n            this._repositionPages();\n\n            this._resetMovable();\n\n            return true;\n        },\n\n        forcePageUpdate: function() {\n            var offset = this.pane.offset(),\n                threshold  = this.pane.size().width * 3/4;\n\n            if (abs(offset) > threshold) {\n                return this.updatePage();\n            }\n\n            return false;\n        },\n\n        _resetMovable: function() {\n            this.pane.moveTo(0);\n        },\n\n        _moveForward: function(instant) {\n            this.pane.transitionTo(-this.width, kendo.effects.Transition.easeOutExpo, instant);\n        },\n\n        _moveBackward: function(instant) {\n            this.pane.transitionTo(this.width, kendo.effects.Transition.easeOutExpo, instant);\n        },\n\n        _cancelMove: function(ease, /*internal*/ instant) {\n            this.pane.transitionTo(0, ease, instant);\n        },\n\n        _resetPages: function() {\n            this.page = this.options.page || 0;\n\n            this._updatePagesContent(this.page);\n            this._repositionPages();\n\n            this.trigger(\"reset\");\n        },\n\n        _onResize: function() {\n            this.pageCount = ceil(this.dataSource.total() / this.options.itemsPerPage);\n\n            if (this._pendingPageRefresh) {\n                this._updatePagesContent(this.page);\n                this._pendingPageRefresh = false;\n            }\n\n            this.trigger(\"resize\");\n        },\n\n        _onReset: function() {\n            this.pageCount = ceil(this.dataSource.total() / this.options.itemsPerPage);\n            this._resetPages();\n        },\n\n        _onEndReached: function() {\n            this._pendingPageRefresh = true;\n        },\n\n        _repositionPages: function() {\n            var pages = this.pages;\n\n            pages[0].position(LEFT_PAGE);\n            pages[1].position(CETER_PAGE);\n            pages[2].position(RIGHT_PAGE);\n        },\n\n        _updatePagesContent: function(offset) {\n            var pages = this.pages,\n                currentPage = offset || 0;\n\n            this.setPageContent(pages[0], currentPage - 1);\n            this.setPageContent(pages[1], currentPage);\n            this.setPageContent(pages[2], currentPage + 1);\n        },\n\n        setPageContent: function(page, index) {\n            var buffer = this.buffer,\n                template = this.template,\n                emptyTemplate = this.emptyTemplate,\n                view = null;\n\n            if (index >= 0) {\n                view = buffer.at(index);\n                if (Array.isArray(view) && !view.length) {\n                    view = null;\n                }\n            }\n\n            this.trigger(CLEANUP, { item: page.element });\n\n            if (view !== null) {\n                page.content(template(view));\n            } else {\n                page.content(emptyTemplate({}));\n            }\n\n            kendo.mobile.init(page.element);\n            this.trigger(ITEM_CHANGE, { item: page.element, data: view, ns: kendo.mobile.ui });\n\n        }\n    });\n\n    kendo.mobile.ui.VirtualScrollViewContent = VirtualScrollViewContent;\n\n    var Page = kendo.Class.extend({\n        init: function(container) {\n            this.element = $(\"<div class='\" + className(VIRTUAL_PAGE_CLASS) + \"'></div>\");\n            this.width = container.width();\n            this.element.width(this.width);\n            container.append(this.element);\n        },\n\n        content: function(theContent) {\n            this.element.html(theContent);\n        },\n\n        position: function(position) { //position can be -1, 0, 1\n            this.element.css(\"transform\", \"translate3d(\" + this.width * position + \"px, 0, 0)\");\n        },\n\n        setWidth: function(width) {\n            this.width = width;\n            this.element.width(width);\n        }\n    });\n\n    kendo.mobile.ui.VirtualPage = Page;\n\n    var ScrollView = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n            element = that.element;\n\n            kendo.stripWhitespace(element[0]);\n\n            element\n                .wrapInner(\"<div/>\")\n                .addClass(\"k-widget \" + className(\"scrollview\"));\n\n            if (this.options.enablePager) {\n                this.pager = new Pager(this);\n\n                if (this.options.pagerOverlay) {\n                    element.addClass(className(\"scrollview-overlay\"));\n                }\n            }\n\n            that.inner = element.children().first();\n            that.page = 0;\n            that.inner.css(\"height\", options.contentHeight);\n\n            that.pane = new ElasticPane(that.inner, {\n                duration: this.options.duration,\n                transitionEnd: this._transitionEnd.bind(this),\n                dragStart: this._dragStart.bind(this),\n                dragEnd: this._dragEnd.bind(this),\n                change: this[REFRESH].bind(this)\n            });\n\n            that.bind(\"resize\", function() {\n                that.pane.refresh();\n            });\n\n            that.page = options.page;\n\n            var empty = this.inner.children().length === 0;\n\n            var content = empty ? new VirtualScrollViewContent(that.inner, that.pane, options) : new ScrollViewContent(that.inner, that.pane, options);\n\n            content.page = that.page;\n\n            content.bind(\"reset\", function() {\n                this._pendingPageRefresh = false;\n                that._syncWithContent();\n                that.trigger(REFRESH, { pageCount: content.pageCount, page: content.page });\n            });\n\n            content.bind(\"resize\", function() {\n                that.trigger(REFRESH, { pageCount: content.pageCount, page: content.page });\n            });\n\n            content.bind(ITEM_CHANGE, function(e) {\n                that.trigger(ITEM_CHANGE, e);\n\n                that.angular(\"compile\", function() {\n                    return { elements: e.item, data: [ { dataItem: e.data } ] };\n                });\n            });\n\n            content.bind(CLEANUP, function(e) {\n                that.angular(\"cleanup\", function() {\n                    return { elements: e.item };\n                });\n            });\n\n            that._content = content;\n            that.setDataSource(options.dataSource);\n\n            var mobileContainer = that.container();\n\n            if (mobileContainer.nullObject) {\n                that.viewInit();\n                that.viewShow();\n            } else {\n                mobileContainer.bind(\"show\", this.viewShow.bind(this)).bind(\"init\", this.viewInit.bind(this));\n            }\n        },\n\n        options: {\n            name: \"ScrollView\",\n            page: 0,\n            duration: 400,\n            velocityThreshold: 0.8,\n            contentHeight: \"auto\",\n            pageSize: 1,\n            itemsPerPage: 1,\n            bounceVelocityThreshold: 1.6,\n            enablePager: true,\n            pagerOverlay: false,\n            autoBind: true,\n            template: \"\",\n            emptyTemplate: \"\"\n        },\n\n        events: [\n            CHANGING,\n            CHANGE,\n            REFRESH\n        ],\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            kendo.destroy(this.element);\n        },\n\n        viewInit: function() {\n            if (this.options.autoBind) {\n                this._content.scrollTo(this._content.page, true);\n            }\n        },\n\n        viewShow: function() {\n            this.pane.refresh();\n        },\n\n        refresh: function() {\n            var content = this._content;\n\n            content.resizeTo(this.pane.size());\n            this.page = content.page;\n            this.trigger(REFRESH, { pageCount: content.pageCount, page: content.page });\n        },\n\n        content: function(html) {\n           this.element.children().first().html(html);\n           this._content._getPages();\n           this.pane.refresh();\n        },\n\n        value: function(item) {\n            var dataSource = this.dataSource;\n\n            if (item) {\n                this.scrollTo(dataSource.indexOf(item), true);\n            } else {\n                return dataSource.at(this.page);\n            }\n        },\n\n        scrollTo: function(page, instant) {\n            this._content.scrollTo(page, instant);\n            this._syncWithContent();\n        },\n\n        prev: function() {\n            var that = this,\n                prevPage = that.page - 1;\n\n            if (that._content instanceof VirtualScrollViewContent) {\n                that._content.paneMoved(RIGHT_SWIPE, undefined, function(eventData) {\n                    return that.trigger(CHANGING, eventData);\n                });\n            } else if (prevPage > -1) {\n                that.scrollTo(prevPage);\n            }\n        },\n\n        next: function() {\n            var that = this,\n                nextPage = that.page + 1;\n\n            if (that._content instanceof VirtualScrollViewContent) {\n                that._content.paneMoved(LEFT_SWIPE, undefined, function(eventData) {\n                    return that.trigger(CHANGING, eventData);\n                });\n            } else if (nextPage < that._content.pageCount) {\n                that.scrollTo(nextPage);\n            }\n        },\n\n        setDataSource: function(dataSource) {\n            if (!(this._content instanceof VirtualScrollViewContent)) {\n                return;\n            }\n            // the scrollview should have a ready datasource for MVVM to function properly. But an empty datasource should not empty the element\n            var emptyDataSource = !dataSource;\n            this.dataSource = DataSource.create(dataSource);\n\n            this._content.setDataSource(this.dataSource);\n\n            if (this.options.autoBind && !emptyDataSource) {\n                // this.items().remove();\n                this.dataSource.fetch();\n            }\n        },\n\n        items: function() {\n            return this.element.find(\".km-\" + VIRTUAL_PAGE_CLASS);\n        },\n\n        _syncWithContent: function() {\n            var pages = this._content.pages,\n                buffer = this._content.buffer,\n                data,\n                element;\n\n            this.page = this._content.page;\n\n            data = buffer ? buffer.at(this.page) : undefined;\n            if (!(data instanceof Array)) {\n                data = [data];\n            }\n            element = pages ? pages[1].element : undefined;\n\n            this.trigger(CHANGE, { page: this.page, element: element, data: data });\n        },\n\n        _dragStart: function() {\n            if (this._content.forcePageUpdate()) {\n                this._syncWithContent();\n            }\n        },\n\n        _dragEnd: function(e) {\n            var that = this,\n                velocity = e.x.velocity,\n                velocityThreshold = this.options.velocityThreshold,\n                swipeType = NUDGE,\n                bounce = abs(velocity) > this.options.bounceVelocityThreshold;\n\n            if (velocity > velocityThreshold) {\n                swipeType = RIGHT_SWIPE;\n            } else if (velocity < -velocityThreshold) {\n                swipeType = LEFT_SWIPE;\n            }\n\n            this._content.paneMoved(swipeType, bounce, function(eventData) {\n                return that.trigger(CHANGING, eventData);\n            });\n        },\n\n        _transitionEnd: function() {\n            if (this._content.updatePage()) {\n                this._syncWithContent();\n            }\n        }\n    });\n\n    ui.plugin(ScrollView);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n/* jshint multistr: true */\n(function(f, define){\n    define('kendo.mobile.switch',[ \"./kendo.fx\", \"./kendo.userevents\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.switch\",\n    name: \"Switch\",\n    category: \"mobile\",\n    description: \"The mobile Switch widget is used to display two exclusive choices.\",\n    depends: [ \"fx\", \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        outerWidth = kendo._outerWidth,\n        Widget = ui.Widget,\n        support = kendo.support,\n        CHANGE = \"change\",\n        SWITCHON = \"switch-on\",\n        SWITCHOFF = \"switch-off\",\n        MARGINLEFT = \"margin-left\",\n        ACTIVE_STATE = \"state-active\",\n        DISABLED_STATE = \"state-disabled\",\n        DISABLED = \"disabled\",\n        RESOLVEDPREFIX = support.transitions.css === undefined ? \"\" : support.transitions.css,\n        TRANSFORMSTYLE = RESOLVEDPREFIX + \"transform\";\n\n    function className(name) {\n        return \"km-\" + name;\n    }\n\n    function limitValue(value, minLimit, maxLimit) {\n        return Math.max(minLimit, Math.min(maxLimit, value));\n    }\n\n    var SWITCH_MARKUP = '<span class=\"' + className(\"switch\") + ' ' + className(\"widget\") + '\">\\\n        <span class=\"' + className(\"switch-wrapper\") + '\">\\\n            <span class=\"' + className(\"switch-background\") + '\"></span>\\\n        </span> \\\n        <span class=\"' + className(\"switch-container\") + '\">\\\n            <span class=\"' + className(\"switch-handle\") + '\"> \\\n                <span class=\"' + className(\"switch-label-on\") + '\">{0}</span> \\\n                <span class=\"' + className(\"switch-label-off\") + '\">{1}</span> \\\n            </span> \\\n        </span>\\\n    </span>';\n\n    var Switch = Widget.extend({\n        init: function(element, options) {\n            var that = this, checked;\n\n            Widget.fn.init.call(that, element, options);\n\n            options = that.options;\n\n            that.wrapper = $(kendo.format(SWITCH_MARKUP, options.onLabel, options.offLabel));\n            that.handle = that.wrapper.find(\".km-switch-handle\");\n            that.background = that.wrapper.find(\".km-switch-background\");\n            that.wrapper.insertBefore(that.element).prepend(that.element);\n\n            that._drag();\n\n            that.origin = parseInt(that.background.css(MARGINLEFT), 10);\n\n            that.constrain = 0;\n            that.snapPoint = 0;\n\n            element = that.element[0];\n            element.type = \"checkbox\";\n            that._animateBackground = true;\n\n            checked = that.options.checked;\n\n            if (checked === null) {\n                checked = element.checked;\n            }\n\n            that.check(checked);\n\n            that.options.enable = that.options.enable && !that.element.attr(DISABLED);\n            that.enable(that.options.enable);\n\n            that.refresh();\n            kendo.notify(that, kendo.mobile.ui);\n        },\n\n        refresh: function() {\n            var that = this,\n                handleWidth = outerWidth(that.handle, true);\n\n            that.width = that.wrapper.width();\n\n            that.constrain  = that.width - handleWidth;\n            that.snapPoint = that.constrain / 2;\n\n            if (typeof that.origin != \"number\") {\n                that.origin = parseInt(that.background.css(MARGINLEFT), 10);\n            }\n\n            that.background.data(\"origin\", that.origin);\n\n            that.check(that.element[0].checked);\n        },\n\n        events: [\n            CHANGE\n        ],\n\n        options: {\n            name: \"Switch\",\n            onLabel: \"on\",\n            offLabel: \"off\",\n            checked: null,\n            enable: true\n        },\n\n        check: function(check) {\n            var that = this,\n                element = that.element[0];\n\n            if (check === undefined) {\n                return element.checked;\n            }\n\n            that._position(check ? that.constrain : 0);\n            element.checked = check;\n            that.wrapper\n                .toggleClass(className(SWITCHON), check)\n                .toggleClass(className(SWITCHOFF), !check);\n        },\n\n        // alias for check, NG support\n        value: function() {\n            return this.check.apply(this, arguments);\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.userEvents.destroy();\n        },\n\n        toggle: function() {\n            var that = this;\n\n            that.check(!that.element[0].checked);\n        },\n\n        enable: function(enable) {\n            var element = this.element,\n                wrapper = this.wrapper;\n\n            if(typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.options.enable = enable;\n\n            if(enable) {\n                element.prop(DISABLED, false);\n            } else {\n                element.attr(DISABLED, DISABLED);\n            }\n\n            wrapper.toggleClass(className(DISABLED_STATE), !enable);\n        },\n\n        _resize: function() {\n            this.refresh();\n        },\n\n        _move: function(e) {\n            var that = this;\n            e.preventDefault();\n            that._position(limitValue(that.position + e.x.delta, 0, that.width - outerWidth(that.handle, true)));\n        },\n\n        _position: function(position) {\n            var that = this;\n\n            that.position = position;\n            that.handle.css(TRANSFORMSTYLE, \"translatex(\" + position + \"px)\");\n\n            if (that._animateBackground) {\n                that.background.css(MARGINLEFT, that.origin + position);\n            }\n        },\n\n        _start: function() {\n            if(!this.options.enable) {\n                this.userEvents.cancel();\n            } else {\n                this.userEvents.capture();\n                this.handle.addClass(className(ACTIVE_STATE));\n            }\n        },\n\n        _stop: function() {\n            var that = this;\n\n            that.handle.removeClass(className(ACTIVE_STATE));\n            that._toggle(that.position > that.snapPoint);\n        },\n\n        _toggle: function (checked) {\n            var that = this,\n                handle = that.handle,\n                element = that.element[0],\n                value = element.checked,\n                duration = kendo.mobile.application && kendo.mobile.application.os.wp ? 100 : 200,\n                distance;\n\n            that.wrapper\n                .toggleClass(className(SWITCHON), checked)\n                .toggleClass(className(SWITCHOFF), !checked);\n\n            that.position = distance = checked * that.constrain;\n\n            if (that._animateBackground) {\n                that.background\n                    .kendoStop(true, true)\n                    .kendoAnimate({ effects: \"slideMargin\", offset: distance, reset: true, reverse: !checked, axis: \"left\", duration: duration });\n            }\n\n            handle\n                .kendoStop(true, true)\n                .kendoAnimate({\n                    effects: \"slideTo\",\n                    duration: duration,\n                    offset: distance + \"px,0\",\n                    reset: true,\n                    complete: function () {\n                        if (value !== checked) {\n                            element.checked = checked;\n                            that.trigger(CHANGE, { checked: checked });\n                        }\n                    }\n                });\n        },\n\n        _drag: function() {\n            var that = this;\n\n            that.userEvents = new kendo.UserEvents(that.wrapper, {\n                fastTap: true,\n                tap: function() {\n                    if(that.options.enable) {\n                        that._toggle(!that.element[0].checked);\n                    }\n                },\n                start: that._start.bind(that),\n                move: that._move.bind(that),\n                end: that._stop.bind(that)\n            });\n        }\n    });\n\n    ui.plugin(Switch);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.mobile.tabstrip',[ \"./kendo.core\" ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"mobile.tabstrip\",\n    name: \"TabStrip\",\n    category: \"mobile\",\n    description: \"The mobile TabStrip widget is used inside a mobile view or layout footer element to display an application-wide group of navigation buttons.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Widget = ui.Widget,\n        ACTIVE_STATE_CLASS = \"km-state-active\",\n        SELECT = \"select\";\n\n    function createBadge(value) {\n        return $('<span class=\"km-badge\">' + value + '</span>');\n    }\n\n    var TabStrip = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            that.container().bind(\"show\", this.refresh.bind(this));\n\n            that.element\n               .addClass(\"km-tabstrip\")\n               .find(\"a\").each(that._buildButton)\n               .eq(that.options.selectedIndex).addClass(ACTIVE_STATE_CLASS);\n\n            that.element.on(\"down\", \"a\", \"_release\");\n        },\n\n        events: [\n            SELECT\n        ],\n\n        switchTo: function(url) {\n            var tabs = this.element.find('a'),\n                tab,\n                path,\n                idx = 0,\n                length = tabs.length;\n\n            if(isNaN(url)) {\n                for (; idx < length; idx ++) {\n                    tab = tabs[idx];\n                    path = tab.href.replace(/(\\#.+)(\\?.+)$/, \"$1\"); // remove the fragment query string - http://www.foo.com?foo#bar**?baz=qux**\n\n                    if (path.indexOf(url, path.length - url.length) !== -1) {\n                        this._setActiveItem($(tab));\n                        return true;\n                    }\n                }\n            } else {\n                this._setActiveItem(tabs.eq(url));\n                return true;\n            }\n\n            return false;\n        },\n\n        switchByFullUrl: function(url) {\n            var tab;\n\n            tab = this.element.find(\"a[href$='\" + url + \"']\");\n            this._setActiveItem(tab);\n        },\n\n        clear: function() {\n            this.currentItem().removeClass(ACTIVE_STATE_CLASS);\n        },\n\n        currentItem: function() {\n            return this.element.children(\".\" + ACTIVE_STATE_CLASS);\n        },\n\n        badge: function(item, value) {\n            var tabstrip = this.element, badge;\n\n            if (!isNaN(item)) {\n                item = tabstrip.children().get(item);\n            }\n\n            item = tabstrip.find(item);\n            badge = $(item.find(\".km-badge\")[0] || createBadge(value).insertAfter(item.children(\".km-icon\")));\n\n            if (value || value === 0) {\n                badge.html(value);\n                return this;\n            }\n\n            if (value === false) {\n                badge.empty().remove();\n                return this;\n            }\n\n            return badge.html();\n        },\n\n        _release: function(e) {\n            if (e.which > 1) {\n                return;\n            }\n\n            var that = this,\n                item = $(e.currentTarget);\n\n            if (item[0] === that.currentItem()[0]) {\n                return;\n            }\n\n            if (that.trigger(SELECT, {item: item})) {\n                e.preventDefault();\n            } else {\n                that._setActiveItem(item);\n            }\n        },\n\n        _setActiveItem: function(item) {\n            if (!item[0]) {\n                return;\n            }\n            this.clear();\n            item.addClass(ACTIVE_STATE_CLASS);\n        },\n\n        _buildButton: function() {\n            var button = $(this),\n                icon = kendo.attrValue(button, \"icon\"),\n                badge = kendo.attrValue(button, \"badge\"),\n                image = button.find(\"img\"),\n                iconSpan = $('<span class=\"km-icon\"/>');\n\n            button\n                .addClass(\"km-button\")\n                .attr(kendo.attr(\"role\"), \"tab\")\n                    .contents().not(image)\n                    .wrapAll('<span class=\"km-text\"/>');\n\n            if (image[0]) {\n                image.addClass(\"km-image\").prependTo(button);\n            } else {\n                button.prepend(iconSpan);\n                if (icon) {\n                    iconSpan.addClass(\"km-\" + icon);\n                    if (badge || badge === 0) {\n                        createBadge(badge).insertAfter(iconSpan);\n                    }\n                }\n            }\n        },\n\n        refresh: function(e) {\n            var url = e.view.id;\n\n            if (url && !this.switchTo(e.view.id)) {\n                this.switchTo(url);\n            }\n        },\n\n        options: {\n            name: \"TabStrip\",\n            selectedIndex: 0,\n            enable: true\n        }\n    });\n\n    ui.plugin(TabStrip);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.angular',[ \"./kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = { // jshint ignore:line\n    id: \"angular\",\n    name: \"AngularJS Directives\",\n    category: \"framework\",\n    description: \"Adds Kendo UI for AngularJS directives\",\n    depends: [ \"core\" ],\n    defer: true\n};\n\n(function ($, angular, undefined) {\n    \"use strict\";\n\n    // Angular2 exposes a global angular object, but it does not have an injector...\n    if (!angular || !angular.injector) {\n        return;\n    }\n\n    /*jshint eqnull:true,loopfunc:true,-W052,-W028  */\n\n    var module = angular.module('kendo.directives', []),\n        $injector = angular.injector(['ng']),\n        $parse = $injector.get('$parse'),\n        $timeout = $injector.get('$timeout'),\n        $defaultCompile,\n        $log = $injector.get('$log');\n\n    function withoutTimeout(f) {\n        var save = $timeout;\n        try {\n            $timeout = function(f){ return f(); };\n            return f();\n        } finally {\n            $timeout = save;\n        }\n    }\n\n    var OPTIONS_NOW;\n\n    var createDataSource = (function() {\n        var types = {\n            TreeList    : 'TreeListDataSource',\n            TreeView    : 'HierarchicalDataSource',\n            Scheduler   : 'SchedulerDataSource',\n            PivotGrid   : 'PivotDataSource',\n            PivotConfigurator   : 'PivotDataSource',\n            PanelBar    : 'HierarchicalDataSource',\n            Menu        : \"$PLAIN\",\n            ContextMenu : \"$PLAIN\"\n        };\n        var toDataSource = function(dataSource, type) {\n            if (type == '$PLAIN') {\n                return dataSource;\n            }\n            return kendo.data[type].create(dataSource);\n        };\n        return function(scope, element, role, source) {\n            var type = types[role] || 'DataSource';\n            var current = scope.$eval(source);\n            var ds = toDataSource(current, type);\n\n            scope.$watch(source, function(mew) {\n                var widget = kendoWidgetInstance(element);\n\n                if (widget && typeof widget.setDataSource == \"function\") {\n                    if (mew !== current && mew !== widget.dataSource) {\n                        var ds = toDataSource(mew, type);\n                        widget.setDataSource(ds);\n                        current = mew;\n                    }\n                }\n            });\n            return ds;\n        };\n    }());\n\n    var ignoredAttributes = {\n        kDataSource : true,\n        kOptions    : true,\n        kRebind     : true,\n        kNgModel    : true,\n        kNgDelay    : true\n    };\n\n    var ignoredOwnProperties = {\n        // XXX: other names to ignore here?\n        name    : true,\n        title   : true,\n        style   : true\n    };\n\n    function createWidget(scope, element, attrs, widget, origAttr, controllers) {\n        /* jshint latedef: false */\n        if (!(element instanceof jQuery)) {\n            throw new Error(\"The Kendo UI directives require jQuery to be available before AngularJS. Please include jquery before angular in the document.\");\n        }\n\n        var kNgDelay = attrs.kNgDelay,\n            delayValue = scope.$eval(kNgDelay);\n\n        controllers = controllers || [];\n\n        var ngModel = controllers[0],\n            ngForm = controllers[1];\n\n        var ctor = $(element)[widget];\n\n        if (!ctor) {\n            window.console.error(\"Could not find: \" + widget);\n            return null;\n        }\n\n        var parsed = parseOptions(scope, element, attrs, widget, ctor);\n\n        var options = parsed.options;\n\n        if (parsed.unresolved.length) {\n            var promises = [];\n\n            for (var i = 0, len = parsed.unresolved.length; i < len; i++) {\n\n                var unresolved = parsed.unresolved[i];\n\n                var promise = $.Deferred(function(d) {\n                    var unwatch = scope.$watch(unresolved.path, function(newValue) {\n                        if (newValue !== undefined) {\n                            unwatch();\n                            d.resolve();\n                        }\n                    });\n                }).promise();\n\n                promises.push(promise);\n            }\n\n            $.when.apply(null, promises).then(createIt);\n\n            return;\n        }\n\n        if (kNgDelay && !delayValue) {\n            var root = scope.$root || scope;\n\n            var register = function() {\n                var unregister = scope.$watch(kNgDelay, function(newValue) {\n                        if (newValue !== undefined) {\n                        unregister();\n                        // remove subsequent delays, to make ng-rebind work\n                        element.removeAttr(attrs.$attr.kNgDelay);\n                        kNgDelay = null;\n                        $timeout(createIt); // XXX: won't work without `timeout` ;-\\\n                    }\n                });\n            };\n\n            // WARNING: the watchers should be registered in the digest cycle.\n            // the fork here is for the timeout/non-timeout initiated widgets.\n            if (/^\\$(digest|apply)$/.test(root.$$phase)) {\n                register();\n            } else {\n                scope.$apply(register);\n            }\n\n            return;\n        } else {\n            return createIt();\n        }\n\n        function createIt() {\n            var originalElement;\n\n            if (attrs.kRebind) {\n                originalElement = $($(element)[0].cloneNode(true));\n            }\n\n            // re-parse the options here.\n            options = parseOptions(scope, element, attrs, widget, ctor).options;\n\n            if (element.is(\"select\")) {\n                (function(options){\n                    if (options.length > 0) {\n                        var first = $(options[0]);\n                        if (!/\\S/.test(first.text()) && /^\\?/.test(first.val())) {\n                            first.remove();\n                        }\n\n                        for (var i = 0; i < options.length; i++) {\n                            $(options[i]).off(\"$destroy\");\n                        }\n                    }\n                }(element[0].options));\n            }\n\n            var object = ctor.call(element, OPTIONS_NOW = options).data(widget);\n\n            exposeWidget(object, scope, attrs, widget, origAttr);\n\n            scope.$emit(\"kendoWidgetCreated\", object);\n\n            var destroyRegister = destroyWidgetOnScopeDestroy(scope, object);\n\n            if (attrs.kRebind) {\n                setupRebind(object, scope, element, originalElement, attrs.kRebind, destroyRegister, attrs);\n            }\n\n            if (attrs.kNgDisabled) {\n                var kNgDisabled = attrs.kNgDisabled;\n                var isDisabled = scope.$eval(kNgDisabled);\n                if (isDisabled) {\n                    object.enable(!isDisabled);\n                }\n                bindToKNgDisabled(object, scope, element, kNgDisabled);\n            }\n\n            if (attrs.kNgReadonly) {\n                var kNgReadonly = attrs.kNgReadonly;\n                var isReadonly = scope.$eval(kNgReadonly);\n                if (isReadonly) {\n                    object.readonly(isReadonly);\n                }\n                bindToKNgReadonly(object, scope, element, kNgReadonly);\n            }\n\n            // kNgModel is used for the \"logical\" value\n            if (attrs.kNgModel) {\n                bindToKNgModel(object, scope, attrs.kNgModel);\n            }\n\n            // 2 way binding: ngModel <-> widget.value()\n            if (ngModel) {\n                bindToNgModel(object, scope, element, ngModel, ngForm);\n            }\n\n            if (object) {\n                propagateClassToWidgetWrapper(object, element);\n            }\n\n            return object;\n        }\n    }\n\n\n    function parseOptions(scope, element, attrs, widget, ctor) {\n        var role = widget.replace(/^kendo/, '');\n        var unresolved = [];\n        var optionsPath = attrs.kOptions || attrs.options;\n        var optionsValue = scope.$eval(optionsPath);\n\n        if (optionsPath && optionsValue === undefined) {\n            unresolved.push({ option: \"options\", path: optionsPath });\n        }\n\n        var options = angular.extend({}, attrs.defaultOptions, optionsValue);\n\n        function addOption(name, value) {\n            var scopeValue = angular.copy(scope.$eval(value));\n            if (scopeValue === undefined) {\n                unresolved.push({ option: name, path: value });\n            } else {\n                options[name] = scopeValue;\n            }\n        }\n\n\n        var widgetOptions = ctor.widget.prototype.options;\n        var widgetEvents = ctor.widget.prototype.events;\n\n\n        $.each(attrs, function(name, value) {\n            if (name === \"source\" || name === \"kDataSource\" || name === \"kScopeField\" || name === \"scopeField\") {\n                return;\n            }\n\n            var dataName = \"data\" + name.charAt(0).toUpperCase() + name.slice(1);\n\n            if (name.indexOf(\"on\") === 0) { // let's search for such event.\n                var eventKey = name.replace(/^on./, function(prefix) {\n                    return prefix.charAt(2).toLowerCase();\n                });\n\n                if (widgetEvents.indexOf(eventKey) > -1) {\n                    options[eventKey] = value;\n                }\n            } // don't elsif here - there are on* options\n\n            if (widgetOptions.hasOwnProperty(dataName)) {\n                addOption(dataName, value);\n            } else if (widgetOptions.hasOwnProperty(name) && !ignoredOwnProperties[name]) {\n                addOption(name, value);\n            } else if (!ignoredAttributes[name]) {\n                var match = name.match(/^k(On)?([A-Z].*)/);\n                if (match) {\n                    var optionName = match[2].charAt(0).toLowerCase() + match[2].slice(1);\n                    if (match[1] && name != \"kOnLabel\" // XXX: k-on-label can be used on MobileSwitch :-\\\n                    ) {\n                        options[optionName] = value;\n                    } else {\n                        if (name == \"kOnLabel\") {\n                            optionName = \"onLabel\"; // XXX: that's awful.\n                        }\n                        addOption(optionName, value);\n                    }\n                }\n            }\n        });\n\n        // parse the datasource attribute\n        var dataSource = attrs.kDataSource || attrs.source;\n\n        if (dataSource) {\n            options.dataSource = createDataSource(scope, element, role, dataSource);\n        }\n\n        // deepExtend in kendo.core (used in Editor) will fail with stack\n        // overflow if we don't put it in an array :-\\\n        options.$angular = [ scope ];\n\n        return {\n            options: options,\n            unresolved: unresolved\n        };\n    }\n\n    function bindToKNgDisabled(widget, scope, element, kNgDisabled) {\n        if ((kendo.ui.PanelBar && widget instanceof kendo.ui.PanelBar) || (kendo.ui.Menu && widget instanceof kendo.ui.Menu)) {\n            $log.warn(\"k-ng-disabled specified on a widget that does not have the enable() method: \" + (widget.options.name));\n            return;\n        }\n        scope.$watch(kNgDisabled, function(newValue, oldValue) {\n            if (newValue != oldValue) {\n                widget.enable(!newValue);\n            }\n        });\n    }\n\n    function bindToKNgReadonly(widget, scope, element, kNgReadonly) {\n        if (typeof widget.readonly != \"function\") {\n            $log.warn(\"k-ng-readonly specified on a widget that does not have the readonly() method: \" + (widget.options.name));\n            return;\n        }\n        scope.$watch(kNgReadonly, function(newValue, oldValue) {\n            if (newValue != oldValue) {\n                widget.readonly(newValue);\n            }\n        });\n    }\n\n    function exposeWidget(widget, scope, attrs, kendoWidget, origAttr) {\n        if (attrs[origAttr]) {\n            var set = $parse(attrs[origAttr]).assign;\n            if (set) {\n                // set the value of the expression to the kendo widget object to expose its api\n                set(scope, widget);\n            } else {\n                throw new Error(origAttr + ' attribute used but expression in it is not assignable: ' + attrs[kendoWidget]);\n            }\n        }\n    }\n\n    function formValue(element) {\n        if (/checkbox|radio/i.test(element.attr(\"type\"))) {\n            return element.prop(\"checked\");\n        }\n        return element.val();\n    }\n\n    var formRegExp = /^(input|select|textarea)$/i;\n\n    function isForm(element) {\n        return formRegExp.test(element[0].tagName);\n    }\n\n    function bindToNgModel(widget, scope, element, ngModel, ngForm) {\n        if (!widget.value) {\n            return;\n        }\n\n        var value;\n        // Some widgets trigger \"change\" on the input field\n        // and this would result in two events sent (#135)\n        var haveChangeOnElement = false;\n\n        if (isForm(element)) {\n            value = function() {\n                return formValue(element);\n            };\n        } else {\n            value = function() {\n                return widget.value();\n            };\n        }\n\n        // Angular will invoke $render when the view needs to be updated with the view value.\n        var viewRender = function() {\n            // Update the widget with the view value.\n\n            // delaying with setTimout for cases where the datasource is set thereafter.\n            // https://github.com/kendo-labs/angular-kendo/issues/304\n            var val = ngModel.$viewValue;\n            if (val === undefined) {\n                val = ngModel.$modelValue;\n            }\n\n            if (val === undefined) {\n                val = null;\n            }\n\n            haveChangeOnElement = true;\n            setTimeout(function(){\n                haveChangeOnElement = false;\n                if (widget) { // might have been destroyed in between. :-(\n                    var kNgModel = scope[widget.element.attr(\"k-ng-model\")];\n\n                    if (kNgModel) {\n                        val = kNgModel;\n                    }\n\n                    if (widget.options.autoBind === false && !widget.listView.bound()) {\n                        if (val) {\n                            widget.value(val);\n                        }\n                    } else {\n                        widget.value(val);\n                    }\n                }\n            }, 0);\n        };\n\n        ngModel.$render = viewRender;\n        setTimeout(function() {\n            if (ngModel.$render !== viewRender) {\n                ngModel.$render = viewRender;\n                ngModel.$render();\n            }\n        });\n\n        if (isForm(element)) {\n            element.on(\"change\", function() {\n                haveChangeOnElement = true;\n            });\n        }\n\n        var onChange = function(pristine) {\n            return function() {\n                var formPristine;\n                if (haveChangeOnElement && !element.is(\"select\")) {\n                    return;\n                }\n                if (pristine && ngForm) {\n                    formPristine = ngForm.$pristine;\n                }\n                ngModel.$setViewValue(value());\n                if (pristine) {\n                    ngModel.$setPristine();\n                    if (formPristine) {\n                        ngForm.$setPristine();\n                    }\n                }\n                digest(scope);\n            };\n        };\n\n        widget.first(\"change\", onChange(false));\n        widget.first(\"spin\", onChange(false));\n\n        if (!(kendo.ui.AutoComplete && widget instanceof kendo.ui.AutoComplete)) {\n            widget.first(\"dataBound\", onChange(true));\n        }\n\n        var currentVal = value();\n\n        // if the model value is undefined, then we set the widget value to match ( == null/undefined )\n        // In telerik/kendo-ui-core#1027 we discovered that after the timeout the $viewValue arives as NaN in some weird, default form.\n        // Hence the check below.\n        if (!isNaN(ngModel.$viewValue) && currentVal != ngModel.$viewValue) {\n            if (!ngModel.$isEmpty(ngModel.$viewValue)) {\n                widget.value(ngModel.$viewValue);\n            } else if (currentVal != null && currentVal !== \"\" && currentVal != ngModel.$viewValue) {\n                ngModel.$setViewValue(currentVal);\n            }\n        }\n\n        ngModel.$setPristine();\n    }\n\n    function bindToKNgModel(widget, scope, kNgModel) {\n        if(kendo.ui.DateRangePicker && widget instanceof kendo.ui.DateRangePicker){\n            var rangePickerModels = kNgModel.split(\",\");\n            var rangePickerStartModel = rangePickerModels[0].trim();\n            var rangePickerEndModel;\n\n            bindToKNgModel(widget._startDateInput, scope, rangePickerStartModel);\n            if (rangePickerModels[1]) {\n                rangePickerEndModel = rangePickerModels[1].trim();\n                bindToKNgModel(widget._endDateInput, scope, rangePickerEndModel);\n                widget.range({start:scope[rangePickerStartModel], end:scope[rangePickerEndModel] });\n            } else {\n                widget.range({start:scope[rangePickerStartModel], end: null });\n            }\n\n            return;\n        }\n\n        if (typeof widget.value != \"function\") {\n            $log.warn(\"k-ng-model specified on a widget that does not have the value() method: \" + (widget.options.name));\n            return;\n        }\n\n        var form  = $(widget.element).parents(\"ng-form, form\").first();\n        var ngForm = kendo.getter(form.attr(\"name\"), true)(scope);\n        var getter = $parse(kNgModel);\n        var setter = getter.assign;\n        var updating = false;\n\n        var valueIsCollection = kendo.ui.MultiSelect && widget instanceof kendo.ui.MultiSelect ||\n                                kendo.ui.RangeSlider && widget instanceof kendo.ui.RangeSlider;\n\n        var length = function(value) {\n            //length is irrelevant when value is not collection\n            return value && valueIsCollection ? value.length : 0;\n        };\n\n        var currentValueLength = length(getter(scope));\n\n        widget.$angular_setLogicValue(getter(scope));\n\n        // keep in sync\n        var watchHandler = function(newValue, oldValue) {\n            if (newValue === undefined) {\n                // because widget's value() method usually checks if the new value is undefined,\n                // in which case it returns the current value rather than clearing the field.\n                // https://github.com/telerik/kendo-ui-core/issues/299\n                newValue = null;\n            }\n\n            //compare values by reference if a collection\n            if (updating || (newValue == oldValue && length(newValue) == currentValueLength)) {\n                return;\n            }\n\n            currentValueLength = length(newValue);\n            widget.$angular_setLogicValue(newValue);\n        };\n\n        if (valueIsCollection) {\n            scope.$watchCollection(kNgModel, watchHandler);\n        } else {\n            scope.$watch(kNgModel, watchHandler);\n        }\n\n        var changeHandler = function() {\n            updating = true;\n\n            if (ngForm && ngForm.$pristine) {\n                ngForm.$setDirty();\n            }\n\n            digest(scope, function(){\n                setter(scope, widget.$angular_getLogicValue());\n                currentValueLength = length(getter(scope));\n            });\n\n            updating = false;\n        };\n\n        widget.first(\"change\", changeHandler);\n        widget.first(\"spin\", changeHandler);\n    }\n\n    function destroyWidgetOnScopeDestroy(scope, widget) {\n        var deregister = scope.$on(\"$destroy\", function() {\n            deregister();\n            if (widget) {\n                kendo.destroy(widget.element);\n                widget = null;\n            }\n        });\n\n        return deregister;\n    }\n\n    // mutation observers - propagate the original\n    // element's class to the widget wrapper.\n    function propagateClassToWidgetWrapper(widget, element) {\n        if (!(window.MutationObserver && widget.wrapper)) {\n            return;\n        }\n\n        var prevClassList = [].slice.call($(element)[0].classList);\n\n        var mo = new MutationObserver(function(changes){\n            suspend();    // make sure we don't trigger a loop\n            if (!widget) {\n                return;\n            }\n\n            changes.forEach(function(chg){\n                var w = $(widget.wrapper)[0];\n                switch (chg.attributeName) {\n\n                    case \"class\":\n                        // sync classes to the wrapper element\n                        var currClassList = [].slice.call(chg.target.classList);\n                        currClassList.forEach(function(cls){\n                            if (prevClassList.indexOf(cls) < 0) {\n                                w.classList.add(cls);\n                                if (kendo.ui.ComboBox && widget instanceof kendo.ui.ComboBox) { // https://github.com/kendo-labs/angular-kendo/issues/356\n                                    widget.input[0].classList.add(cls);\n                                }\n                            }\n                        });\n                        prevClassList.forEach(function(cls){\n                            if (currClassList.indexOf(cls) < 0) {\n                                w.classList.remove(cls);\n                                if (kendo.ui.ComboBox && widget instanceof kendo.ui.ComboBox) { // https://github.com/kendo-labs/angular-kendo/issues/356\n                                    widget.input[0].classList.remove(cls);\n                                }\n                            }\n                        });\n                        prevClassList = currClassList;\n                        break;\n\n                    case \"disabled\":\n                        if (typeof widget.enable == \"function\" && !widget.element.attr(\"readonly\")) {\n                            widget.enable(!$(chg.target).attr(\"disabled\"));\n                        }\n                        break;\n\n                    case \"readonly\":\n                        if (typeof widget.readonly == \"function\" && !widget.element.attr(\"disabled\")) {\n                            widget.readonly(!!$(chg.target).attr(\"readonly\"));\n                        }\n                        break;\n                }\n            });\n\n            resume();\n        });\n\n        function suspend() {\n            mo.disconnect();\n        }\n\n        function resume() {\n            mo.observe($(element)[0], { attributes: true });\n        }\n\n        resume();\n        widget.first(\"destroy\", suspend);\n    }\n\n    function setupRebind(widget, scope, element, originalElement, rebindAttr, destroyRegister, attrs) {\n        // watch for changes on the expression passed in the k-rebind attribute\n        var unregister = scope.$watch(rebindAttr, function(newValue, oldValue) {\n            if (!widget._muteRebind && newValue !== oldValue) {\n                unregister(); // this watcher will be re-added if we compile again!\n\n                if (attrs._cleanUp) {\n                    attrs._cleanUp();\n                }\n\n                var templateOptions = WIDGET_TEMPLATE_OPTIONS[widget.options.name];\n\n                if (templateOptions) {\n                    templateOptions.forEach(function(name) {\n                        var templateContents = scope.$eval(attrs[\"k\" + name]);\n\n                        if (templateContents) {\n                            originalElement.append($(templateContents).attr(kendo.toHyphens(\"k\" + name), \"\"));\n                        }\n                    });\n                }\n\n                var _wrapper = $(widget.wrapper)[0];\n                var _element = $(widget.element)[0];\n                var isUpload = widget.options.name === \"Upload\";\n\n                if (isUpload) {\n                    element = $(_element);\n                }\n\n                var compile = element.injector().get(\"$compile\");\n                widget._destroy();\n\n                if (destroyRegister) {\n                    destroyRegister();\n                }\n\n                widget = null;\n\n                if (_element) {\n                    if (_wrapper) {\n                        _wrapper.parentNode.replaceChild(_element, _wrapper);\n                    }\n                    $(element).replaceWith(originalElement);\n                }\n\n                compile(originalElement)(scope);\n            }\n        }, true); // watch for object equality. Use native or simple values.\n        digest(scope);\n    }\n\n    function bind(f, obj) {\n        return function(a, b) {\n            return f.call(obj, a, b);\n        };\n    }\n\n    function setTemplate(key, value) {\n        this[key] = kendo.stringify(value); // jshint ignore:line\n    }\n\n    module.factory('directiveFactory', [ '$compile', function(compile) {\n        var kendoRenderedTimeout;\n        var RENDERED = false;\n\n        // caching $compile for the dirty hack upstairs. This is awful, but we happen to have elements outside of the bootstrapped root :(.\n        $defaultCompile = compile;\n\n        var create = function(role, origAttr) {\n            return {\n                // Parse the directive for attributes and classes\n                restrict: \"AC\",\n                require: [ \"?ngModel\", \"^?form\" ],\n                scope: false,\n\n                controller: [ '$scope', '$attrs', '$element', function($scope, $attrs) {\n                    this.template = bind(setTemplate, $attrs);\n                    $attrs._cleanUp = bind(function(){\n                        this.template = null;\n                        $attrs._cleanUp = null;\n                    }, this);\n                }],\n\n                link: function(scope, element, attrs, controllers) {\n                    var $element = $(element);\n\n                    // we must remove data-kendo-widget-name attribute because\n                    // it breaks kendo.widgetInstance; can generate all kinds\n                    // of funny issues like\n                    //\n                    //   https://github.com/kendo-labs/angular-kendo/issues/167\n                    //\n                    // but we still keep the attribute without the\n                    // `data-` prefix, so k-rebind would work.\n                    var roleattr = role.replace(/([A-Z])/g, \"-$1\");\n\n                    $element.attr(roleattr, $element.attr(\"data-\" + roleattr));\n                    $element[0].removeAttribute(\"data-\" + roleattr);\n\n                    var widget = createWidget(scope, element, attrs, role, origAttr, controllers);\n\n                    if (!widget) {\n                        return;\n                    }\n\n                    if (kendoRenderedTimeout) {\n                        clearTimeout(kendoRenderedTimeout);\n                    }\n\n                    kendoRenderedTimeout = setTimeout(function() {\n                        scope.$emit(\"kendoRendered\");\n                        if (!RENDERED) {\n                            RENDERED = true;\n                            $(\"form\").each(function(){\n                                var form = $(this).controller(\"form\");\n                                if (form) {\n                                    form.$setPristine();\n                                }\n                            });\n                        }\n                    });\n                }\n            };\n        };\n\n        return {\n            create: create\n        };\n    }]);\n\n    var TAGNAMES = {\n        Editor         : \"textarea\",\n        NumericTextBox : \"input\",\n        DatePicker     : \"input\",\n        DateTimePicker : \"input\",\n        TimePicker     : \"input\",\n        AutoComplete   : \"input\",\n        ColorPicker    : \"input\",\n        MaskedTextBox  : \"input\",\n        MultiSelect    : \"input\",\n        Upload         : \"input\",\n        Validator      : \"form\",\n        Button         : \"button\",\n        MobileButton        : \"a\",\n        MobileBackButton    : \"a\",\n        MobileDetailButton  : \"a\",\n        ListView       : \"ul\",\n        MobileListView: \"ul\",\n        ScrollView       : \"div\",\n        PanelBar       : \"ul\",\n        TreeView       : \"ul\",\n        Menu           : \"ul\",\n        ContextMenu    : \"ul\",\n        ActionSheet    : \"ul\",\n        Switch    : \"input\"\n    };\n\n    var SKIP_SHORTCUTS = [\n        'MobileView',\n        'MobileDrawer',\n        'MobileLayout',\n        'MobileSplitView',\n        'MobilePane',\n        'MobileModalView'\n    ];\n\n    var MANUAL_DIRECTIVES = [\n        'MobileApplication',\n        'MobileView',\n        'MobileModalView',\n        'MobileLayout',\n        'MobileActionSheet',\n        'MobileDrawer',\n        'MobileSplitView',\n        'MobilePane',\n        'MobileScrollView',\n        'MobilePopOver'\n    ];\n\n    angular.forEach(['MobileNavBar', 'MobileButton', 'MobileBackButton', 'MobileDetailButton', 'MobileTabStrip', 'MobileScrollView', 'MobileScroller'], function(widget) {\n        MANUAL_DIRECTIVES.push(widget);\n        widget = \"kendo\" + widget;\n        module.directive(widget, function() {\n            return {\n                restrict: \"A\",\n                link: function(scope, element, attrs) {\n                    createWidget(scope, element, attrs, widget, widget);\n                }\n            };\n        });\n    });\n\n    function createDirectives(klass, isMobile) {\n        function make(directiveName, widgetName) {\n            module.directive(directiveName, [\n                \"directiveFactory\",\n                function(directiveFactory) {\n                    return directiveFactory.create(widgetName, directiveName);\n                }\n            ]);\n        }\n\n        var name = isMobile ? \"Mobile\" : \"\";\n        name += klass.fn.options.name;\n\n        var className = name;\n        var shortcut = \"kendo\" + name.charAt(0) + name.substr(1).toLowerCase();\n        name = \"kendo\" + name;\n\n        // <kendo-numerictextbox>-type directives\n        var dashed = name.replace(/([A-Z])/g, \"-$1\");\n\n        if (SKIP_SHORTCUTS.indexOf(name.replace(\"kendo\", \"\")) == -1) {\n            var names = name === shortcut ? [ name ] : [ name, shortcut ];\n            angular.forEach(names, function(directiveName) {\n                module.directive(directiveName, function(){\n                    return {\n                        restrict : \"E\",\n                        replace  : true,\n                        template : function(element, attributes) {\n                            var tag = TAGNAMES[className] || \"div\";\n                            var scopeField = attributes.kScopeField || attributes.scopeField;\n\n                            return \"<\" + tag + \" \" + dashed + (scopeField ? ('=\"' + scopeField + '\"') : \"\") + \">\" + element.html() + \"</\" + tag + \">\";\n                        }\n                    };\n                });\n            });\n        }\n\n        if (MANUAL_DIRECTIVES.indexOf(name.replace(\"kendo\", \"\")) > -1) {\n            return;\n        }\n\n        // here name should be like kendoMobileListView so kendo-mobile-list-view works,\n        // and shortcut like kendoMobilelistview, for kendo-mobilelistview\n\n        make(name, name);\n        if (shortcut != name) {\n            make(shortcut, name);\n        }\n\n    }\n\n    /* -----[ utils ]----- */\n\n    function kendoWidgetInstance(el) {\n        el = $(el);\n        return kendo.widgetInstance(el, kendo.ui) ||\n            kendo.widgetInstance(el, kendo.mobile.ui) ||\n            kendo.widgetInstance(el, kendo.dataviz.ui);\n    }\n\n    function digest(scope, func) {\n        var root = scope.$root || scope;\n        var isDigesting = /^\\$(digest|apply)$/.test(root.$$phase);\n        if (func) {\n            if (isDigesting) {\n                func();\n            } else {\n                root.$apply(func);\n            }\n        } else if (!isDigesting) {\n            root.$digest();\n        }\n    }\n\n    function destroyScope(scope, el) {\n        scope.$destroy();\n        if (el) {\n            // prevent leaks. https://github.com/kendo-labs/angular-kendo/issues/237\n            $(el)\n                .removeData(\"$scope\")\n                .removeData(\"$$kendoScope\")\n                .removeData(\"$isolateScope\")\n                .removeData(\"$isolateScopeNoTemplate\")\n                .removeClass(\"ng-scope\");\n        }\n    }\n\n    var encode = kendo.htmlEncode;\n    var open = /{{/g;\n    var close = /}}/g;\n    var encOpen = '{&#8203;{';\n    var encClose = '}&#8203;}';\n\n    kendo.htmlEncode = function(str) {\n        return encode(str)\n            .replace(open, encOpen)\n            .replace(close, encClose);\n    };\n\n    var pendingPatches = [];\n\n    // defadvice will patch a class' method with another function.  That\n    // function will be called in a context containing `next` (to call\n    // the next method) and `object` (a reference to the original\n    // object).\n    function defadvice(klass, methodName, func) {\n        if (Array.isArray(klass)) {\n            return angular.forEach(klass, function(klass){\n                defadvice(klass, methodName, func);\n            });\n        }\n        if (typeof klass == \"string\") {\n            var a = klass.split(\".\");\n            var x = kendo;\n            while (x && a.length > 0) {\n                x = x[a.shift()];\n            }\n            if (!x) {\n                pendingPatches.push([ klass, methodName, func ]);\n                return false;\n            }\n            klass = x.prototype;\n        }\n        var origMethod = klass[methodName];\n        klass[methodName] = function() {\n            var self = this, args = arguments;\n            return func.apply({\n                self: self,\n                next: function() {\n                    return origMethod.apply(self, arguments.length > 0 ? arguments : args);\n                }\n            }, args);\n        };\n        return true;\n    }\n\n    kendo.onWidgetRegistered(function(entry){\n        pendingPatches = $.grep(pendingPatches, function(args){\n            return !defadvice.apply(null, args);\n        });\n        createDirectives(entry.widget, entry.prefix == \"Mobile\");\n    });\n\n    /* -----[ Customize widgets for Angular ]----- */\n\n    defadvice([ \"ui.Widget\", \"mobile.ui.Widget\" ], \"angular\", function(cmd, arg){\n        var self = this.self;\n        if (cmd == \"init\") {\n            // `arg` here should be the widget options.\n            // the Chart doesn't send the options to Widget::init in constructor\n            // hence the OPTIONS_NOW hack (initialized in createWidget).\n            if (!arg && OPTIONS_NOW) {\n                arg = OPTIONS_NOW;\n            }\n            OPTIONS_NOW = null;\n            if (arg && arg.$angular) {\n                self.$angular_scope = arg.$angular[0];\n                self.$angular_init(self.element, arg);\n            }\n            return;\n        }\n\n        var scope = self.$angular_scope;\n\n        if (scope) {\n            withoutTimeout(function(){\n                var x = arg(), elements = x.elements, data = x.data;\n                if (elements.length > 0) {\n                    switch (cmd) {\n\n                      case \"cleanup\":\n                        angular.forEach(elements, function(el){\n                            var itemScope = $(el).data(\"$$kendoScope\");\n\n                            if (itemScope && itemScope !== scope && itemScope.$$kendoScope) {\n                                destroyScope(itemScope, el);\n                            }\n                        });\n                        break;\n\n                      case \"compile\":\n                        var injector = self.element.injector();\n                        var compile = injector ? injector.get(\"$compile\") : $defaultCompile;\n\n                        angular.forEach(elements, function(el, i){\n                            var itemScope;\n                            if (x.scopeFrom) {\n                                itemScope = x.scopeFrom;\n                            } else {\n                                var vars = data && data[i];\n                                if (vars !== undefined) {\n                                    itemScope = $.extend(scope.$new(), vars);\n                                    itemScope.$$kendoScope = true;\n                                } else {\n                                    itemScope = scope;\n                                }\n                            }\n\n                            $(el).data(\"$$kendoScope\", itemScope);\n                            compile(el)(itemScope);\n                        });\n                        digest(scope);\n                        break;\n                    }\n                }\n            });\n        }\n    });\n\n    defadvice(\"ui.Widget\", \"$angular_getLogicValue\", function(){\n        return this.self.value();\n    });\n\n    defadvice(\"ui.Widget\", \"$angular_setLogicValue\", function(val){\n        this.self.value(val);\n    });\n\n    defadvice(\"ui.Select\", \"$angular_getLogicValue\", function(){\n        var item = this.self.dataItem(),\n            valueField = this.self.options.dataValueField;\n\n        if (item) {\n            if (this.self.options.valuePrimitive) {\n                if (!!valueField) {\n                    return item[valueField];\n                } else {\n                    return item;\n                }\n            } else {\n                return item.toJSON();\n            }\n        } else {\n            return null;\n        }\n    });\n\n    defadvice(\"ui.Select\", \"$angular_setLogicValue\", function(val){\n        var self = this.self;\n        var options = self.options;\n        var valueField = options.dataValueField;\n        var text = options.text || \"\";\n\n        if (val === undefined) {\n            val = \"\";\n        }\n\n        if (valueField && !options.valuePrimitive && val) {\n            text = val[options.dataTextField] || \"\";\n            val = val[valueField || options.dataTextField];\n        }\n\n        if (self.options.autoBind === false && !self.listView.bound()) {\n            if (!text && val && options.valuePrimitive) {\n                self.value(val);\n            } else {\n                self._preselect(val, text);\n            }\n        } else {\n            self.value(val);\n        }\n    });\n\n    defadvice(\"ui.MultiSelect\", \"$angular_getLogicValue\", function() {\n        var value = this.self.dataItems().slice(0);\n        var valueField = this.self.options.dataValueField;\n\n        if (valueField && this.self.options.valuePrimitive) {\n            value = $.map(value, function(item) {\n                return item[valueField];\n            });\n        }\n\n        return value;\n    });\n\n    defadvice(\"ui.MultiSelect\", \"$angular_setLogicValue\", function(val){\n        if (val == null) {\n            val = [];\n        }\n\n        var self = this.self;\n        var options = self.options;\n        var valueField = options.dataValueField;\n        var data = val;\n\n        if (valueField && !options.valuePrimitive) {\n            val = $.map(val, function(item) {\n                return item[valueField];\n            });\n        }\n\n        if (options.autoBind === false && !options.valuePrimitive && !self.listView.bound()) {\n            self._preselect(data, val);\n        } else {\n            self.value(val);\n        }\n    });\n\n    /* AutoComplete's getter and setter are removed!\n       By design, AutoComplete should be bound only to primitive string\n       value and data items are bound only to serve the list of suggestions.\n\n       Binding multiple data items is supported by the MultiSelect widget.\n    */\n\n    // All event handlers that are strings are compiled the Angular way.\n    defadvice(\"ui.Widget\", \"$angular_init\", function(element, options) {\n        var self = this.self;\n        if (options && !Array.isArray(options)) {\n            var scope = self.$angular_scope;\n            for (var i = self.events.length; --i >= 0;) {\n                var event = self.events[i];\n                var handler = options[event];\n                if (handler && typeof handler == \"string\") {\n                    options[event] = self.$angular_makeEventHandler(event, scope, handler);\n                }\n            }\n        }\n    });\n\n    // most handers will only contain a kendoEvent in the scope.\n    defadvice(\"ui.Widget\", \"$angular_makeEventHandler\", function(event, scope, handler){\n        handler = $parse(handler);\n        return function(e) {\n            digest(scope, function() {\n                handler(scope, { kendoEvent: e });\n            });\n        };\n    });\n\n    // for the Grid and ListView we add `data` and `selected` too.\n    defadvice([ \"ui.Grid\", \"ui.ListView\", \"ui.TreeView\", \"ui.PanelBar\" ], \"$angular_makeEventHandler\", function(event, scope, handler){\n        if (event != \"change\") {\n            return this.next();\n        }\n        handler = $parse(handler);\n        return function(ev) {\n            var widget = ev.sender;\n            var options = widget.options;\n            var cell, multiple, locals = { kendoEvent: ev }, elems, items, columns, colIdx;\n\n            if (angular.isString(options.selectable)) {\n                cell = options.selectable.indexOf('cell') !== -1;\n                multiple = options.selectable.indexOf('multiple') !== -1;\n            }\n            if (widget._checkBoxSelection) {\n                multiple = true;\n            }\n\n            elems = locals.selected = this.select();\n            items = locals.data = [];\n            columns = locals.columns = [];\n            for (var i = 0; i < elems.length; i++) {\n                var item = cell ? elems[i].parentNode : elems[i];\n                var dataItem = widget.dataItem(item);\n                if (cell) {\n                    if (angular.element.inArray(dataItem, items) < 0) {\n                        items.push(dataItem);\n                    }\n                    colIdx = angular.element(elems[i]).index();\n                    if (angular.element.inArray(colIdx, columns) < 0 ) {\n                        columns.push(colIdx);\n                    }\n                } else {\n                    items.push(dataItem);\n                }\n            }\n\n            if (!multiple) {\n                locals.dataItem = locals.data = items[0];\n                locals.angularDataItem = kendo.proxyModelSetters(locals.dataItem);\n                locals.selected = elems[0];\n            }\n\n            digest(scope, function() {\n                handler(scope, locals);\n            });\n        };\n    });\n\n    // If no `template` is supplied for Grid columns, provide an Angular\n    // template.  The reason is that in this way AngularJS will take\n    // care to update the view as the data in scope changes.\n    defadvice(\"ui.Grid\", \"$angular_init\", function(element, options){\n        this.next();\n        if (options.columns) {\n            var settings = $.extend({}, kendo.Template, options.templateSettings);\n            angular.forEach(options.columns, function(col){\n                if (col.field && !col.template && !col.format && !col.values && (col.encoded === undefined || col.encoded)) {\n                    col.template = \"<span ng-bind='\" +\n                        kendo.expr(col.field, \"dataItem\") + \"'>#: \" +\n                        kendo.expr(col.field, settings.paramName) + \"#</span>\";\n                }\n            });\n        }\n    });\n\n    {\n        // mobile/ButtonGroup does not have a \"value\" method, but looks\n        // like it would be useful.  We provide it here.\n\n        defadvice(\"mobile.ui.ButtonGroup\", \"value\", function(mew){\n            var self = this.self;\n            if (mew != null) {\n                self.select(self.element.children(\"li.km-button\").eq(mew));\n                self.trigger(\"change\");\n                self.trigger(\"select\", { index: self.selectedIndex });\n            }\n            return self.selectedIndex;\n        });\n\n        defadvice(\"mobile.ui.ButtonGroup\", \"_select\", function(){\n            this.next();\n            this.self.trigger(\"change\");\n        });\n    }\n\n    // mobile directives\n    module\n    .directive('kendoMobileApplication', function() {\n        return {\n            terminal: true,\n            link: function(scope, element, attrs) {\n                createWidget(scope, element, attrs, 'kendoMobileApplication', 'kendoMobileApplication');\n            }\n        };\n    }).directive('kendoMobileView', function() {\n        return {\n            scope: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileView', 'kendoMobileView');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                    attrs._instance._scroller();\n                }\n            }\n        };\n    }).directive('kendoMobileDrawer', function() {\n        return {\n            scope: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileDrawer', 'kendoMobileDrawer');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                    attrs._instance._scroller();\n                }\n            }\n        };\n    }).directive('kendoMobileModalView', function() {\n        return {\n            scope: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileModalView', 'kendoMobileModalView');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                    attrs._instance._scroller();\n                }\n            }\n        };\n    }).directive('kendoMobileSplitView', function() {\n        return {\n            terminal: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    attrs._instance = createWidget(scope, element, attrs, 'kendoMobileSplitView', 'kendoMobileSplitView');\n                },\n\n                post: function(scope, element, attrs) {\n                    attrs._instance._layout();\n                }\n            }\n        };\n    }).directive('kendoMobilePane', function() {\n        return {\n            terminal: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    createWidget(scope, element, attrs, 'kendoMobilePane', 'kendoMobilePane');\n                }\n            }\n        };\n    }).directive('kendoMobileLayout', function() {\n        return {\n            link: {\n                pre: function (scope, element, attrs) {\n                    createWidget(scope, element, attrs, 'kendoMobileLayout', 'kendoMobileLayout');\n                }\n            }\n        };\n    }).directive('kendoMobileActionSheet', function() {\n        return {\n            restrict: \"A\",\n            link: function(scope, element, attrs) {\n                element.find(\"a[k-action]\").each(function() {\n                    $(this).attr(\"data-\" + kendo.ns + \"action\", $(this).attr(\"k-action\"));\n                });\n\n                createWidget(scope, element, attrs, 'kendoMobileActionSheet', 'kendoMobileActionSheet');\n            }\n        };\n    }).directive('kendoMobilePopOver', function() {\n        return {\n            terminal: true,\n            link: {\n                pre: function(scope, element, attrs) {\n                    attrs.defaultOptions = scope.viewOptions;\n                    createWidget(scope, element, attrs, 'kendoMobilePopOver', 'kendoMobilePopOver');\n                }\n            }\n        };\n    }).directive('kendoViewTitle', function(){\n        return {\n            restrict : \"E\",\n            replace  : true,\n            template : function(element) {\n                return \"<span data-\" + kendo.ns + \"role='view-title'>\" + element.html() + \"</span>\";\n            }\n        };\n    }).directive('kendoMobileHeader', function() {\n            return {\n                restrict: \"E\",\n                link: function(scope, element) {\n                    element.addClass(\"km-header\").attr(\"data-role\", \"header\");\n                }\n            };\n    }).directive('kendoMobileFooter', function() {\n            return {\n                restrict: 'E',\n                link: function(scope, element) {\n                    element.addClass(\"km-footer\").attr(\"data-role\", \"footer\");\n                }\n            };\n    }).directive('kendoMobileScrollViewPage', function(){\n        return {\n            restrict : \"E\",\n            replace  : true,\n            template : function(element) {\n                return \"<div data-\" + kendo.ns + \"role='page'>\" + element.html() + \"</div>\";\n            }\n        };\n    });\n\n    angular.forEach(['align', 'icon', 'rel', 'transition', 'actionsheetContext'], function(attr) {\n          var kAttr = \"k\" + attr.slice(0, 1).toUpperCase() + attr.slice(1);\n\n          module.directive(kAttr, function() {\n              return {\n                  restrict: 'A',\n                  priority: 2,\n                  link: function(scope, element, attrs) {\n                      element.attr(kendo.attr(kendo.toHyphens(attr)), scope.$eval(attrs[kAttr]));\n                  }\n              };\n          });\n    });\n\n    var WIDGET_TEMPLATE_OPTIONS = {\n        \"TreeMap\": [ \"Template\" ],\n        \"MobileListView\": [ \"HeaderTemplate\", \"Template\" ],\n        \"MobileScrollView\": [ \"EmptyTemplate\", \"Template\" ],\n        \"Grid\": [ \"AltRowTemplate\", \"DetailTemplate\", \"RowTemplate\" ],\n        \"ListView\": [ \"EditTemplate\", \"Template\", \"AltTemplate\" ],\n        \"Pager\": [ \"SelectTemplate\", \"LinkTemplate\" ],\n        \"PivotGrid\": [ \"ColumnHeaderTemplate\", \"DataCellTemplate\", \"RowHeaderTemplate\" ],\n        \"Scheduler\": [\"AllDayEventTemplate\", \"DateHeaderTemplate\", \"EventTemplate\", \"MajorTimeHeaderTemplate\", \"MinorTimeHeaderTemplate\"],\n        \"ScrollView\": [ \"Template\" ],\n        \"PanelBar\": [ \"Template\" ],\n        \"TreeView\": [ \"Template\" ],\n        \"Validator\": [ \"ErrorTemplate\" ]\n    };\n\n    (function() {\n        var templateDirectives = {};\n        angular.forEach(WIDGET_TEMPLATE_OPTIONS, function(templates, widget) {\n            angular.forEach(templates, function(template) {\n                if (!templateDirectives[template]) {\n                    templateDirectives[template] = [ ];\n                }\n                templateDirectives[template].push(\"?^^kendo\" + widget);\n            });\n        });\n\n        angular.forEach(templateDirectives, function(parents, directive) {\n            var templateName = \"k\" + directive;\n            var attrName = kendo.toHyphens(templateName);\n\n            module.directive(templateName, function() {\n                return {\n                    restrict: \"A\",\n                    require: parents,\n                    terminal: true,\n                    compile: function($element, $attrs) {\n                        if ($attrs[templateName] !== \"\") {\n                            return;\n                        }\n\n                        $element.removeAttr(attrName);\n                        var template = $element[0].outerHTML;\n\n                        return function(scope, element, attrs, controllers) {\n                            var controller;\n\n                            while(!controller && controllers.length) {\n                                controller = controllers.shift();\n                            }\n\n                            if (!controller) {\n                                $log.warn(attrName + \" without a matching parent widget found. It can be one of the following: \" + parents.join(\", \"));\n                            } else {\n                                controller.template(templateName, template);\n                                element.remove();\n                            }\n                        };\n                    }\n                };\n            });\n        });\n\n    })();\n\n\n})(window.kendo.jQuery, window.angular);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\r\n    define('kendo.mobile',[\r\n        \"./kendo.core\",\r\n        \"./kendo.fx\",\r\n        \"./kendo.data.odata\",\r\n        \"./kendo.data.xml\",\r\n        \"./kendo.data\",\r\n        \"./kendo.data.signalr\",\r\n        \"./kendo.binder\",\r\n        \"./kendo.validator\",\r\n        \"./kendo.router\",\r\n        \"./kendo.view\",\r\n        \"./kendo.userevents\",\r\n        \"./kendo.draganddrop\",\r\n        \"./kendo.popup\",\r\n        \"./kendo.touch\",\r\n        \"./kendo.mobile.popover\",\r\n        \"./kendo.mobile.loader\",\r\n        \"./kendo.mobile.scroller\",\r\n        \"./kendo.mobile.shim\",\r\n        \"./kendo.mobile.view\",\r\n        \"./kendo.mobile.modalview\",\r\n        \"./kendo.mobile.drawer\",\r\n        \"./kendo.mobile.splitview\",\r\n        \"./kendo.mobile.pane\",\r\n        \"./kendo.mobile.application\",\r\n        \"./kendo.mobile.actionsheet\",\r\n        \"./kendo.mobile.button\",\r\n        \"./kendo.mobile.buttongroup\",\r\n        \"./kendo.mobile.collapsible\",\r\n        \"./kendo.mobile.listview\",\r\n        \"./kendo.mobile.navbar\",\r\n        \"./kendo.mobile.scrollview\",\r\n        \"./kendo.mobile.switch\",\r\n        \"./kendo.mobile.tabstrip\",\r\n        \"./kendo.angular\"\r\n    ], f);\r\n})(function(){\r\n    \"bundle all\";\r\n    return window.kendo;\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n"],"names":["define","__meta__","id","name","category","description","$","jQuery","window","undefined","kendo","cultures","extend","each","isArray","Array","noop","math","Math","Template","JSON","support","percentRegExp","formatRegExp","boxShadowRegExp","numberRegExp","FUNCTION","STRING","NUMBER","OBJECT","NULL","BOOLEAN","UNDEFINED","PREFIX","ARIA_LABELLEDBY","ARIA_LABEL","LABELIDPART","getterCache","setterCache","slice","cssPropertiesNames","noDepricateExtend","src","copyIsArray","copy","options","clone","target","arguments","i","length","deep","this","isPlainObject","Class","version","replace","proto","base","member","that","subclass","init","apply","fn","prototype","constructor","Object","_initOptions","deepExtend","isFunction","preventDefault","_defaultPrevented","isDefaultPrevented","Observable","_events","bind","eventName","handlers","one","idx","eventNames","original","handler","handlersIsFunction","events","unbind","push","first","unshift","trigger","e","sender","call","splice","compilePart","part","stringPart","split","join","charAt","rest","substring","argumentNameRegExp","encodeRegExp","escapedCurlyRegExp","curlyRegExp","escapedSharpRegExp","sharpRegExp","zeros","pad","number","digits","end","paramName","useWithBlock","render","template","data","html","compile","settings","argumentName","match","functionBody","parts","Function","_slotCount","floor","Error","format","escapable","gap","indent","meta","\b","\t","\n","\f","\r","\"","\\","rep","toString","Date","toJSON","isFinite","valueOf","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","String","Number","Boolean","quote","string","lastIndex","test","a","c","charCodeAt","str","key","holder","k","v","mind","partial","value","type","hasOwnProperty","stringify","replacer","space","","dateFormatRegExp","standardFormatRegExp","literalRegExp","commaRegExp","EMPTY","POINT","COMMA","SHARP","ZERO","PLACEHOLDER","EN","objectToString","findCulture","culture","numberFormat","getCulture","current","formatDate","date","calendar","calendars","standard","days","months","patterns","minutes","result","sign","getDate","namesAbbr","getDay","names","getMonth","getFullYear","getHours","getMinutes","getSeconds","getMilliseconds","AM","PM","getTimezoneOffset","abs","formatNumber","decimal","precision","decimals","pattern","literals","symbol","isCurrency","isPercent","customPrecision","formatAndPrecision","negative","integer","fraction","integerLength","fractionLength","replacement","ch","hasGroup","hasNegativeFormat","decimalIndex","sharpIndex","zeroIndex","hasZero","hasSharp","percentIndex","currencyIndex","startZeroIndex","start","toLocaleString","exec","toLowerCase","currency","percent","exp","toExponential","round","groupInteger","indexOf","quoteChar","literal","lastIndexOf","rounded","max",",",".","groupSize","abbr","namesShort","d","D","F","g","G","m","M","s","t","T","u","y","Y","/",":","firstDay","twoDigitYearMax","cultureName","groupSizes","shift","newGroupSize","reverse","toFixed","min","fmt","nonBreakingSpaceRegExp","values","index","placeholderFormat","parseInt","_extractFormat","_activeElement","document","activeElement","documentElement","_round","_outerWidth","element","includeMargin","outerWidth","_outerHeight","outerHeight","spaceRegExp","exponentRegExp","shortTimeZoneRegExp","longTimeZoneRegExp","dateRegExp","offsetRegExp","FORMATS_SEQUENCE","STANDARD_FORMATS","2","3","4","outOfRange","designatorPredicate","designator","mapDesignators","designators","map","adjustDST","hours","setHours","lowerArray","array","lowerLocalInfo","localInfo","newLocalInfo","property","parseExact","strict","lookAhead","getNumber","size","rg","RegExp","substr","valueIdx","getIndexByName","lower","nameLength","matchLength","matchIdx","subValue","checkLiteral","year","month","day","seconds","milliseconds","defaultYear","count","pmHour","UTC","matches","amDesignators","pmDesignators","hoursOffset","minutesOffset","hasTime","_lowerDays","_lowerMonths","parseFloat","isNaN","setFullYear","parseMicrosoftFormatOffset","offset","getDefaultFormats","cultureFormats","formatIdx","formats","concat","internalParseDate","tzoffset","timezone","convert","getShadows","shadow","css","transitions","radius","blur","left","right","bottom","wrap","autosize","percentage","parent","windowOuterWidth","removeClass","hasClass","width","style","height","percentWidth","percentHeight","forceWidth","is","addClass","attr","boxSizing","mozBoxSizing","webkitBoxSizing","wrapResize","wrapper","wrapperStyle","display","position","destination","deepExtendOne","source","ObservableArray","LazyObservableArray","DataSource","HierarchicalDataSource","propValue","propType","propInit","destProp","ArrayBuffer","getTime","testRx","agent","rxs","dflt","rx","toHyphens","toCamelCase","strMatch","g1","toUpperCase","getComputedStyles","properties","styles","computedStyle","defaultView","getComputedStyle","getPropertyValue","currentStyle","isScrollable","className","overflow","scrollLeft","webkit","browser","mozila","mozilla","browserVersion","el","isRtl","safari","scrollWidth","clientWidth","parseDate","parseExactDate","percentSymbol","_scrollbar","scrollbar","refresh","div","createElement","cssText","innerHTML","body","appendChild","offsetWidth","removeChild","closest","table","tbodyInnerHtml","touch","docStyle","transforms","elementProto","HTMLElement","hasHW3D","WebKitCSSMatrix","cssFlexbox","prefix","hasTransitions","lowPrefix","event","devicePixelRatio","screenWidth","screen","availWidth","innerWidth","screenHeight","availHeight","innerHeight","detectOS","ua","os","minorVersion","notAndroidPhone","agentRxs","wp","fire","android","iphone","ipad","meego","webos","blackberry","playbook","windows","tizen","sailfish","ffos","osRxs","ios","flat","formFactorRxs","tablet","browserRxs","omini","omobile","firefox","mobilesafari","ie","chrome","navigator","device","majorVersion","flatVersion","cordova","PhoneGap","appMode","standalone","location","protocol","mobileOS","userAgent","wpDevicePixelRatio","hasNativeScrolling","delayedClick","mouseAndTouchPresent","detectBrowser","chromiumEdgeMatch","edge","opera","msie","documentMode","chromiumEdge","detectClipboardAccess","commands","queryCommandSupported","cut","paste","clipboard","zoomLevel","ie11WidthCorrection","docEl","scrollHeight","clientHeight","top","cssClass","docElement","eventCapture","addEventListener","input","placeholder","propertyChangeEvent","types","setAttribute","cssFloat","stableSort","threshold","sorted","field","sort","b","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","selector","nodeList","querySelectorAll","parentNode","matchMedia","pushState","history","hashChange","customElements","mobileChrome","crios","obj","getOffset","positioned","pointers","msPointers","pageYOffset","pageXOffset","MSPointerEvent","PointerEvent","kineticScrollNeeded","directions","down","up","in","out","parseEffects","effects","fx","Element","prepareAnimationOptions","duration","complete","teardown","hide","completeCallback","animate","instance","queue","promise","toggleClass","classes","add","enabled","dequeue","disable","promiseShim","enable","animatedPromise","kendoStop","clearQueue","gotoEnd","stop","kendoAnimate","kendoAddClass","kendoRemoveClass","kendoToggleClass","toggle","ampRegExp","ltRegExp","quoteRegExp","aposRegExp","gtRegExp","htmlEncode","unescape","decodeURIComponent","error","_","m1","m2","fromCharCode","eventTarget","touches","originalEvent","changedTouches","elementFromPoint","clientX","clientY","callback","on","mousedown","mouseup","mousemove","mousecancel","click","resize","wrapExpression","members","localUrlRe","Widget","widgets","_widgetRegisteredCallbacks","ui","mobile","dataviz","drawing","spreadsheet","messages","keys","INSERT","DELETE","BACKSPACE","TAB","ENTER","ESC","LEFT","UP","RIGHT","DOWN","END","HOME","SPACEBAR","PAGEUP","PAGEDOWN","F2","F10","F12","NUMPAD_PLUS","NUMPAD_MINUS","NUMPAD_DOT","ns","isLocalUrl","url","expr","expression","safe","getter","setter","accessor","get","set","guid","random","chars","roleSelector","role","directiveSelector","directives","selectors","triggeredByInput","tagName","onWidgetRegistered","len","logToConsole","message","console","suppressLog","log","angular","dataSource","props","componentTypes","componentType","defaults","_hasBindingTarget","kendoBindingTarget","_tabindex","TABINDEX","tabindex","removeAttr","setOptions","_clearCssClasses","_setEvents","_applyCssClasses","force","getSize","currentSize","_size","_resize","dimensions","setSize","destroy","removeData","_destroy","_muteAngularRebind","_muteRebind","protoOptions","__proto__","prop","validFill","widgetName","cssProperties","propertyDictionary","_altname","getValidClass","widget","propName","fillMode","fill","_ariaLabel","inputElm","inputId","labelElm","ariaLabel","ariaLabelledBy","labelId","_generateLabelId","newOptions","currentOptions","themeColor","label","DataBoundWidget","dataItems","flatView","_angularItems","cmd","elements","items","dataItem","templateRegExp","domElement","offsetHeight","notify","jsonRegExp","jsonFormatRegExp","dashRegExp","parseOption","option","getAttribute","parseOptions","containmentComparer","contains","resizableWidget","inArray","initWidget","roles","fullPath","widgetKeyRegExp","nodeType","widgetKey","isEmptyObject","rolesFromNamespaces","namespaces","find","addBack","filter","widgetsArray","makeArray","widgetInstance","progress","container","mask","leftRight","webkitCorrection","containerScrollLeft","scrollTop","opacity","loading","prependTo","remove","plugin","register","widgetEntry","args","method","ContainerNullObject","nullObject","MobileWidget","autoApplyNS","kendoDestroy","view","viewElement","viewHasNativeScrolling","useNativeScrolling","eq","focusable","isTabIndexNotNaN","nodeName","disabled","href","visible","pseudos","parents","appLevelNativeScrolling","application","themes","views","touchScroller","useNative","Scroller","kendoMobileScroller","suites","elementData","editorToolbar","onResize","setTimeout","unbindResize","off","attrValue","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","kendoFocusable","MOUSE_EVENTS","EXCLUDE_BUST_CLICK_SELECTOR","MouseEventNormalizer","setupMouseMute","mouseTrap","bustClick","captureMouse","stopPropagation","muteMouse","clearTimeout","mouseTrapTimeoutID","unMuteMouse","eventMap","move","cancel","MSPointerEnter","MSPointerLeave","orig","fix","special","delegateType","bindType","handle","ret","related","relatedTarget","handleObj","origType","getEventMap","eventRegEx","applyEventMap","keyDownHandler","kendoKeydown","preventKendoKeydown","kendoJQuery","context","rootjQuery","animationFrame","pop","search","touchstart","touchend","keyDownCallBack","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","Sun","Mon","Tue","Wed","Thu","Fri","Sat","ruleToDate","rule","targetDay","ourDay","time","cache","getUTCDay","setUTCDate","findRule","utcTime","rules","zone","grep","from","to","findZone","zones","zoneRules","until","zoneAndRule","info","fromOffset","toOffset","tempToOffset","diff","fromLocalOffset","toLocalOffset","toLocalDate","MS_PER_MINUTE","MS_PER_DAY","setDayOfWeek","dir","setDate","dayOfWeek","firstDayOfMonth","lastDayOfMonth","last","timeOffset","firstDayOfYear","lastDayOfYear","moveDateToWeekStart","weekStartDay","addDays","calcWeekInYear","firstWeekInYear","newDate","diffInMS","weekInYear","prevWeekDate","nextWeekDate","weekNumber","toUtcTime","toInvariantTime","isInTimeRange","msMin","msMax","msValue","isInDateRange","setTime","ignoreDST","difference","today","isToday","staticDate","addYear","currentDate","nextDay","previousDay","MS_PER_HOUR","nextYear","previousYear","stripWhitespace","createNodeIterator","iterator","NodeFilter","SHOW_TEXT","node","FILTER_ACCEPT","FILTER_REJECT","nextNode","referenceNode","textContent","trim","childNodes","child","nodeValue","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","animationQueue","themeColorValues","queueAnimation","runNextAnimation","parseQueryStringParams","queryString","params","paramParts","elementUnderCursor","x","client","wheelDeltaY","jQueryEvent","deltaY","delta","wheelDelta","detail","axis","VERTICAL_AXIS","throttle","delay","timeout","lastExecTime","throttled","elapsed","caret","rangeElement","isPosition","selectionStart","focus","setSelectionRange","selectionEnd","selection","createTextRange","collapse","moveStart","moveEnd","select","rangeDuplicated","duplicate","moveToBookmark","createRange","getBookmark","setEndPoint","text","compileMobileDirective","scope","injector","invoke","$compile","$$phase","$digest","antiForgeryTokens","tokens","csrf_token","csrf_param","cycleForm","form","firstElement","lastElement","keyCode","shiftKey","focusElement","scrollTopPositions","scrollableParents","parentsUntil","setActive","focusNextElement","focussable","nextElement","getWidgetFocusableElement","nextFocusable","addAttribute","attribute","removeAttribute","toggleAttribute","matchesMedia","mediaQuery","media","_bootstrapToMedia","bootstrapMedia","xs","sm","md","lg","xl","fileGroupMap","audio","video","image","txt","presentation","programming","pdf","config","zip","disc-image","getFileGroup","extension","withPrefix","fileTypeMap","groups","extensions","getFileSizeMessage","sizes","pow","selectorFromClasses","fillValues","shapeValues","sizeValues","roundedValues","positionModeValues","resizeValues","overflowValues","postToProxy","dataURI","fileName","proxyURL","proxyTarget","action","contentType","base64","appendTo","submit","defaultValues","registerPrefix","dict","registerValues","j","newValues","currentValue","registerCssClass","shorthand","registerCssClasses","arr","widgetProperties","widgetValues","validValue","fillModeValues","propertyToCssClassMap","getValidCssClass","whenAll","resolveValues","remaining","deferred","Deferred","failed","rejectContexts","rejectValues","resolveContexts","updateFunc","contexts","notifyWith","done","fail","resolveWith","fileSaver","downloadAttribute","saveAsBlob","blob","atob","Uint8Array","Blob","buffer","msSaveBlob","saveAsDataURI","URL","createObjectURL","download","createEvent","initMouseEvent","dispatchEvent","revokeObjectURL","saveAs","save","forceProxy","proxyModelSetters","observable","forEach","defineProperty","dirty","getSeriesColors","seriesColorsTemplate","series","colors","item","isElement","HTMLDocument","setDefaults","path","curr","class2type","_i","amd","a1","a2","a3","depends","scaleProperties","scale","scalex","scaley","scale3d","translateProperties","translate","translatex","translatey","translate3d","hasZoom","zoom","matrix3dRegExp","cssParamsRegExp","translateXRegExp","oldEffectsRegExp","singleEffectRegExp","unitRegExp","transformProps","transform2d","transform2units","rotate","skew","cssPrefix","BLANK","PX","NONE","AUTO","WIDTH","HEIGHT","HIDDEN","ORIGIN","ABORT_ID","OVERFLOW","TRANSLATE","POSITION","COMPLETE_CALLBACK","TRANSITION","TRANSFORM","BACKFACE","PERSPECTIVE","DEFAULT_PERSPECTIVE","TRANSFORM_PERSPECTIVE","transition","vertical","modifier","horizontal","stopQueue","val","animationProperty","transformValue","step","elem","now","curProxy","cur","parseInteger","parseCSS","acc","propertyName","strip3DTransforms","normalizeCSS","transformation","cssValues","lowerKey","isTransformed","exclusive","ease","mirror","redirectedEffect","resolved","$1","$2","effect","direction","effectBody","oldKeys","timeoutID","stopTransitionCalled","stopTransition","speeds","merge","uniqueSort","unique","taskKeys","retainPosition","transform","computed","atan2","EffectSet","restore","run","jdx","children","childrenLength","setReverse","addRestoreProperties","prepare","effectName","reset","setup","resolve","restoreCallback","Effect","effectClass","effectSet","parsedEffects","capitalize","useTransition","show","multiple","single","isFixed","originalPosition","dX","dY","marginLeft","marginTop","_direction","_additionalEffects","_reverse","play","additional","_duration","compositeRun","_complete","shouldHide","word","createEffect","definition","opt1","opt2","opt3","theDirection","FOUR_DIRECTIONS","IN_OUT","createToggleEffect","defaultStart","defaultEnd","startValue","_startValue","endValue","_endValue","_shouldHide","startDataValue","startDataValueIsSet","divisor","tmp","previous","previousDivisor","slideIn","origin","margin","setLength","oldLength","realLength","TRANSFER_START_STATE","CLIPS","outerBox","box","innerBox","currentScale","fillScale","transformOrigin","ROTATIONS","clipInHalf","_container","rotation","zIndex","_clipInHalf","clip","append","face","_face","temporary","back","reverseDirection","temp","faceClone","backClone","staticPage","turningPage","transformStyle","RESTORE_OVERFLOW","IGNORE_TRANSITION_EVENT_SELECTOR","Animation","_before","_after","transitionClass","_previous","_transitionClass","beforeTransition","afterTransition","_both","_element","_containerClass","containerClass","completeProxy","isAbsolute","both","originalOverflow","_tickProxy","_tick","_started","tick","onEnd","onCancel","Transition","timePassed","startDate","moveTo","movable","initial","_easeProxy","moveAxis","easeOutExpo","easeOutBack","inner","outer","fitScale","hidden","NEWLINE","DOUBLELINE","odataFilters","neq","gt","gte","lt","lte","doesnotcontain","endswith","startswith","isnull","isnotnull","isnullorempty","isnotnullorempty","isempty","isnotempty","odataFiltersVersionFour","mappers","pageSize","page","useVersionFour","toOdataFilter","$filter","orderby","order","$orderby","skip","$skip","take","$top","defaultDataType","read","dataType","useOdataFour","logic","operator","ignoreCase","filters","stripMetadata","hex16","createBoundary","createDelimeter","boundary","close","createCommand","transport","httpVerb","command","transportUrl","commandPrefix","getOperationHeader","changeset","changeId","header","getOperationContent","content","getOperations","collection","skipContent","requestBody","processCollection","colection","getBoundary","createBatchRequest","colections","batch","batchURL","headers","Content-Type","updated","destroyed","created","parseBatchResponse","responseText","responseMarkers","markerIndex","collections","changeBody","status","code","marker","jsonModel","models","passed","parse","schemas","odata","results","total","transports","jsonp","update","create","parameterMap","$inlinecount","$format","odata-v4","$count","ajax","success","response","responses","XmlDataReader","model","errors","serialize","modelBase","Model","fields","idField","xpathToMember","evaluate","modelInstance","record","_parse","xmlParse","xml","parseDOM","parsedNode","attributes","attributeCount","firstChild","nextSibling","intermediateResult","tree","parseXML","raw","readers","features","ASCENDING","CREATE","READ","UPDATE","DESTROY","CHANGE","SYNC","GET","ERROR","REQUESTSTART","PROGRESS","REQUESTEND","ITEMSLOADED","ITEMLOAD","crud","identity","o","objectKeys","ObservableObject","wrapAll","_loadPromises","_loadedNodes","at","serializeFunctions","json","object","isGroup","_loading","nodes","omitChangeEvent","howMany","thisArg","reduce","reduceRight","every","some","empty","Symbol","parentFn","_parent","eventHandler","_notifyChange","ownKeys","ignoreObjectKeys","filteredObjectKeys","getOwnPropertyNames","getPrototypeOf","_handlers","uid","shouldSerialize","f","_set","composite","paths","isSetPrevented","change","isObservableArray","isDataSource","equal","xtype","ytype","parsers","boolean","default","getFieldByName","fieldName","_initializers","dirtyFields","_defaultId","editable","accept","isNew","Comparer","originalName","functionFields","nullable","defaultValue","compare","localeCompare","combine","comparers","StableComparer","asc","valueA","valueB","__position","desc","operators","textOp","impl","ignore","accentFoldingFiltering","toLocaleLowerCase","op","getMatchRegexp","esc","doesnotstartwith","n","doesnotendwith","doesnotmatch","Query","normalizeSort","descriptor","descriptors","sortFields","sorts","sortObject","filterExpr","expressions","and","or","fieldFunctions","operatorFunctions","operatorMap","==","equals","isequalto","equalto","!=","ne","notequals","isnotequalto","notequalto","notequal","<","islessthan","lessthan","less","<=","le","islessthanorequalto","lessthanequal",">","isgreaterthan","greaterthan","greater",">=","isgreaterthanorequalto","greaterthanequal","ge","notsubstringof","normalizeOperator","normalizeFilter","compareDescriptor","f1","f2","normalizeDescriptor","fieldComparer","compareFilters","expr1","expr2","filters1","filters2","normalizeAggregate","normalizeGroup","skipItemSorting","aggregates","normalizeGroupWithoutCompare","anyGroupDescriptorHasCompare","groupDescriptors","groupValueComparer","calculateAggregate","accumulator","state","aggr","functionName","aggregate","functions","toArray","range","inPlace","orderBy","orderByDescending","comparer","compiled","predicate","group","allData","groupPaging","groupAllData","hasSubgroups","itemCount","subgroupCount","groupBy","_sortForGrouping","groupValue","_sortGroups","sum","isNumber","average","isDate","process","customGroupSort","query","groupDescriptorsWithoutCompare","normalizedSort","groupDescriptorsWithoutSort","filterCallback","flatGroups","groupDescriptor","virtual","LocalTransport","RemoteTransport","Cache","parameters","operation","_store","clear","serializeRecords","getters","originalFieldNames","fieldNames","setters","convertRecords","convertGroup","wrapDataAccess","originalFunction","converter","wrapDataAccessBase","store","inmemory","DataReader","schema","dataFunction","_dataAccessFunction","groupsFunction","serializeFunction","serializeGetters","fromName","_wrapDataAccessBase","fillLastGroup","originalGroup","newGroup","currOriginal","currentNew","mergeGroups","dest","indexFunction","groupsLength","indexFn","groupIndex","itemIndex","flattenGroups","wrapGroupItems","eachGroupItems","func","replaceInRanges","ranges","replaceInRange","replaceWithObservable","serverGrouping","viewIndex","removeModel","indexOfPristineModel","indexOfModel","fieldNameFromModel","convertFilterDescriptorsField","convertDescriptorsField","_map","_prefetch","_data","_pristineData","_ranges","_view","_pristineTotal","_destroyed","_pageSize","_page","_sort","_sortFields","_filter","_group","_aggregate","_total","_groupPaging","_groupsState","_shouldDetachObservableParents","Transport","pushCreate","_pushCreate","pushUpdate","_pushUpdate","pushDestroy","_pushDestroy","offlineStorage","_storage","getItem","localStorage","setItem","reader","_detachObservableParents","_observe","_online","serverSorting","serverPaging","serverFiltering","serverAggregates","inPlaceSort","online","sync","offlineData","_isServerGrouped","_isServerGroupPaged","_isGroupPaged","_push","_readData","_flatData","useRanges","getByUid","_getByUid","_storeData","_addRange","_process","_observeView","insert","_createNewModel","_wrapInEmptyGroup","_insertModelInRange","pushInsert","rangeSpan","_getCurrentRangeSpan","pushed","autoSync","pristine","pristineData","_updatePristineForModel","_removeItems","removePristine","shouldRemovePristine","found","_eachItem","_removePristineForModel","pushMove","_moveItems","moved","hasGroups","_removeModelFromRanges","promises","_sendSubmit","_send","when","then","_accept","_syncEnd","_change","cancelChanges","_cancelModel","_changesCanceled","_markOfflineUpdatesAsDirty","__state__","hasChanges","serverGroup","_handleCustomErrors","_executeOnPristineForModel","_eachPristineItem","_pristineForModel","_modelCanceled","_submit","reject","_promise","converted","_params","_queueRequest","isPrevented","_dequeueRequest","_readAggregates","replaceSubset","_serverGroupsTotal","_aggregateResult","itemIds","_skip","endless","_changeHandler","updatePristine","timestamp","_timeStamp","outerStart","outerEnd","_sortRanges","_groupsFlat","_appendToGroupsFlat","_updateOuterRangesLength","_getGroupByUid","xhr","errorThrown","_requestInProgress","_pending","_shouldWrap","arrayType","_updateTotalForAction","_calculateAggregates","_take","currentRangeStart","_clearEmptyGroups","_queryProcess","dataToAggregate","_setView","_setFilterTotal","_mergeState","_currentRangeStart","remote","moreItemsCount","_hasExpandedSubGroups","_findGroupedRange","itemsLength","groupCount","itemsToSkip","taken","_fetchGroupItems","_fetchingGroupItems","skipped","includeParents","excludeHeader","currentItems","_expandedSubGroupItemsCount","includeCurrentItems","subGroup","endSpecified","groupItemsSkip","firstItem","lastItem","groupItemCount","expandedSubGroupItemsCount","getGroupItems","notFetched","subgroups","_composeItemsFilter","findSubgroups","_timeout","_groupItemsSuccessHandler","totalField","totalCount","_updateRangePristineData","countAdded","_currentRequestTimeStamp","_skipRequestsInProgress","indexOfCurrentGroup","rangesLength","currentGroup","dataLength","indexes","currIdx","_containsSubGroup","_cloneGroup","subgroup","currentSubGroup","filterTotal","setDefaultValue","fetch","_query","next","totalPages","prev","_pageableQueryOptions","getGroupsFlat","groupsTotal","includeExpanded","_calculateGroupsTotal","itemsField","ignoreState","_groupsTotal","countGroupRange","_emptyAggregates","ceil","inRange","_findRange","lastRange","firstItemUid","enableRequestsInProgress","pageSkip","_processRangeData","_originalPageSkip","_originalSize","_adjustPageSkip","_groupRangeExists","_rangeExists","prefetch","skipIdx","takeIdx","startIndex","endIndex","rangeData","rangeEnd","processed","flatData","groupMapOptions","prevRangeEnd","isGroupPaged","startField","endField","currentDataLength","_mergeGroups","_getRangesMismatch","mismatch","prevGroup","eventData","_omitPrefetch","paging","sorting","filtering","_prefetchSuccessHandler","_multiplePrefetch","prevRange","_getPrevRange","_getNextRange","availableItemsCount","_removeModelFromRange","_updateRangesLength","mismatchFound","mismatchLength","lengthDifference","rangeLength","inferSelect","firstField","secondField","optgroup","specified","inferTable","tbody","tBodies","rows","fieldIndex","fieldCount","cells","cell","transportOptions","Node","hasChildren","childrenField","childrenOptions","hasChildrenObject","_childrenOptions","_initChildren","_loaded","_updateChildrenField","loaded","level","_childrenLoaded","load","_matchFilter","dataMethod","_attachBubbleHandlers","_hierarchicalFilter","_childrenLoading","isLoading","_markHierarchicalQuery","_updateHierarchicalFilter","_find","inferList","list","textField","urlField","spriteCssClassField","imageUrlField","textChild","_dataSource","Buffer","viewSize","disablePrefetch","_prefetching","_reset","_syncWithDataSource","setViewSize","_recalculate","itemPresent","dataOffset","prefetchThreshold","midPageThreshold","nextMidRange","nextPageThreshold","nextFullRange","pullBackThreshold","previousMidRange","previousFullRange","_goToRange","nextRange","syncDataSource","prefetchOffset","expanding","_expanding","_syncPending","_firstItemUid","BatchBuffer","batchSize","batchBuffer","endreached","prefetching","prefetched","isJQueryPromise","isNativePromise","catch","signalr","hub","callbacks","_crud","server","binders","VALUE","SOURCE","EVENTS","CHECKED","CSS","deleteExpando","Binding","dependencies","_access","_parents","dependency","currentSource","EventBinding","TemplateBinding","Binder","bindings","binding","TypedBinder","parsedValue","_parseValue","dataSourceBinding","bindingName","_dataBinding","dataBinding","_dataBound","dataBound","_itemChange","itemChange","bindElement","_ns","removedItems","unbindElementTree","all","addedItems","hds","addedDataItems","multiselect","dropdowntree","Select","MultiSelect","DropDownTree","treeview","retrievePrimitiveValues","dataValueField","readonly","dataFormat","invisible","valueUpdate","_initChange","autoBind","valueField","cloneNode","reference","insertBefore","unbindElementChildren","checked","selectedIndex","selected","valuePrimitive","valueIndex","sourceValue","optionIndex","optionValue","check","_range","floatingLabel","_valueIsObservableObject","_valueIsObservableArray","_source","dataTextField","isObservableObject","valueLength","sourceItem","cascadeFrom","listView","bound","_preselect","oldValues","selectedNode","nonPrimitiveValues","_isMultipleSelection","_getAllChecked","newLength","old","same","removeIndex","newValue","arraySplice","selectedValue","gantt","_isBound","scheduler","grid","badge","addLength","shifted","shiftedLength","BindingTarget","toDestroy","hasValue","hasSource","hasEvents","hasChecked","hasCss","widgetBinding","WidgetBindingTarget","specificBinders","applyBinding","binder","bindingTargetForRole","keyValueRegExp","whiteSpaceRegExp","parseBindings","token","colonIndex","createBindings","childrenCopy","unbindElement","dom","destroyWidget","bindingTarget","destroyWidgets","namespace","observableHierarchy","recursiveRead","NS","INVALIDMSG","invalidMsgRegExp","INVALIDINPUT","VALIDINPUT","VALIDATIONSUMMARY","INVALIDLABEL","MESSAGEBOX","INPUTINNER","INPUTWRAPPER","ARIAINVALID","ARIADESCRIBEDBY","emailRegExp","urlRegExp","INPUTSELECTOR","CHECKBOXSELECTOR","NUMBERINPUTSELECTOR","BLUR","NAME","FORM","NOVALIDATE","VALIDATE","VALIDATE_INPUT","patternMatcher","matcher","hasAttribute","validator","allowSubmit","validateOnInit","resolveRules","resolvers","ruleResolvers","decode","numberOfDecimalDigits","parseHtml","parseHTML","searchForMessageContainer","containers","isLabelFor","SUMMARYTEMPLATE","Validator","validateAttributeSelector","_errorTemplate","errorTemplate","_summaryTemplate","validationSummary","_inputSelector","_checkboxSelector","_errors","_attachEvents","_isValidated","_validateOnInit","validate","required","email","dateCompare","captcha","noNameCheckbox","namedCheckbox","checkbox","radio","raise","isValidated","isValid","getCaptchaId","_validating","_checkElement","warn","validateOnBlur","_allowSubmit","stopImmediatePropagation","validateInput","inputs","invalid","showValidationSummary","valid","_checkValidity","lbl","_findMessageContainer","messageText","_extractMessage","messageLabel","wasValid","isInputInner","inputWrapper","lblId","_decorateMessageContainer","replaceWith","parentElement","prevElement","insertAfter","_inputWrapper","inputWrap","inputLabel","_inputLabel","errorId","_associateMessageContainer","hideMessages","_disassociateMessageContainers","labels","hideValidationSummary","locators","messageLocators","getElementsByTagName","locate","decorate","ruleKey","customMessage","nonDefaultMessage","_getInputNames","_errorsByName","inputNames","_renderSummary","_summaryClick","link","summary","errorsList","BACK","SAME","CHECK_URL_INTERVAL","BROKEN_BACK_NAV","hashStrip","absoluteURL","pathPrefix","regEx","host","hashDelimiter","bang","locationHash","stripRoot","root","HistoryAdapter","forward","replaceLocation","PushStateAdapter","navigate","title","replaceState","normalize","pathname","normalizeCurrent","fixedUrl","hash","hashBang","fixHash","fixBang","HashAdapter","_id","_interval","setInterval","clearInterval","History","adapter","createAdapter","historyLength","locations","_checkUrl","silent","_navigate","backCalled","navigatingInExisting","backButtonPressed","INIT","ROUTE_MISSING","optionalParam","namedParam","splatParam","escapeRegExp","namedParamReplace","optional","routeToRegExp","route","stripUrl","Route","_callback","queryStringParams","_back","worksWith","Router","routes","_urlChangedProxy","_sameProxy","_backProxy","sameProxy","_same","backProxy","urlChangedProxy","_urlChanged","initEventObject","SCRIPT","TRANSITION_START","TRANSITION_END","SHOW","HIDE","ATTACH","DETACH","sizzleErrorRegExp","bodyRegExp","LOAD_START","LOAD_COMPLETE","SHOW_START","SAME_VIEW_REQUESTED","VIEW_SHOW","VIEW_TYPE_DETERMINED","AFTER","classNames","stretchedView","footer","View","renderOnInit","_createElement","wrapInSections","_renderSections","_wrap","_evalTemplate","evalTemplate","_useWithBlock","_fragments","detachOnHide","detachOnDestroy","notInitialized","_eachFragment","ViewClone","triggerBeforeShow","triggerBeforeHide","showStart","showEnd","hideEnd","detach","purge","fragments","methodName","getElementById","contents","_wrapper","_createContent","_createHeader","_createFooter","contentSelector","ccontentElements","contentElement","Layout","_createContainer","showIn","ViewContainer","Fragment","attach","transitionRegExp","parseTransition","running","after","locationID","previousEntry","theTransition","transitionData","ViewEngine","sandbox","_hideViews","rootView","layouts","viewContainer","showView","remoteViewURLPrefix","_findViewElement","reload","_createView","urlPath","wrapInner","_locate","$angular","_findViewElementById","_createSpaView","_createMobileView","defaultTransition","loader","getLayout","getLayoutProxy","modelScope","viewOptions","OS","invalidZeroEvents","DEFAULT_MIN_HOLD","CLICK_DELAY","DEFAULT_THRESHOLD","PRESS","HOLD","SELECT","START","MOVE","CANCEL","TAP","DOUBLETAP","RELEASE","GESTURESTART","GESTURECHANGE","GESTUREEND","GESTURETAP","THRESHOLD","api","mouse","pointer","ENABLE_GLOBAL_SURFACE","touchDelta","touch1","touch2","x1","y1","x2","y2","dx","dy","center","distance","sqrt","getTouches","currentTarget","identifier","pointerId","TouchAxis","_updateLocationData","startLocation","velocity","timeStamp","timeDelta","initialDelta","Touch","userEvents","touchInfo","useClickAsTap","initialTouch","pressEvent","_clicks","supportDoubleTap","_moved","_finished","press","_holdTimeout","_hold","minHold","_trigger","_tap","_clickTimeout","preventMove","_shouldNotMove","_withinIgnoreThreshold","UserEvents","_start","dispose","endTime","activeTouches","isMoved","startTime","xDelta","yDelta","withEachUpEvent","downEvents","_maxTouches","multiTouch","allowSelection","captureUpIfMoved","fastTap","eventNS","surface","global","ownerDocument","pressed","defaultAction","touchAction","preventDragEvent","surfaceElement","preventIfMovingProxy","preventIfMoving","_isMoved","removeEventListener","_disposeAll","capture","_isMultiTouch","_apiCall","_maxTouchesReached","_select","which","_move","_eachTouch","_end","_click","pageX","pageY","matchingTouch","defaultThreshold","$window","draggables","dropTargets","dropAreas","lastDropTarget","KEYUP","DRAGSTART","DRAG","DRAGEND","DRAGCANCEL","HINTDESTROYED","DRAGENTER","DRAGLEAVE","DROP","numericCssPropery","within","containerBoundaries","minX","minY","maxX","maxY","checkTarget","targets","areas","theTarget","theFilter","targetLen","areaLen","targetElement","TapCapture","_press","_release","attachEvent","captureNext","cancelCapture","PaneDimension","forcedEnabled","measure","scrollSize","makeVirtual","_virtualMin","_virtualMax","virtualSize","outOfBounds","forceEnabled","getTotal","rescale","scaledTotal","minScale","centerOffset","PaneDimensions","forcedMinScale","maxScale","newScale","centerCoordinates","PaneAxis","dimension","dragMove","resistance","translateAxis","Pane","elastic","gesturestart","gesture","gesturechange","previousGesture","previousCenter","scaleDelta","coordinates","offsetX","offsetY","scaleWith","TRANSFORM_STYLE","Movable","webkitTransformOrigin","_saveCoordinates","by","scaleTo","newCoordinates","destroyDroppable","groupName","droppables","DropTarget","draggable","dropTarget","_over","_out","_drop","dropped","DropTargetArea","destroyGroup","_cache","Draggable","_activated","hold","_drag","_cancel","_afterEndHandler","_afterEnd","_captureEscape","cursorOffset","holdToDrag","autoScroll","cancelHold","_updateHint","boundaries","hintOffset","hint","_shouldIgnoreTarget","ignoreSelector","currentTargetOffset","scopeTarget","scopeFrom","cursorElement","_elementUnderCursor","_cursorElement","_scrollableParent","findScrollableParent","_lastEvent","_processMovement","autoScrollVelocity","scrollableViewPort","_scrollCompenstation","_scrollVelocity","_scrollInterval","_autoScroll","_withDropTarget","compensation","yIsScrollable","xIsScrollable","isRootNode","scrollableRoot","yInBounds","xInBounds","initialTarget","mouseX","mouseY","rect","AUTO_SCROLL_AREA","utils","advanced","OPEN","CLOSE","DEACTIVATE","ACTIVATE","CENTER","TOP","BOTTOM","ABSOLUTE","BODY","LOCATION","VISIBLE","EFFECTS","ACTIVE","ACTIVEBORDER","ACTIVEBORDERREGEXP","ACTIVECHILDREN","MOUSEDOWN","DOCUMENT_ELEMENT","WINDOW","SCROLL","Popup","parentPopup","collisions","collision","downEvent","anchor","_hovered","scrollArea","animation","open","_animationClose","_mousedownProxy","_mousedown","_resizeProxy","toggleTarget","toggleEvent","viewport","copyAnchorStyles","modal","adjustSize","omitOriginOffsets","_hideDirClass","_closing","_toggleResize","fixed","listbox","flipped","_position","_openAnimation","_showDirClass","_location","dirClass","skipEffects","openEffects","closeEffects","popup","ev","_resizeTimeout","_scrollableParents","_fit","viewPortSize","output","_flip","anchorSize","boxSize","isWindow","origins","positions","siblingContainer","parentZIndex","viewportOffset","viewportWidth","viewportHeight","siblings","_align","pos","offsetParent","anchorParent","offsets","flipPos","elementHeight","wrapperHeight","verticalOrigin","horizontalOrigin","verticalPosition","horizontalPosition","anchorOffset","appendToOffset","anchorWidth","anchorHeight","tabKeyTrapNS","focusableNodesSelector","TabKeyTrap","trap","_keepInTrap","removeTrap","shouldTrap","_focusableElements","sortedElements","_sortFocusableElements","_nextFocusable","_focus","tabIndex","attrName","contentWindow","_haveSelectionRange","elementType","MAX_DOUBLE_TAP_DISTANCE","eventProxy","_triggerTouch","gestureEventProxy","tap","gestureend","enableSwipe","_swipestart","_swipemove","_dragstart","minXDelta","maxYDelta","maxDuration","doubleTapTimeout","lastTap","SNAPBACK_DURATION","SCROLLBAR_OPACITY","FRICTION","VELOCITY_MULTIPLIER","MAX_VELOCITY","OUT_OF_BOUNDS_FRICTION","ANIMATED_SCROLLER_PRECISION","RELEASECLASS","REFRESHCLASS","PULL","RESIZE","MOUSE_WHEEL_ID","ZoomSnapBack","tapCapture","DragInertia","freeze","_moveTo","paneAxis","_snapBack","velocityMultiplier","friction","snapBack","AnimatedScroller","_updateCoordinates","setCoordinates","setCallback","ScrollBar","controlsId","elementSize","scrollMovable","alwaysVisible","paneSize","sizeRatio","_ariaValue","visibility","_native","prepend","scrollElement","fixedContainer","avoidScrolling","velocityX","velocityY","horizontalSwipe","originatedFromFixedContainer","verticalSwipe","pane","zoomSnapBack","animatedScroller","scrollTo","mousewheelScrolling","_wheelScroll","pulled","_initAxis","_wheelEnd","_wheel","_wheelY","pullToRefresh","_initPullToRefresh","ctrlKey","_wheelTimeout","pullOffset","visibleScrollHints","pullTemplate","releaseTemplate","refreshTemplate","contentResized","_scale","zoomOut","animatedScrollTo","pullHandled","refreshHint","hintContainer","yinertia","xinertia","_paneChange","_dragEnd","elementId","scrollBar","UI_OVERLAY","BEFORE_SHOW","AFTER_SHOW","BEFORE_HIDE","initPopOvers","popovers","preventScrollIfNotInput","_layout","_overlay","_scroller","_model","layout","stretch","scroller","initWidgets","overlay","$destroy","inited","_invokeNgController","_padIfNativeScrolling","isAndroid","skin","isAndroidForced","hasPlatformIndependentSkin","topContainer","bottomContainer","paddingTop","paddingBottom","scrollerContent","idAttrValue","controller","_callController","$apply","$scope","platform","previousView","currentView","errorMessage","rootNeeded","_getLayout","_setupLayouts","showClosure","serverNavigation","_loadView","modalViews","_xhr","abort","always","_xhrComplete","CAPTURE_EVENTS","Loader","captureEvents","_attachCapture","changeMessage","transitionDone","EXTERNAL","HREF","DUMMY_HREF","NAVIGATE","SKIP_TRANSITION_ON_BACK_BUTTON","WIDGET_RELS","collapsible","historyCallback","viewEngine","_historyNavigate","_historyReplace","closeActiveDialogs","viewShow","loadStart","loadComplete","sameViewRequested","viewTypeDetermined","_setPortraitWidth","_setupAppLinks","dialogs","navigateToInitial","portraitWidth","bindToRouter","router","attrUrl","hideLoading","showLoading","changeLoadingMessage","linkRoles","pressedButtonSelector","buttonSelectors","_mouseup","_appLinkClick","rel","delayedTouchEnd","openFor","paneContainer","WRAPPER","ARROW","OVERLAY","DIRECTION_CLASSES","DIRECTIONS","ANIMATION","DIMENSIONS","REVERSE","containerPopup","popupOptions","activate","_activate","deactivate","arrow","elementOffset","offsetAmount","PopOver","initialOpen","SHIM","Shim","app","osname","ioswp","bb","align","shim","prevented","_hide","BEFORE_OPEN","WRAP","ModalView","_shim","AXIS","SWIPE_TO_OPEN","AFTER_HIDE","NULL_VIEW","Drawer","drawer","_viewShow","_attachTransition","swipeToOpen","_update","leftPositioned","swipeToOpenViews","_show","_moveViewTo","visibleOnCurrentView","_currentViewIncludedIn","_setAsCurrent","currentOffset","canMoveLeft","canMoveRight","leftSwipe","newPosition","limitedPosition","pastHalf","velocityThreshold","shouldShow","EXPANED_PANE_SHIM","SplitView","_style","panes","_paramsHistory","expandedPaneShim","_shimUserEvents","collapsePanes","expandPanes","DEFAULT_OS","BERRYPHONEGAP","FONT_SIZE_COEF","VERTICAL","CHROME","BROKEN_WEBVIEW_RESIZE","INITIALLY_HORIZONTAL","orientation","HORIZONTAL","MOBILE_PLATFORMS","ios7","viewportTemplate","usedWithBlock","systemMeta","clipTemplate","ENABLE_CLIP","iconMeta","HIDEBAR","SUPPORT_SWIPE_TO_GO_BACK","HISTORY_TRANSITION","BARCOMPENSATION","STATUS_BAR_HEIGHT","SCREEN","HEAD","osCssClass","variant","setDefaultPlatform","statusBarStyle","wp8Background","noVariantSet","isOrientationHorizontal","getOrientationClass","setMinimumHeight","applyViewportHeight","Application","bootstrap","_setupPlatform","_attachMeta","_setupElementClass","_attachHideBarHandlers","paneOptions","startHistory","updateDocumentTitle","_setupDocumentTitle","_startHistory","hideAddressBar","browserHistory","historyTransition","retina","refreshBackgroundFn","refreshBackgroundColorProxy","_resizeToScreenHeight","includeStatusBar","_clearExistingMeta","icon","hideBar","_hideBar","_initialHeight","defaultTitle","COMMAND","BUTTONS","CONTEXT_DATA","cancelTemplate","ActionSheet","ShimClass","_closeProxy","_close","_shimHideProxy","_shimHide","actionData","ANDROID3UP","CLICK","DISABLED","DISABLEDSTATE","highlightButton","highlight","deactivateTimeoutID","createBadge","Button","useTap","clickOn","_userEvents","release","_timeoutDeactivate","badgeElement","button","iconSpan","span","iconElement","BackButton","DetailButton","DISABLE","SELECTOR","ButtonGroup","_button","selectOn","_enable","li","buttongroup","COLLAPSIBLE","HEADER","CONTENT","INSET","HEADER_WRAPPER","CONTENT_WRAPPER","COLLAPSED","EXPANDED","ANIMATED","EXAPND","COLLAPSE","Collapsible","_buildHeader","not","collapsed","inset","collapseIcon","expandIcon","iconPosition","expand","instant","_getContentHeight","isCollapsed","ITEM_SELECTOR","HIGHLIGHT_SELECTOR","ICON_SELECTOR","GROUP_CLASS","ACTIVE_CLASS","GROUP_WRAPPER","GROUP_TEMPLATE","SEARCH_TEMPLATE","STYLED","DATABOUND","DATABINDING","ITEM_CHANGE","whitespaceRegExp","buttonRegExp","whitespace","TEXT_NODE","addIcon","querySelector","enhanceItem","enhanceLinkItem","itemAndDetailButtons","otherNodes","enhanceCheckBoxItem","putAt","HeaderFixer","_shouldFixHeaders","headerFixer","cacheHeaders","_cacheHeaders","_scrollHandler","_fixHeader","fixedHeaders","headerPair","currentHeader","DEFAULT_PULL_PARAMETERS","RefreshHandler","pullParameters","setDataSource","pull","_pulled","_first","VirtualList","endReached","itemConstructor","prevItem","below","totalHeight","averageItemHeight","remainingItemsCount","batchUpdate","initialOffset","lastDirection","above","nextIndex","padding","lastTop","topBorder","bottomBorder","VirtualListViewItem","setDataItem","LOAD_ICON","VirtualListViewLoadingIndicator","_loadIcon","VirtualListViewPressToLoadMore","_loadButton","loadMoreText","loadMore","kendoMobileButton","_hideShowButton","_showLoadButton","VirtualListViewItemBinder","chromeHeight","_scroll","_scrollEnd","pressToLoadMore","virtualViewSize","updateScrollerSize","updateSize","ListViewItemBinder","itemBinder","_refreshHandler","_progressHandler","_unbindDataSource","prependOnRefresh","appendOnRefresh","groupedMode","findByDataItem","adding","removing","_shouldShowLoading","insertAt","replaceGrouped","endlessScroll","ListViewFilter","filterable","before","autoFilter","searchInput","_oldFilter","_filterChange","clearButton","_clearFilter","_dataSourceChange","_refreshInput","appliedFilters","_search","_applyFilter","ListView","scrollTreshold","scrollThreshold","_headerFixer","_itemsCache","_templates","_itemBinder","_pullToRefreshHandler","_enhanceItems","headerTemplate","emptyDataSource","unwrap","_scrollerInstance","triggerChange","_renderItems","groupTemplate","replaceItem","newItem","_dim","_toggle","_highlight","clicked","plainItem","dataIDAttribute","templateProxy","groupTemplateProxy","_headerTemplate","buttonElement","_styleGroups","rootItems","groupHeader","grouped","enhanced","createContainer","toggleTitle","centerElement","noTitle","showTitle","prevAll","NavBar","leftElement","rightElement","CHANGING","REFRESH","CURRENT_PAGE_CLASS","VIRTUAL_PAGE_CLASS","CLEANUP","VIRTUAL_PAGE_COUNT","LEFT_PAGE","CETER_PAGE","RIGHT_PAGE","LEFT_SWIPE","NUDGE","RIGHT_SWIPE","Pager","scrollView","_changeProxy","_refreshProxy","_refresh","pageHTML","pageCount","ScrollViewPager","DRAG_START","DRAG_END","ElasticPane","updateDimension","transitionTo","ScrollViewContent","ScrollViewElasticPane","_getPages","contentHeight","enablePager","pagerOverlay","paneMoved","swipeType","bounce","approx","snap","nextPage","minSnap","maxSnap","currentPage","updatePage","forcePageUpdate","resizeTo","pageElements","containerHeight","pager","_paged","VirtualScrollViewContent","pages","_initPages","_buffer","_pendingPageRefresh","_pendingWidgetRefresh","_resetPages","itemsPerPage","_onResize","_resetProxy","_onReset","_endReachedProxy","_onEndReached","emptyTemplate","emptyTemplateProxy","Page","setWidth","_repositionPages","_updatePagesContent","thresholdPassed","isEndReached","_cancelMove","_moveBackward","_moveForward","setPageContent","_resetMovable","theContent","ScrollView","VirtualPage","transitionEnd","_transitionEnd","dragStart","_dragStart","dragEnd","_syncWithContent","_content","mobileContainer","viewInit","bounceVelocityThreshold","prevPage","SWITCHON","SWITCHOFF","MARGINLEFT","ACTIVE_STATE","DISABLED_STATE","RESOLVEDPREFIX","TRANSFORMSTYLE","limitValue","minLimit","maxLimit","SWITCH_MARKUP","Switch","onLabel","offLabel","background","constrain","snapPoint","_animateBackground","handleWidth","_stop","ACTIVE_STATE_CLASS","TabStrip","_buildButton","switchTo","tabs","tab","_setActiveItem","switchByFullUrl","currentItem","tabstrip","defer","module","$injector","$parse","$timeout","$defaultCompile","$log","withoutTimeout","OPTIONS_NOW","createDataSource","TreeList","TreeView","Scheduler","PivotGrid","PivotConfigurator","PanelBar","Menu","ContextMenu","toDataSource","$eval","ds","$watch","mew","kendoWidgetInstance","ignoredAttributes","kDataSource","kOptions","kRebind","kNgModel","kNgDelay","ignoredOwnProperties","createWidget","attrs","origAttr","controllers","delayValue","ngModel","ngForm","ctor","parsed","unresolved","unwatch","createIt","$root","unregister","$attr","originalElement","exposeWidget","$emit","destroyRegister","destroyWidgetOnScopeDestroy","setupRebind","kNgDisabled","isDisabled","bindToKNgDisabled","kNgReadonly","isReadonly","bindToKNgReadonly","bindToKNgModel","bindToNgModel","propagateClassToWidgetWrapper","optionsPath","optionsValue","defaultOptions","addOption","scopeValue","widgetOptions","widgetEvents","dataName","eventKey","optionName","oldValue","kendoWidget","assign","formValue","formRegExp","isForm","haveChangeOnElement","viewRender","$viewValue","$modelValue","$render","onChange","formPristine","$pristine","$setViewValue","$setPristine","digest","AutoComplete","currentVal","$isEmpty","DateRangePicker","rangePickerModels","rangePickerStartModel","rangePickerEndModel","_startDateInput","_endDateInput","updating","valueIsCollection","RangeSlider","currentValueLength","$angular_setLogicValue","watchHandler","$watchCollection","changeHandler","$setDirty","$angular_getLogicValue","deregister","$on","MutationObserver","prevClassList","classList","mo","changes","suspend","chg","w","attributeName","currClassList","cls","ComboBox","resume","disconnect","observe","rebindAttr","_cleanUp","templateOptions","WIDGET_TEMPLATE_OPTIONS","templateContents","isUpload","replaceChild","setTemplate","factory","kendoRenderedTimeout","RENDERED","restrict","require","$attrs","$element","roleattr","TAGNAMES","Editor","NumericTextBox","DatePicker","DateTimePicker","TimePicker","ColorPicker","MaskedTextBox","Upload","MobileButton","MobileBackButton","MobileDetailButton","MobileListView","SKIP_SHORTCUTS","MANUAL_DIRECTIVES","directive","createDirectives","klass","isMobile","make","directiveName","directiveFactory","shortcut","dashed","tag","scopeField","kScopeField","isDigesting","destroyScope","encode","encOpen","encClose","pendingPatches","defadvice","origMethod","self","entry","arg","$angular_scope","$angular_init","itemScope","$$kendoScope","vars","$new","$angular_makeEventHandler","kendoEvent","locals","elems","columns","colIdx","isString","selectable","_checkBoxSelection","angularDataItem","templateSettings","col","encoded","terminal","pre","_instance","post","kAttr","priority","TreeMap","MobileScrollView","Grid","templateDirectives","templates","templateName","outerHTML"],"mappings":"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"}